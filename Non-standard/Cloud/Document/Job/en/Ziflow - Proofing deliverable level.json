{
    "DashboardDefinitionRoles": [],
    "Id": "93dcbb50-f6d5-42f2-8aef-ad6d02434fb7",
    "Name": "Proofing",
    "Active": true,
    "Location": 1,
    "DocumentId": "00000000-0000-0000-0000-000000000000",
    "DocumentName": "",
    "DocumentTypeName": "job",
    "DocumentsConfiguration": "[\n    {\n        \"entity\": \"Proofing\",\n        \"operations\": {\n            \"read\": {\n                \"endpoint\": \"\"\n            },\n            \"update\": {\n                \"endpoint\": \"\",\n                \"model\": {}\n            },\n            \"create\": {\n                \"endpoint\": \"\",\n                \"model\": {}\n            },\n            \"patch\": {\n                \"endpoint\": \"\",\n                \"model\": [\n                    {\n                        \"field\": \"\",\n                        \"caption\": \"\",\n                        \"type\": \"\"\n                    }\n                ]\n            },\n            \"remove\": {\n                \"endpoint\": \"\"\n            },\n            \"lookup\": {\n                \"endpoint\": \"\"\n            },\n            \"lookupById\": {\n                \"endpoint\": \"\"\n            }\n        },\n        \"layout\": {\n            \"create\": {},\n            \"read\": {},\n            \"patch\": {}\n        },\n        \"customDocument\": {\n            \"useCustomStyle\": false,\n            \"mainColor\": \"red\",\n            \"secondaryColor\": \"red\",\n            \"imageClass\": \"\",\n            \"namePlural\": \"Proofing\",\n            \"name\": \"Proofing\",\n            \"systemName\": \"Proofing\"\n        },\n        \"availableOptions\": {\n            \"feed\": false,\n            \"info\": true,\n            \"files\": false,\n            \"userfields\": false,\n            \"workspaces\": false\n        },\n        \"fields\": []\n    }\n]",
    "Templates": [],
    "DashboardDefinitionComponents": [
        {
            "Id": "2f04f942-bc36-45f6-bbf9-5630ee138c10",
            "Name": "",
            "Active": true,
            "UseQuery": false,
            "Query": "",
            "Size": 12,
            "Order": 0,
            "Parameters": "[\n    {\n        \"WidgetSubTitle\": \"\",\n        \"WidgetType\": \"tileview\",\n        \"WidgetFilterField\": \"\",\n        \"WidgetColor\": \"\",\n        \"WidgetFrameStyle\": {\n            \"margin-left\": \"-15px\"\n        },\n        \"WidgetXPosition\": 0,\n        \"WidgetYPosition\": 0,\n        \"WidgetRows\": 23,\n        \"WidgetColumns\": 48,\n        \"WidgetHeader\": {\n            \"showTitle\": false,\n            \"showSubTitle\": false,\n            \"WidgetMetrics\": {\n                \"visible\": false,\n                \"Metrics\": []\n            },\n            \"WidgetPeriodChooser\": {\n                \"visible\": false,\n                \"type\": \"\",\n                \"startDate\": null,\n                \"endDate\": null\n            }\n        },\n        \"WidgetDataSources\": {\n            \"main\": {\n                \"type\": \"queryempty\",\n                \"value\": \"\",\n                \"mapping\": \"\"\n            }\n        },\n        \"Filters\": {},\n        \"QueryConfiguration\": {\n            \"PreviousPeriod\": {\n                \"Show\": false,\n                \"KeyFieldName\": \"\",\n                \"Type\": 0\n            },\n            \"RequiredFilters\": []\n        }\n    }\n]",
            "DashboardComponentType": {
                "Id": "be9c4895-90b8-4755-9054-caa7770b6a09",
                "Name": "Generic Dashboard",
                "ComponentTypeNumber": 42
            },
            "AnalyticsApiUrl": "",
            "Configuration": "{\"dataSource\":{\"load\":\"function (e){ \\n    \\n    var jobId = SW.getCurrentDocumentId('job'); \\n    return SW.executeAPI('GET', 'jobs/' + jobId).then(j => {return SW.executeAPI('POST', 'integration-workflows/866157ff-a54e-4da4-b345-d6e0a977379f/execute', null, '{\\\\\\\"jobNumber\\\\\\\":\\\\\\\"' + j.Job.Number + '\\\\\\\"}').then(p => { return p.proofs; });            });\\n}\"},\"onRowClick\":\"function (e){ SW.saveComponent(e.data.public_link,'plink2');    SW.setDashboardFilter('plink',e.data.public_link); }\",\"itemTemplate\":\"function(itemData, itemIndex, itemElement) {\\n    if (itemData != null) {\\n        var h = document.createElement('div');\\n        itemElement.append(h);\\n        SW.setAttribute(h, null, 'class', 'file-container', false);\\n        SW.setAttribute(h, null, 'style', 'text-align: center;width: 135px;', false);\\n        var h1 = document.createElement('div');\\n        h.append(h1);\\n        SW.setAttribute(h1, null, 'style', 'background-color: #e0e0e0; border-radius: 4px; height:100px; display: flex; align-items : center; justify-content: center;', false);\\n        var g1 = document.createElement('div');\\n        h.append(g1);\\n        SW.setAttribute(g1, null, 'style', 'color: #acacac; text-align: left;', false);\\n        SW.setAttribute(g1, null, 'class', 'ellipsis', false);\\n        g1.innerHTML = itemData.name;\\n        var h2 = document.createElement('img');\\n        h2.src = itemData.thumbnail_link;\\n        h1.appendChild(h2);\\n        SW.setAttribute(h2, null, 'style', 'max-width: 100%;max-height:100%', false);\\n        var j1 = document.createElement('div');\\n        SW.setAttribute(j1, null, 'style', 'display: flex; justify-content: space-between;', false);\\n        h.append(j1);\\n        var j3 = document.createElement('div');\\n        j1.append(j3);\\n        j3.innerHTML = 'v' + itemData.version;\\n        SW.setAttribute(j3, null, 'style', 'color: #acacac;', false);\\n        \\n        var j4 = document.createElement('div');\\n        j1.append(j4);\\n        SW.setAttribute(j4, null, 'style', 'display:flex', false);\\n        SW.setAttribute(j4, null, 'id', 'image-thumbnail', false);\\n        var jh1 = document.createElement('div');\\n        j4.append(jh1);\\n        var jh2 = document.createElement('div');\\n        j4.append(jh2);\\n        SW.setAttribute(jh2, null, 'style', 'margin: -2px 0px 0px 5px;', false);\\n        var jh3 = document.createElement('span');\\n        //j4.append(jh3);\\n        SW.setAttribute(jh3, null, 'style', 'margin: -2px 0px 0px 5px;', false);\\n        if (itemData.decision_status == 'approved_with_changes') {\\n            h2.innerHTML = ' Approved with changes';\\n            SW.setAttribute(jh1, null, 'class', 'fa fa-check-circle text-success', false);\\n        } else {\\n            if (itemData.status == 'in_progress') {\\n                jh2.innerHTML = ' In Progress';\\n                SW.setAttribute(jh1, null, 'class', 'fa fa-clock-o text-warning', false);\\n            }\\n            if (itemData.status == 'completed') {\\n                jh2.innerHTML = ' Completed';\\n                SW.setAttribute(jh1, null, 'class', 'fa fa-flag-checkered', false);\\n            }\\n        }\\n        var a = itemData.stages;\\n        a.forEach(function (entry) {\\n            var deadline = '';\\n            if (entry.deadline != null && new Date(entry.deadline) < new Date() && deadline == '') {\\n                console.log(entry.deadline);\\n                deadline = entry.deadline;\\n                jh3.innerHTML = 'LATE';\\n                SW.setAttribute(jh3, null, 'class', 'module-tags module-tags-dot module-tags-text', false);\\n                SW.setAttribute(jh3, null, 'style', 'margin: -8px 0px 0px 5px;background: #FF605C;', false)\\n            }\\n        });\\n        var j5 = document.createElement('span');\\n        j1.append(j5);\\n        \\n    };\\n}\",\"stateStoring\":{\"enabled\":false},\"onItemClick\":\"function (e) { \\n\\n    var proofId = e.itemData.id;\\n    var userEmail = SW.getComponent('userEmail');\\n    var stageId = e.itemData.stages[0].id;\\n    if (!userEmail) { return SW.Toastr.toastr_Error('Your e-mail is currently missing. Please complete your profile to preview this proof.') }\\n    SW.Toastr.toastr_Success('Loading proof...');\\n\\n    SW.executeAPI('POST', 'integration-workflows/e2721d86-82d4-4b04-9be2-afb9b5570eca/execute', null, '{\\\\\\\"stageId\\\\\\\":\\\\\\\"' + stageId + '\\\\\\\",\\\\\\\"email\\\\\\\":\\\\\\\"' + userEmail + '\\\\\\\", \\\\\\\"proofId\\\\\\\":\\\\\\\"' + proofId + '\\\\\\\"}').then(x => {\\n        if (x.status != null && x.status != 200) {\\n            SW.Toastr.toastr_Error(x.error + ' - ' + x.message)\\n        }\\n        else {\\n            var id = 'b70e1a00-3f43-45ab-bb04-04ba1e34e254';\\n            SW.genericPopup('automation', [{ Id: id, Title: 'Proofing' }], x.proof_url, '90%', '90%', false);\\n        }\\n    });\\n\\n    }\",\"baseItemHeight\":\"150\",\"baseItemWidth\":\"135\",\"direction\":\"horizontal\",\"showScrollbar\":true,\"height\":\"200\",\"onItemContextMenu\":\"function(e) { \\n    var proofId = e.itemData.id;\\n    var userEmail = SW.getComponent('userEmail');\\n    var stageId = e.itemData.stages[0].id;\\n\\n    if (!userEmail) { return SW.Toastr.toastr_Error('Your e-mail is currently missing. Please complete your profile before request an One Time URL.') }\\n    SW.Toastr.toastr_Info('Generating One Time URL');\\n    SW.executeAPI('POST', 'integration-workflows/e2721d86-82d4-4b04-9be2-afb9b5570eca/execute', null, '{\\\\\\\"stageId\\\\\\\":\\\\\\\"' + stageId + '\\\\\\\",\\\\\\\"email\\\\\\\":\\\\\\\"' + userEmail + '\\\\\\\", \\\\\\\"proofId\\\\\\\":\\\\\\\"' + proofId + '\\\\\\\"}').then(x => {\\n        if (x.status != null && x.status != 200) {\\n            SW.Toastr.toastr_Error(x.error + ' - ' + x.message)\\n        }\\n        else {\\n\\n            var aux = document.createElement(\\\"textarea\\\");\\n            document.body.appendChild(aux);\\n            aux.value = x.proof_url;\\n            aux.select();\\n            document.execCommand(\\\"copy\\\");\\n            document.body.removeChild(aux);\\n            SW.Toastr.toastr_Success('One-Time URL copied successfully.')\\n        }\\n    });\\n}\",\"onContentReady\":\"function() {\\n    var user = SW.executeAPI('GET', 'users/' + SW.getCurrentUserInfo().currentUserId).then(u => { if (u.Mail) { SW.saveComponent(u.Mail, 'userEmail') } });\\n}\"}",
            "DashboardDefinitionId": "93dcbb50-f6d5-42f2-8aef-ad6d02434fb7"
        }
    ],
    "QueryText": "",
    "UseStore": false,
    "StoreEntity": null,
    "Version": 9,
    "Default": false
}
