{
  "DashboardDefinitionRoles": [
    {
      "AccessRoleId": "29e9c439-5395-4774-a436-ff279ba7cded",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07",
      "AccessRoleName": "Regional Profile"
    },
    {
      "AccessRoleId": "37bb1c74-f352-4a97-a363-b442659a92b7",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07",
      "AccessRoleName": "Administrator"
    },
    {
      "AccessRoleId": "29e2dfc3-79f6-4c19-a386-ea1a9e35e300",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07",
      "AccessRoleName": "admin"
    },
    {
      "AccessRoleId": "e43ed103-6aec-4bb3-9b60-bbedeb5ea713",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07",
      "AccessRoleName": "Maintenance Profile V2"
    },
    {
      "AccessRoleId": "e43ed103-6aec-4bb3-9b60-bbedeb5ea713",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07",
      "AccessRoleName": "Maintenance Profile V2"
    },
    {
      "AccessRoleId": "e43ed103-6aec-4bb3-9b60-bbedeb5ea713",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07",
      "AccessRoleName": "Maintenance Profile V2"
    },
    {
      "AccessRoleId": "37bb1c74-f352-4a97-a363-b442659a92b7",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07",
      "AccessRoleName": "Administrator"
    },
    {
      "AccessRoleId": "29e9c439-5395-4774-a436-ff279ba7cded",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07",
      "AccessRoleName": "Regional Profile"
    },
    {
      "AccessRoleId": "29e2dfc3-79f6-4c19-a386-ea1a9e35e300",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07",
      "AccessRoleName": "admin"
    },
    {
      "AccessRoleId": "29e9c439-5395-4774-a436-ff279ba7cded",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07",
      "AccessRoleName": "Regional Profile"
    },
    {
      "AccessRoleId": "29e2dfc3-79f6-4c19-a386-ea1a9e35e300",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07",
      "AccessRoleName": "admin"
    },
    {
      "AccessRoleId": "37bb1c74-f352-4a97-a363-b442659a92b7",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07",
      "AccessRoleName": "Administrator"
    }
  ],
  "Id": "6ca01878-05f3-4996-bc51-c54ed7067b07",
  "Name": "Consolidated Utilization",
  "Active": true,
  "Location": 0,
  "DocumentId": "00000000-0000-0000-0000-000000000000",
  "DocumentName": "",
  "DocumentTypeName": null,
  "DocumentsConfiguration": "{\"type\":\"\",\"operations\":{\"read\":{\"endpoint\":\"\"},\"update\":{\"endpoint\":\"\",\"model\":{}},\"create\":{\"endpoint\":\"\",\"model\":{}},\"remove\":{\"endpoint\":\"\"}},\"layout\":{\"create\":{},\"read\":{}},\"customDocument\":{\"mainColor\":\"\",\"secondaryColor\":\"\",\"imageClass\":\"\",\"namePlural\":\"\",\"name\":\"\",\"systemNames\":\"\"},\"availableOptions\":{\"feed\":false,\"info\":true,\"files\":false,\"userfields\":false,\"dashboard\":false}}",
  "Templates": [

  ],
  "DashboardDefinitionComponents": [
    {
      "Id": "f4744498-b49d-498e-98a8-0aa27abe650d",
      "Name": "",
      "Active": true,
      "UseQuery": false,
      "Query": "",
      "Size": 12,
      "Order": 0,
      "Parameters": "[\r\n    {\r\n        \"WidgetSubTitle\": \"\",\r\n        \"WidgetType\": \"rangeselector\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"#efefef\",\r\n        \"WidgetFrameStyle\": {},\r\n        \"WidgetXPosition\": 0,\r\n        \"WidgetYPosition\": 2,\r\n        \"WidgetRows\": 4,\r\n        \"WidgetColumns\": 48,\r\n        \"WidgetHeader\": {\r\n            \"showTitle\": false,\r\n            \"showSubTitle\": false,\r\n            \"WidgetMetrics\": {\r\n                \"visible\": false,\r\n                \"Metrics\": []\r\n            },\r\n            \"WidgetPeriodChooser\": {\r\n                \"visible\": false,\r\n                \"type\": \"\",\r\n                \"startDate\": null,\r\n                \"endDate\": null\r\n            }\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"querytext\",\r\n                \"value\": \"SELECT  SUM(v.[Hours]) as [Hours],\\r\\n        iif(month(v.[Month]) = 12, DATEFROMPARTS(year(v.[Month]), month(v.[Month]), 31), v.[Month]) as Month \\r\\nFROM\\r\\n(\\r\\n        SELECT  SUM(v.ActualTime) as [Hours],\\r\\n                DATEFROMPARTS(v.[Year], v.[Month], 1) as [Month]\\r\\n        FROM    Analytics.DatamartTimesheet/*(@CurrentUserId)*/ v\\r\\n        WHERE\\tv.Year = @Year\\r\\n\\t\\t\\t\\tand (v.CompanyId = @CompanyOid or @CompanyOid = '00000000-0000-0000-0000-000000000000')\\r\\n        GROUP BY DATEFROMPARTS(v.[Year], v.[Month], 1)\\r\\n        UNION ALL\\r\\n        SELECT  SUM(v.[Hours]) as [Hours],\\r\\n                DATEFROMPARTS(v.[Year], v.[Month], 1) as [Month]\\r\\n        FROM    Analytics.DatamartLeave/*(@CurrentUserId)*/ v\\r\\n        WHERE\\tv.Year = @Year\\r\\n\\t\\t\\t\\tand (v.CompanyId = @CompanyOid or @CompanyOid = '00000000-0000-0000-0000-000000000000')\\r\\n        GROUP BY DATEFROMPARTS(v.[Year], v.[Month], 1)\\r\\n        UNION ALL\\r\\n        SELECT  SUM(v.[Hours]) as [Hours],\\r\\n                DATEFROMPARTS(v.[Year], v.[Month], 1) as [Month]\\r\\n        FROM    Analytics.DatamartHoliday/*(@CurrentUserId)*/ v\\r\\n        WHERE\\tv.Year = @Year\\r\\n\\t\\t\\t\\tand (v.CompanyId = @CompanyOid or @CompanyOid = '00000000-0000-0000-0000-000000000000')\\r\\n        GROUP BY DATEFROMPARTS(v.[Year], v.[Month], 1)\\r\\n) v\\r\\nGROUP BY v.[Month]\",\r\n                \"mapping\": \"\"\r\n            }\r\n        },\r\n        \"Filters\": {},\r\n        \"QueryConfiguration\": {\r\n            \"PreviousPeriod\": {\r\n                \"Show\": false,\r\n                \"KeyFieldName\": \"\",\r\n                \"Type\": 0\r\n            },\r\n            \"RequiredFilters\": [\r\n                \"year\",\r\n                \"CompanyOid\"\r\n            ]\r\n        }\r\n    }\r\n]",
      "DashboardComponentType": {
        "Id": "319d5cdf-9bca-4fec-b03f-d18df1d207ba",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "",
      "Configuration": "{\"size\":{\"height\":100},\"chart\":{\"commonSeriesSettings\":{\"type\":\"steparea\",\"argumentField\":\"Month\"},\"series\":[{\"valueField\":\"Hours\"}]},\"scale\":{\"minorTickInterval\":\"month\",\"tickInterval\":\"month\",\"valueType\":\"datetime\",\"label\":{\"font\":{\"family\":\"Varela Round\",\"weight\":800}}},\"sliderMarker\":{\"format\":\"monthAndDay\",\"color\":\"#da5859\",\"font\":{\"family\":\"Varela Round\",\"weight\":800}}}",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07"
    },
    {
      "Id": "c1f61963-84e9-426e-be86-5b2fdcff4aee",
      "Name": "Utilization by Client",
      "Active": true,
      "UseQuery": false,
      "Query": null,
      "Size": 6,
      "Order": 3,
      "Parameters": "[{\"WidgetSubTitle\":\"Time spent on Clients per Company\",\"WidgetType\":\"chart\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#e0e0e0\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":0,\"WidgetYPosition\":6,\"WidgetRows\":13,\"WidgetColumns\":24,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":true,\"metricName\":\"# Planned\",\"metricFieldValue\":\"PlannedTimeGrandTotal\"}]},\"showSubTitle\":false,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"select\\ttop 15 v.Client,\\r\\n\\t\\t(v.[Hours] / iif(v.[TotalHours] > 0, v.[TotalHours], 1.0)) as UtilizationPercentage\\r\\nfrom\\t(\\r\\n\\t\\t\\tselect\\tiif(v.Client like '%Unilever%', 'Unilever', v.Client) as Client,\\t\\r\\n\\t\\t\\t\\t\\tsum(v.ActualTime) as [Hours],\\r\\n\\t\\t\\t\\t\\tsum(sum(v.ActualTime)) over() as [TotalHours]\\r\\n\\t\\t\\tfrom\\tAnalytics.DatamartTimesheet/*(@CurrentUserId)*/ v\\r\\n\\t\\t\\twhere\\tv.[Date] between @FromDate and @ToDate\\r\\n\\t\\t\\t\\t\\tand (v.CompanyId = @CompanyOid or @CompanyOid = '00000000-0000-0000-0000-000000000000')\\r\\n\\t\\t\\tgroup by iif(v.Client like '%Unilever%', 'Unilever', v.Client)\\r\\n\\t\\t) v\\r\\norder by 2 desc\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\",\"CompanyOid\"]}}]",
      "DashboardComponentType": {
        "Id": "319d5cdf-9bca-4fec-b03f-d18df1d207ba",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "globalQuery/Analytics_Utilization_Totals/execute",
      "Configuration": "{\n    \"barWidth\": 0.3,\n    \"commonSeriesSettings\": {\n        \"type\": \"bar\",\n        \"ignoreEmptyPoints\": true,\n        \"cornerRadius\": \"2px\",\n        \"label\": {\n            \"visible\": true,\n            \"showForZeroValues\": false,\n            \"format\": \"percent\",\n            \"font\": {\n                \"family\": \"Varela Round\",\n                \"weight\": 800\n            }\n        }\n    },\n    \"size\": {\n        \"height\": 260\n    },\n    \"tooltip\": {\n        \"format\": \"percent\"\n    },\n    \"argumentAxis\": {\n        \"label\": {\n            \"font\": {\n                \"family\": \"Varela Round\",\n                \"size\": 8,\n                \"weight\": 400\n            }\n        }\n    },\n    \"valueAxis\": {\n        \"label\": {\n            \"format\": \"percent\",\n            \"font\": {\n                \"family\": \"Varela Round\",\n                \"weight\": 800\n            }\n        }\n    },\n    \"series\": [\n        {\n            \"name\": \"Client\",\n            \"argumentField\": \"Client\",\n            \"valueField\": \"UtilizationPercentage\",\n            \"label\": {\n                \"visible\": true,\n                \"format\": \"percent\",\n                \"font\": {\n                    \"family\": \"Varela Round\",\n                    \"weight\": 800\n                }\n            }\n        }\n    ],\n    \"legend\": {\n        \"visible\": false,\n        \"horizontalAlignment\": \"left\",\n        \"verticalAlignment\": \"middle\",\n        \"itemTextPosition\": \"right\",\n        \"paddingLeftRight\": 0,\n        \"font\": {\n            \"family\": \"Varela Round\",\n            \"size\": 8,\n            \"weight\": 800\n        }\n    },\n    \"resolveLabelOverlapping\": \"shift\",\n    \"dataPrepareSettings\": {\n        \"sortingMethod\": false\n    }\n}",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07"
    },
    {
      "Id": "96be6289-a4f9-4e19-a76b-667ba21ca577",
      "Name": "Utilization by Project Type ",
      "Active": true,
      "UseQuery": false,
      "Query": null,
      "Size": 3,
      "Order": 5,
      "Parameters": "[{\"WidgetSubTitle\":\"Time spent on the different Project Types\",\"WidgetType\":\"pie\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#e0e0e0\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":24,\"WidgetYPosition\":6,\"WidgetRows\":13,\"WidgetColumns\":12,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":true,\"metricName\":\"# Planned\",\"metricFieldValue\":\"PlannedTimeGrandTotal\"}]},\"showSubTitle\":false,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"select\\tv.ProjectTypeName,\\r\\n\\t\\t(v.[Hours] / IIF(v.[TotalHours] > 0, v.[TotalHours], 1.0)) as UtilizationPercentage\\r\\nfrom\\t(\\r\\n\\t\\t\\tselect\\tv.ProjectTypeName,\\t\\r\\n\\t\\t\\t\\t\\tSUM(v.ActualTime) as [Hours],\\r\\n\\t\\t\\t\\t\\tSUM(SUM(v.ActualTime)) OVER () as [TotalHours]\\r\\n\\t\\t\\tfrom\\tAnalytics.DatamartTimesheet/*(@CurrentUserId)*/ v\\r\\n\\t\\t\\twhere\\tv.[Date] between @FromDate and @ToDate and\\r\\n\\t\\t\\t\\t\\t(v.CompanyId = @CompanyOid or @CompanyOid = '00000000-0000-0000-0000-000000000000')\\r\\n\\t\\t\\tgroup by v.ProjectTypeName\\r\\n\\t\\t) v\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\",\"CompanyOid\"]}}]",
      "DashboardComponentType": {
        "Id": "319d5cdf-9bca-4fec-b03f-d18df1d207ba",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "globalQuery/Analytics_Utilization_Totals/execute",
      "Configuration": "{\n    \"commonSeriesSettings\": {\n        \"type\": \"doughnut\",\n        \"ignoreEmptyPoints\": true,\n        \"smallValuesGrouping\": {\n            \"mode\": \"topN\",\n            \"topCount\": 8,\n            \"groupName\": \"Others\"\n        }\n    },\n    \"size\": {\n        \"height\": 260\n    },\n    \"tooltip\": {\n        \"format\": \"percent\"\n    },\n    \"argumentAxis\": {\n        \"label\": {\n            \"font\": {\n                \"size\": 8\n            }\n        }\n    },\n    \"valueAxis\": {\n        \"label\": {\n            \"format\": \"percent\"\n        }\n    },\n    \"series\": [\n        {\n            \"argumentField\": \"ProjectTypeName\",\n            \"valueField\": \"UtilizationPercentage\",\n            \"label\": {\n                \"visible\": true,\n                \"format\": \"fixedPoint\",\n                \"position\": \"inside\",\n                \"showForZeroValues\": false,\n                \"font\": {\n                    \"family\": \"Varela Round\",\n                    \"weight\": 800\n                },\n                \"customizeText\": \"function(arg) { return arg.percentText; }\"\n            }\n        }\n    ],\n    \"legend\": {\n        \"visible\": true,\n        \"horizontalAlignment\": \"left\",\n        \"verticalAlignment\": \"middle\",\n        \"itemTextPosition\": \"right\",\n        \"paddingLeftRight\": 0,\n        \"font\": {\n            \"family\": \"Varela Round\",\n            \"weight\": 800,\n            \"size\": 8\n        }\n    },\n    \"resolveLabelOverlapping\": \"shift\"\n}",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07"
    },
    {
      "Id": "8be11255-59d0-4d78-b51c-84500a667068",
      "Name": "Utilization by Department",
      "Active": true,
      "UseQuery": false,
      "Query": "",
      "Size": 3,
      "Order": 5,
      "Parameters": "[{\"WidgetSubTitle\":\"\",\"WidgetType\":\"chart\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#e0e0e0\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":36,\"WidgetYPosition\":6,\"WidgetRows\":13,\"WidgetColumns\":12,\"WidgetHeader\":{\"showTitle\":true,\"showSubTitle\":false,\"WidgetMetrics\":{\"visible\":true,\"Metrics\":[{\"visible\":true,\"metricName\":\"Company Total Hours\",\"metricFieldValue\":\"TotalHours\"}]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"select\\r\\n\\t\\tv.Department,\\r\\n\\t\\tround((v.NewBussinessTimeHours / IIF(v.TotalHours > 0, v.TotalHours, 1.0)) * 100, 0) as NonBillablePercentage,\\r\\n\\t\\tround((v.BillableHours / IIF(v.TotalHours > 0, v.TotalHours, 1.0)) * 100, 0) as BillablePercentage,\\r\\n\\t\\tv.TotalHours\\r\\nfrom (\\r\\n\\tselect\\tv.Department, \\r\\n\\t\\t\\tsum(v.NewBusinessTime) as NewBussinessTimeHours,\\r\\n\\t\\t\\tsum(v.BillableTime) as BillableHours,\\r\\n\\t\\t\\tsum(sum(v.ActualTime)) OVER () as TotalHours\\r\\n\\tfrom\\r\\n\\t\\t\\tAnalytics.DatamartTimesheet/*(@CurrentUserId)*/ v\\r\\n\\twhere\\tv.[Date] between @FromDate and @ToDate and\\r\\n\\t\\t\\t(v.CompanyId = @CompanyOid or @CompanyOid = '00000000-0000-0000-0000-000000000000')\\r\\n\\t\\t\\t\\r\\n\\tgroup by \\r\\n\\t\\t\\tv.Department\\r\\n\\t) v\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[\"startDate\",\"endDate\",\"CompanyOid\"]}}]",
      "DashboardComponentType": {
        "Id": "319d5cdf-9bca-4fec-b03f-d18df1d207ba",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "",
      "Configuration": "{\r\n    \"commonSeriesSettings\": {\r\n        \"barWidth\": 25,\r\n        \"type\": \"stackedBar\",\r\n        \"cornerRadius\": \"2px\",\r\n        \"label\": {\r\n            \"showForZeroValues\": false,\r\n            \"visible\": true,\r\n            \"customizeText\": \"function (info) { return info.valueText + '%'; }\",\r\n            \"font\": {\r\n                \"size\": 10,\r\n                \"family\": \"Varela Round\",\r\n                \"weight\": 800\r\n            },\r\n            \"backgroundColor\": \"#00000000\"\r\n        },\r\n        \"argumentField\": \"Department\"\r\n    },\r\n    \"barWidth\": 0.3,\r\n    \"argumentAxis\": {\r\n        \"label\": {\r\n            \"font\": {\r\n                \"family\": \"Varela Round\",\r\n                \"size\": 10,\r\n                \"weight\": 800\r\n            }\r\n        }\r\n    },\r\n    \"series\": [\r\n        {\r\n            \"valueField\": \"NonBillablePercentage\",\r\n            \"name\": \"Non Billable\"\r\n        },\r\n        {\r\n            \"valueField\": \"BillablePercentage\",\r\n            \"name\": \"Billable\"\r\n        }\r\n    ],\r\n    \"legend\": {\r\n        \"visible\": true,\r\n        \"horizontalAlignment\": \"center\",\r\n        \"verticalAlignment\": \"bottom\",\r\n        \"columnCount\": 2,\r\n        \"font\": {\r\n            \"family\": \"Varela Round\",\r\n            \"size\": 10,\r\n            \"weight\": 800\r\n        }\r\n    }\r\n}",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07"
    },
    {
      "Id": "ceb91306-1e2e-4631-87bc-8b6eb83e139a",
      "Name": "Company and Client Group",
      "Active": true,
      "UseQuery": false,
      "Query": null,
      "Size": 12,
      "Order": 0,
      "Parameters": "[{\"WidgetSubTitle\":\"Choose a Company or Client Group\",\"WidgetType\":\"form\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#efefef\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":0,\"WidgetYPosition\":0,\"WidgetRows\":2,\"WidgetColumns\":48,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":false,\"metricName\":\"# Forecast\",\"metricFieldValue\":\"TimeGrandTotal\"},{\"visible\":false,\"metricName\":\"# Actual\",\"metricFieldValue\":\"UtilizationPercentGrandTotal\"}]},\"showSubTitle\":false,\"showTitle\":false},\"WidgetDataSources\":{\"main\":{\"type\":\"queryempty\",\"value\":\"SELECT 1;\"}},\"Filters\":{},\"QueryConfiguration\":{}}]",
      "DashboardComponentType": {
        "Id": "319d5cdf-9bca-4fec-b03f-d18df1d207ba",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "globalQuery/Analytics_Utilization_Per_Company_Department_User/execute",
      "Configuration": "{\n    \"rowCount\": 1,\n    \"colCount\": 3,\n    \"items\": [\n        {\n            \"name\": \"Year\",\n            \"dataField\": \"Year\",\n            \"editorType\": \"dxNumberBox\",\n            \"editorOptions\": {\n                \"showSpinButtons\": true,\n                \"value\": 2020,\n                \"width\": 65,\n                \"placeholder\": \"year\",\n                \"onContentReady\": \"function(e){ setTimeout(function() { \n                                                    SkillsWorkflow.setDashboardFilter('year',\n                2020); \n                                                    SkillsWorkflow.setDashboardFilter('CompanyOid', '00000000-0000-0000-0000-000000000000');\n            },\n            1000)\n        } \",\n            \"onValueChanged\": \"function(e){ if(e.value != null) { SkillsWorkflow.setDashboardFilter('year', e.value); }  } \"\n    },\n    \"noDataText\": \"Please wait...\"\n},\n{\n    \"dataField\": \"CompanyId\",\n    \"label\": {\n        \"text\": \"Company\"\n    },\n    \"editorType\": \"dxSelectBox\",\n    \"editorOptions\": {\n        \"width\": 200,\n        \"searchEnabled\": true,\n        \"dataSource\": {\n            \"load\": \"function(loadOptions){ \n                        var searchValue = (loadOptions.searchValue != null ? loadOptions.searchValue : ''); \n                        var searchTake = (loadOptions.searchValue != null && loadOptions.searchValue != '' ? 10 : 100); \n                        return SkillsWorkflow.executeAPI('GET', 'companies/lookup',\n            null,\n            {} ).then(function(res){ res.push({Id: '00000000-0000-0000-0000-000000000000', Name:'All companies'\n                } );return res;\n            } )\n        }\",\n                \"byKey\": \"function(key) { return SW.executeAPI('GET','companies/'+key+'/lookup',null,{} ).then( result =>  { return Promise.resolve(result);} ) } \"\n    },\n    \"placeholder\": \"All companies\",\n    \"displayExpr\": \"Name\",\n    \"valueExpr\": \"Id\",\n    \"onValueChanged\": \"function(e){ \n                if( e.value != null && e.value != '') {\n                    SkillsWorkflow.setDashboardFilter('CompanyOid', e.value);\n    } else {\n                    SkillsWorkflow.setDashboardFilter('CompanyOid', '00000000-0000-0000-0000-000000000000');\n    } \n}\",\n            \"onInitialized\": \"function(e){ SW.saveComponent(e.component,'CompanyId');} \"\n}\n}\n]\n}",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07"
    },
    {
      "Id": "ad19bed6-ad92-4e01-8ed3-aa4c640698b8",
      "Name": "Utilization by User",
      "Active": true,
      "UseQuery": false,
      "Query": null,
      "Size": 6,
      "Order": 6,
      "Parameters": "[{\"WidgetSubTitle\":\"Client, Admin and Internal Time spent per User\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":0,\"WidgetYPosition\":19,\"WidgetRows\":18,\"WidgetColumns\":24,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":false,\"metricName\":\"# Forecast\",\"metricFieldValue\":\"TimeGrandTotal\"},{\"visible\":false,\"metricName\":\"# Actual\",\"metricFieldValue\":\"UtilizationPercentGrandTotal\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"WITH UsersCapacity AS\\n(\\n\\tSELECT \\n\\t\\tu.Oid AS UserId,\\n\\t\\t(\\n\\t\\t\\t(\\n\\t\\t\\t\\t(\\n\\t\\t\\t\\t\\t(DATEDIFF(dd, @FromDate, @ToDate) + 1)\\n\\t\\t\\t\\t\\t-(DATEDIFF(wk, @FromDate, @ToDate) * 2)\\n\\t\\t\\t\\t\\t-(CASE WHEN DATENAME(dw, @FromDate) = 'Sunday' THEN 1 ELSE 0 END)\\n\\t\\t\\t\\t\\t-(CASE WHEN DATENAME(dw, @ToDate) = 'Saturday' THEN 1 ELSE 0 END)\\n\\t\\t\\t\\t) + 1 \\n\\t\\t\\t)\\n\\t\\t\\t-\\n\\t\\t\\t(\\n\\t\\t\\t\\t(SELECT COUNT(*) FROM Analytics.DatamartLeave dl WHERE dl.UserId = u.Oid AND dl.[Date] BETWEEN @FromDate AND @ToDate)\\n\\t\\t\\t\\t+\\n\\t\\t\\t\\t(SELECT COUNT(*) FROM Analytics.DatamartHoliday dh WHERE dh.UserId = u.Oid AND dh.[Date] BETWEEN @FromDate AND @ToDate)\\n\\t\\t\\t)\\n\\t\\t) * u.RequiredHours AS WorkingHours,\\n\\t\\t(SELECT ISNULL(SUM(dl.[Hours]), 0.0) FROM Analytics.DatamartLeave dl WHERE dl.UserId = u.Oid AND dl.[Date] BETWEEN @FromDate AND @ToDate) AS Leaves,\\n\\t\\t(SELECT ISNULL(SUM(dh.[Hours]), 0.0) FROM Analytics.DatamartHoliday dh WHERE dh.UserId = u.Oid AND dh.[Date] BETWEEN @FromDate AND @ToDate) as Holidays\\n\\tFROM\\n\\t\\t[User] u\\n\\tWHERE\\n\\t\\t(u.Company = @CompanyOid or @CompanyOid = '00000000-0000-0000-0000-000000000000')\\n),\\nUsersHours AS\\n(\\n\\tSELECT\\n\\t\\tdt.Department,\\n\\t\\tdt.UserTypologyGroup,\\t\\n\\t\\tdt.[UserId],\\n\\t\\tdt.[User],\\n\\t\\tdt.Company,\\n\\t\\tSUM(dt.ActualTime) AS [Hours],\\n\\t\\tSUM(dt.AdministrativeTime) AS [AdministrativeHours],\\n\\t\\tSUM(ISNULL(dt.InternalWorkTime, 0.0)) AS [InternalWorkHours],\\n\\t\\tSUM(dt.NewBusinessTime) AS [NewBusinessHours],\\n\\t\\tSUM(dt.BillableTime) AS [BillableHours],\\n\\t\\tSUM(ISNULL(dt.BillableTime, 0.0) - ISNULL(dt.[InternalWorkTime], 0.0)) as [ClientHours],\\n\\t\\tSUM(ISNULL(dt.[ActualTime] - (dt.[AdministrativeTime] + dt.[NewBusinessTime] + dt.[BillableTime]), 0.0)) as [NonWorkedHours]\\n\\tfrom\\t\\n\\t\\tAnalytics.DatamartTimesheet/*(@CurrentUserId)*/ dt\\n\\twhere\\t\\n\\t\\tdt.[Date] BETWEEN @FromDate AND @ToDate and\\n\\t\\t(dt.CompanyId = @CompanyOid or @CompanyOid = '00000000-0000-0000-0000-000000000000')\\n\\tGROUP BY\\n\\t\\tdt.Company,\\n\\t\\tdt.Department,\\n\\t\\tdt.UserTypologyGroup,\\t\\n\\t\\tdt.[UserId],\\n\\t\\tdt.[User]\\n)\\nSELECT \\n\\tuh.Company,\\n\\tuh.Department,\\n\\tuh.UserTypologyGroup,\\n\\tuh.[User],\\n\\tuh.UserId,\\n\\tuh.[Hours],\\n\\tuh.AdministrativeHours,\\n\\tuh.InternalWorkHours,\\n\\tuh.NewBusinessHours,\\n\\tuh.BillableHours,\\n\\tuh.ClientHours,\\n\\tuh.NonWorkedHours,\\n\\tuc.WorkingHours AS Capacity,\\n\\tuc.Leaves AS Leaves,\\n\\tIIF(uc.WorkingHours > 0, ISNULL(uh.[BillableHours], 0.0) / uc.WorkingHours, 1.0) as UtilizationPercentage,\\n\\tIIF(uc.WorkingHours > 0, ISNULL(uh.[NewBusinessHours], 0.0) / uc.WorkingHours, 1.0) as UtilizationNonBillablePercentage\\nFROM \\n\\tUsersHours uh,\\n\\tUsersCapacity uc\\nWHERE\\n\\tuh.UserId = uc.UserId\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\",\"CompanyOid\"]}}]",
      "DashboardComponentType": {
        "Id": "319d5cdf-9bca-4fec-b03f-d18df1d207ba",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "globalQuery/Analytics_Utilization_Per_Company_Department_User/execute",
      "Configuration": "{\r\n    \"grouping\": {\r\n        \"autoExpandAll\": true\r\n    },\r\n    \"columnResizingMode\": \"widget\",\r\n    \"allowColumnResizing\": \"true\",\r\n    \"allowFiltering\": true,\r\n    \"columnAutoWidth\": \"true\",\r\n    \"searchPanel\": {\r\n        \"visible\": true\r\n    },\r\n    \"selection\": {\r\n        \"mode\": \"single\"\r\n    },\r\n    \"onSelectionChanged\": \"function (selectedItems) {      var data = selectedItems.selectedRowsData[0];      if(data) {          SW.setDashboardFilter('userId', data.UserId);    }  }\",\r\n    \"height\": \"400\",\r\n    \"scrolling\": {\r\n        \"mode\": \"virtual\"\r\n    },\r\n    \"columnMinWidth\": \"80\",\r\n    \"columns\": [\r\n        {\r\n            \"visible\": false,\r\n            \"dataField\": \"Company\",\r\n            \"caption\": \"Company\",\r\n            \"width\": 120\r\n        },\r\n        {\r\n            \"dataField\": \"Department\",\r\n            \"caption\": \"Department\",\r\n            \"width\": 120,\r\n            \"groupIndex\": 0\r\n        },\r\n        {\r\n            \"dataField\": \"UserTypologyGroup\",\r\n            \"name\": \"Typology Group\",\r\n            \"caption\": \"Typology\",\r\n            \"width\": 120\r\n        },\r\n        {\r\n            \"dataField\": \"UserId\",\r\n            \"name\": \"Picture\",\r\n            \"caption\": \"Picture\",\r\n            \"width\": 30,\r\n            \"alignment\": \"left\",\r\n            \"cellTemplate\": \"function(e, i) {        SW.showImage(e, 'user', 'small', i.text, i.data.User);      }\"\r\n        },\r\n        {\r\n            \"dataField\": \"User\",\r\n            \"name\": \"User\",\r\n            \"caption\": \"User\",\r\n            \"width\": 120\r\n        },\r\n        {\r\n            \"dataField\": \"Capacity\",\r\n            \"caption\": \"Capacity\",\r\n            \"alignment\": \"right\",\r\n            \"format\": \"#,##0\"\r\n        },\r\n        {\r\n            \"dataField\": \"UtilizationNonBillablePercentage\",\r\n            \"caption\": \"Non Billable %\",\r\n            \"name\": \"UtilizationNonBillable\",\r\n            \"alignment\": \"right\",\r\n            \"format\": \"#,##0\",\r\n            \"cellTemplate\": \"function(e, i) { SW.setRAG(e, (i.value * 100.0).toFixed(1) + '%', i.value >= 1.2, i.value < 0.8, (i.value >= 0.8 && i.value < 1.2), true); }\"\r\n        },\r\n        {\r\n            \"dataField\": \"UtilizationPercentage\",\r\n            \"caption\": \"Billable %\",\r\n            \"name\": \"Utilization\",\r\n            \"alignment\": \"right\",\r\n            \"format\": \"#,##0\",\r\n            \"cellTemplate\": \"function(e, i) { SW.setRAG(e, (i.value * 100.0).toFixed(1) + '%', i.value >= 1.2, i.value < 0.8, (i.value >= 0.8 && i.value < 1.2), true); }\"\r\n        },\r\n        {\r\n            \"dataField\": \"Leaves\",\r\n            \"caption\": \"Leaves\",\r\n            \"alignment\": \"right\",\r\n            \"format\": \"#,##0\"\r\n        },\r\n        {\r\n            \"dataField\": \"NewBusinessHours\",\r\n            \"caption\": \"Non-Billable\",\r\n            \"name\": \"NonBillable\",\r\n            \"alignment\": \"right\",\r\n            \"format\": \"#,##0\"\r\n        },\r\n        {\r\n            \"dataField\": \"AdministrativeHours\",\r\n            \"caption\": \"Admin\",\r\n            \"name\": \"Admin\",\r\n            \"alignment\": \"right\",\r\n            \"format\": \"#,##0\"\r\n        },\r\n        {\r\n            \"dataField\": \"BillableHours\",\r\n            \"caption\": \"Billable\",\r\n            \"alignment\": \"right\",\r\n            \"format\": \"#,##0\"\r\n        }\r\n    ],\r\n    \"sortByGroupSummaryInfo\": [\r\n        {\r\n            \"summaryItem\": \"count\"\r\n        }\r\n    ],\r\n    \"summary\": {\r\n        \"totalItems\": [\r\n            {\r\n                \"column\": \"Capacity\",\r\n                \"summaryType\": \"sum\",\r\n                \"valueFormat\": \"#,##0\",\r\n                \"displayFormat\": \"{0}\",\r\n                \"alignment\": \"right\"\r\n            },\r\n            {\r\n                \"column\": \"Leaves\",\r\n                \"summaryType\": \"sum\",\r\n                \"valueFormat\": \"#,##0\",\r\n                \"displayFormat\": \"{0}\",\r\n                \"alignment\": \"right\"\r\n            },\r\n            {\r\n                \"column\": \"NewBusinessHours\",\r\n                \"summaryType\": \"sum\",\r\n                \"valueFormat\": \"#,##0\",\r\n                \"displayFormat\": \"{0}\",\r\n                \"alignment\": \"right\"\r\n            },\r\n            {\r\n                \"column\": \"AdministrativeHours\",\r\n                \"summaryType\": \"sum\",\r\n                \"valueFormat\": \"#,##0\",\r\n                \"displayFormat\": \"{0}\",\r\n                \"alignment\": \"right\"\r\n            },\r\n            {\r\n                \"column\": \"BillableHours\",\r\n                \"summaryType\": \"sum\",\r\n                \"valueFormat\": \"#,##0\",\r\n                \"displayFormat\": \"{0}\",\r\n                \"alignment\": \"right\"\r\n            }\r\n        ]\r\n    }\r\n}",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07"
    },
    {
      "Id": "3797a3fa-77bf-4783-bfaf-efcb9b215671",
      "Name": "User Projects",
      "Active": true,
      "UseQuery": false,
      "Query": null,
      "Size": 6,
      "Order": 7,
      "Parameters": "[{\"WidgetSubTitle\":\"Different Projects the User was or is involved in\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":24,\"WidgetYPosition\":19,\"WidgetRows\":18,\"WidgetColumns\":24,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":false,\"metricName\":\"# Forecast\",\"metricFieldValue\":\"TimeGrandTotal\"},{\"visible\":false,\"metricName\":\"# Actual\",\"metricFieldValue\":\"UtilizationPercentGrandTotal\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"WITH UsersCapacity AS\\n(\\n\\tSELECT \\n\\t\\tu.Oid AS UserId,\\n\\t\\t(\\n\\t\\t\\t(\\n\\t\\t\\t\\t(\\n\\t\\t\\t\\t\\t(DATEDIFF(dd, @FromDate, @ToDate) + 1)\\n\\t\\t\\t\\t\\t-(DATEDIFF(wk, @FromDate, @ToDate) * 2)\\n\\t\\t\\t\\t\\t-(CASE WHEN DATENAME(dw, @FromDate) = 'Sunday' THEN 1 ELSE 0 END)\\n\\t\\t\\t\\t\\t-(CASE WHEN DATENAME(dw, @ToDate) = 'Saturday' THEN 1 ELSE 0 END)\\n\\t\\t\\t\\t) + 1 \\n\\t\\t\\t)\\n\\t\\t\\t-\\n\\t\\t\\t(\\n\\t\\t\\t\\t(SELECT COUNT(*) FROM Analytics.DatamartLeave dl WHERE dl.UserId = u.Oid AND dl.[Date] BETWEEN @FromDate AND @ToDate)\\n\\t\\t\\t\\t+\\n\\t\\t\\t\\t(SELECT COUNT(*) FROM Analytics.DatamartHoliday dh WHERE dh.UserId = u.Oid AND dh.[Date] BETWEEN @FromDate AND @ToDate)\\n\\t\\t\\t)\\n\\t\\t) * u.RequiredHours AS WorkingHours,\\n\\t\\t(SELECT ISNULL(SUM(dl.[Hours]), 0.0) FROM Analytics.DatamartLeave dl WHERE dl.UserId = u.Oid AND dl.[Date] BETWEEN @FromDate AND @ToDate) AS Leaves,\\n\\t\\t(SELECT ISNULL(SUM(dh.[Hours]), 0.0) FROM Analytics.DatamartHoliday dh WHERE dh.UserId = u.Oid AND dh.[Date] BETWEEN @FromDate AND @ToDate) as Holidays\\n\\tFROM\\n\\t\\t[User] u\\n\\tWHERE\\n\\t\\tu.Oid = @UserId\\n),\\nUsersHours AS\\n(\\n\\tSELECT\\n\\t\\tdt.ClientGroup,\\n\\t\\tdt.Client,\\n\\t\\tdt.[UserId],\\n\\t\\tdt.[User],\\n\\t\\tdt.ProjectClassificationName,\\n\\t\\tdt.ProjectTypeName,\\n\\t\\tSUM(dt.ActualTime) AS [Hours],\\n\\t\\tSUM(dt.AdministrativeTime) AS [AdministrativeHours],\\n\\t\\tSUM(ISNULL(dt.InternalWorkTime, 0.0)) AS [InternalWorkHours],\\n\\t\\tSUM(dt.NewBusinessTime) AS [NewBusinessHours],\\n\\t\\tSUM(dt.BillableTime) AS [BillableHours],\\n\\t\\tSUM(ISNULL(dt.BillableTime, 0.0) - ISNULL(dt.[InternalWorkTime], 0.0)) as [ClientHours],\\n\\t\\tSUM(ISNULL(dt.[ActualTime] - (dt.[AdministrativeTime] + dt.[NewBusinessTime] + dt.[BillableTime]), 0.0)) as [NonWorkedHours]\\n\\tFROM \\n\\t\\tAnalytics.DatamartTimesheet/*(@CurrentUserId)*/ dt\\n\\tWHERE\\n\\t\\tdt.[Date] BETWEEN @FromDate AND @ToDate\\n\\t\\tAND dt.UserId = @UserId\\n\\tGROUP BY\\n\\t\\tdt.ClientGroup,\\n\\t\\tdt.Client,\\n\\t\\tdt.[UserId],\\n\\t\\tdt.[User],\\n\\t\\tdt.ProjectClassificationName,\\n\\t\\tdt.ProjectTypeName\\n)\\nSELECT \\n\\tuh.ClientGroup,\\n\\tuh.Client,\\n\\tuh.[User],\\n\\tuh.ProjectClassificationName,\\n\\tuh.ProjectTypeName,\\n\\tuh.[Hours],\\n\\tuh.AdministrativeHours,\\n\\tuh.InternalWorkHours,\\n\\tuh.NewBusinessHours,\\n\\tuh.BillableHours,\\n\\tuh.ClientHours,\\n\\tuh.NonWorkedHours,\\n\\tuc.WorkingHours AS Capacity,\\n\\tuc.Leaves AS Leaves,\\n\\tIIF(uc.WorkingHours > 0, ISNULL(uh.[BillableHours], 0.0) / uc.WorkingHours, 1.0) as UtilizationPercentage,\\n\\tIIF(uc.WorkingHours > 0, ISNULL(uh.[NewBusinessHours], 0.0) / uc.WorkingHours, 1.0) as UtilizationNonBillablePercentage\\nFROM \\n\\tUsersHours uh,\\n\\tUsersCapacity uc\\nWHERE\\n\\tuh.UserId = uc.UserId\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\",\"userId\"]}}]",
      "DashboardComponentType": {
        "Id": "319d5cdf-9bca-4fec-b03f-d18df1d207ba",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "globalQuery/Analytics_Utilization_Per_Company_Department_User/execute",
      "Configuration": "{\"columnResizingMode\":\"widget\",\"allowColumnResizing\":\"true\",\"allowFiltering\":true,\"columnAutoWidth\":\"true\",\"grouping\":{\"autoExpandAll\":true},\"searchPanel\":{\"visible\":true},\"height\":\"400\",\"scrolling\":{\"mode\":\"virtual\"},\"selection\":{\"mode\":\"none\"},\"columnMinWidth\":\"80\",\"columns\":[{\"dataField\":\"Client\",\"caption\":\"Client\",\"width\":120},{\"dataField\":\"ProjectClassificationName\",\"name\":\"ProjectClassificationName\",\"caption\":\"Classification\",\"width\":120},{\"dataField\":\"ProjectTypeName\",\"name\":\"ProjectTypeName\",\"caption\":\"Type\",\"width\":120,\"groupIndex\":0},{\"dataField\":\"ClientHours\",\"caption\":\"Client \",\"name\":\"ClientHours\",\"alignment\":\"right\",\"format\":\"#,##0\"},{\"dataField\":\"NewBusinessHours\",\"caption\":\"Non-Billable\",\"name\":\"NonBillable\",\"alignment\":\"right\",\"format\":\"#,##0\"},{\"dataField\":\"BillableHours\",\"caption\":\"Billable\",\"alignment\":\"right\",\"format\":\"#,##0\"},{\"dataField\":\"UtilizationPercentage\",\"caption\":\"Billable %\",\"name\":\"Utilization\",\"alignment\":\"right\",\"format\":\"#,##0\",\"cellTemplate\":\"function(e, i) {          SK.setRAG(e, (i.value * 100.0).toFixed(1), i.value >= 1.2 , i.value < 0.8, (i.value >= 0.8 && i.value < 1.2), true);        }\"},{\"dataField\":\"UtilizationNonBillablePercentage\",\"caption\":\"Non Billable %\",\"name\":\"UtilizationNonBillable\",\"alignment\":\"right\",\"format\":\"#,##0\",\"cellTemplate\":\"function(e, i) {          SK.setRAG(e, (i.value * 100.0).toFixed(1), i.value >= 1.2, i.value < 0.8, (i.value >= 0.8 && i.value < 1.2), true);      }\"}],\"sortByGroupSummaryInfo\":[{\"summaryItem\":\"count\"}],\"summary\":{\"totalItems\":[{\"column\":\"Capacity\",\"summaryType\":\"sum\",\"valueFormat\":\"#,##0\",\"displayFormat\":\"{0}\",\"alignment\":\"right\"},{\"column\":\"Leaves\",\"summaryType\":\"sum\",\"valueFormat\":\"#,##0\",\"displayFormat\":\"{0}\",\"alignment\":\"right\"}]}}",
      "DashboardDefinitionId": "6ca01878-05f3-4996-bc51-c54ed7067b07"
    }
  ],
  "QueryText": null,
  "UseStore": false,
  "StoreEntity": null,
  "Version": 7,
  "Default": false
}
