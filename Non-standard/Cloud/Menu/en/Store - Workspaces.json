{
  "DashboardDefinitionRoles": [],
  "Id": "02d2a69c-39c6-4894-b77f-9c148a28ea91",
  "Name": "Store - Workspaces",
  "Active": true,
  "Location": 0,
  "DocumentId": "00000000-0000-0000-0000-000000000000",
  "DocumentName": "",
  "DocumentTypeName": null,
  "DocumentsConfiguration": "{}",
  "Templates": [],
  "DashboardDefinitionComponents": [
    {
      "Id": "b4e26196-c1c8-4cbc-af29-1dfd9d23f6d2",
      "Name": "Latest Commits",
      "Active": true,
      "UseQuery": false,
      "Query": "",
      "Size": 5,
      "Order": 2,
      "Parameters": "[{\"WidgetSubTitle\":\"By file\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#ffffff\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":28,\"WidgetYPosition\":0,\"WidgetRows\":11,\"WidgetColumns\":20,\"WidgetHeader\":{\"showTitle\":true,\"showSubTitle\":true,\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[]}}]",
      "DashboardComponentType": {
        "Id": "3c1da83b-efe9-4b70-87d0-c3813a512774",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "",
      "Configuration": "{\"height\":\"300\",\"scrolling\":{\"mode\":\"virtual\",\"showScrollbar\":\"onHover\"},\"columnAutoWidth\":false,\"dataSource\":{\"load\":\"function f(e) {\\n    var url = \\\"\\\";\\n    var config = SW.getConfiguration();\\n    if (config.environmentType == 0) {\\n        url = \\\"https://skillsworkspacesstore.blob.core.windows.net/development/dashboardslist.json\\\"\\n    } else if (config.environmentType == 1) {\\n        url = \\\"https://skillsworkspacesstore.blob.core.windows.net/test/dashboardslist.json\\\"\\n    } else if (config.environmentType == 2) {\\n        url = \\\"https://skillsworkspacesstore.blob.core.windows.net/production/dashboardslist.json\\\"\\n    }\\n    return SkillsWorkflow.Storage.getWorkspacesFromStorage(url).then(\\n        x => {\\n            return x;\\n        }\\n    );\\n}\"},\"stateStoring\":{\"enabled\":false},\"columns\":[{\"dataField\":\"\",\"caption\":\"\",\"cellTemplate\":\"function(e, i){ if(i.data.LastCommit.ModifiedBy.ImageUrl != null && i.data.LastCommit.ModifiedBy.ImageUrl != ''){                    SkillsWorkflow.Utils.setExternalImage(e, 'small', i.data.LastCommit.ModifiedBy.ImageUrl);                }else{                    SkillsWorkflow.Utils.setExternalImage(e, 'small', 'https://cdn.pixabay.com/photo/2013/07/13/12/07/avatar-159236_960_720.png');                 }                   }\",\"width\":38,\"alignment\":\"center\"},{\"dataField\":\"LastCommit.ModifiedBy.Name\",\"caption\":\"Name\"},{\"caption\":\"Time Ago\",\"alignment\":\"center\",\"calculateDisplayValue\":\"function(data){ return SkillsWorkflow.Utils.timeAgo(data.LastCommit.ModifiedOn);}\"},{\"dataField\":\"Name\",\"caption\":\"Workspace\"},{\"dataField\":\"LastCommit.Commits\",\"caption\":\"Message\"},{\"dataField\":\"LastCommit.ModifiedOn\",\"sortOrder\":\"desc\",\"visible\":false}],\"selection\":{\"mode\":\"none\"},\"sorting\":{\"mode\":\"simple\"},\"onRowClick\":\"function(e){\\n    var id = 'c6462f06-8439-498b-a2f8-37e1afce7a16';\\n    SW.genericPopup('', [{Id: id, Title:'Preview'}], e.data);\\n}\"}",
      "DashboardDefinitionId": "2b581141-6b45-4e8a-aec1-10049e991637"
    },
    {
      "Id": "96bd2d36-48af-4e74-a18a-5a846e6aa96c",
      "Name": "Most changed",
      "Active": true,
      "UseQuery": false,
      "Query": "",
      "Size": 5,
      "Order": 2,
      "Parameters": "[{\"WidgetSubTitle\":\"Top 10\",\"WidgetType\":\"pie\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":28,\"WidgetYPosition\":11,\"WidgetRows\":12,\"WidgetColumns\":20,\"WidgetHeader\":{\"showTitle\":true,\"showSubTitle\":true,\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[]}}]",
      "DashboardComponentType": {
        "Id": "3c1da83b-efe9-4b70-87d0-c3813a512774",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "",
      "Configuration": "{\"dataSource\":{\"load\":\"function f(e) {\\n    var url = \\\"\\\";\\n    var config = SW.getConfiguration();\\n    if (config.environmentType == 0) {\\n        url = \\\"https://skillsworkspacesstore.blob.core.windows.net/development/dashboardslist.json\\\"\\n    } else if (config.environmentType == 1) {\\n        url = \\\"https://skillsworkspacesstore.blob.core.windows.net/test/dashboardslist.json\\\"\\n    } else if (config.environmentType == 2) {\\n        url = \\\"https://skillsworkspacesstore.blob.core.windows.net/production/dashboardslist.json\\\"\\n    }\\n    return SkillsWorkflow.Storage.getWorkspacesFromStorage(url).then(\\n        x => {\\n            var bla = x.map(x => {\\n                    return {Name: x.Name, Changes: x.LastCommit.Changes}\\n                }\\n            );\\n            return bla.sort((a, b) => {\\n                return b.Changes - a.Changes}).slice(0, 10);\\n        }\\n    );\\n}\"},\"size\":{\"height\":\"300\"},\"type\":\"doughnut\",\"series\":[{\"argumentField\":\"Name\",\"valueField\":\"Changes\",\"label\":{\"visible\":true,\"font\":{\"size\":15},\"connector\":{\"visible\":true,\"width\":0.5},\"position\":\"columns\",\"customizeText\":\"function(arg) {                        return arg.valueText;        }\"}}],\"commonSeriesSettings\":{\"label\":{\"visible\":false,\"format\":\"fixedPoint\",\"connector\":{\"visible\":true,\"width\":1}}},\"tooltip\":{\"enabled\":\"true\"},\"legend\":{\"visible\":\"true\",\"horizontalAlignment\":\"left\",\"verticalAlignment\":\"middle\",\"itemTextPosition\":\"right\",\"paddingLeftRight\":0,\"font\":{\"size\":\"10\"}}}",
      "DashboardDefinitionId": "2b581141-6b45-4e8a-aec1-10049e991637"
    },
    {
      "Id": "aa8e54b4-7cb3-4347-ac39-f9d4ef3fbad5",
      "Name": "Available Workspaces",
      "Active": true,
      "UseQuery": false,
      "Query": "",
      "Size": 7,
      "Order": 1,
      "Parameters": "[{\"WidgetSubTitle\":\"Looking for a workspace?\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#ffffff\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":0,\"WidgetYPosition\":0,\"WidgetRows\":23,\"WidgetColumns\":28,\"WidgetHeader\":{\"showTitle\":true,\"showSubTitle\":true,\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"queryempty\",\"value\":\"\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[]}}]",
      "DashboardComponentType": {
        "Id": "3c1da83b-efe9-4b70-87d0-c3813a512774",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "",
      "Configuration": "{\n    \"dataSource\": {\n        \"load\": \"function bla(e){\\n    var url = \\\"\\\";\\n    var config = SW.getConfiguration();\\n    if(!config){\\n        SW.Toastr.toastr_Error('Cant get config');\\n        return;\\n    }\\n    if(config.environmentType == 0){\\n        url = \\\"https://skillsworkspacesstore.blob.core.windows.net/development/dashboardslist.json\\\";\\n    } else if (config.environmentType == 1){\\n        url = \\\"https://skillsworkspacesstore.blob.core.windows.net/test/dashboardslist.json\\\";\\n    } else if (config.environmentType == 2){\\n        url = \\\"https://skillsworkspacesstore.blob.core.windows.net/production/dashboardslist.json\\\";\\n    }\\n    return SkillsWorkflow.Storage.getWorkspacesFromStorage(url).then(\\n        x => { \\n            return x;\\n        }\\n    );\\n}\"\n    },\n    \"grouping\": {\n        \"autoExpandAll\": true\n    },\n    \"scrolling\": {\n        \"mode\": \"virtual\",\n        \"showScrollbar\": \"onHover\"\n    },\n    \"stateStoring\": {\n        \"enabled\": false\n    },\n    \"columns\": [\n        {\n            \"width\": 38,\n            \"visibleIndex\": 8,\n            \"type\": \"buttons\",\n            \"buttons\": [\n                {\n                    \"hint\": \"Update to latest version\",\n                    \"visible\": \"function(e){ if(e.row.data.IsInstalled && e.row.data.VersionInstalled < e.row.data.Version){ return true; } else { return false }}\",\n                    \"icon\": \"fal fa-arrow-circle-up\",\n                    \"cssClass\": \"skills-button\",\n                    \"onClick\": \"function(e) { e.component.option('icon','fas fa-spinner fa-spin'); e.component.option('disabled', true);var proxy = 'https://cors-anywhere.herokuapp.com/'; SW.Storage.importWorkspaces([proxy+e.row.data.FileUrl]).then( x=> {e.row.data.IsInstalled = true; e.row.data.VersionInstalled = e.row.data.Version; e.component.option('disabled', false); e.component.repaint()}).catch(x => {e.component.option('disabled', false); e.component.refresh()}); }\"\n                },\n                {\n                    \"hint\": \"Install\",\n                    \"visible\": \"function(e){if(!e.row.data.IsInstalled){ return true; } else { return false }}\",\n                    \"icon\": \"fal fa-plus-circle\",\n                    \"cssClass\": \"skills-button\",\n                    \"onClick\": \"function(e) { e.component.option('icon','fas fa-spinner fa-spin'); e.component.option('disabled', true);var proxy = 'https://cors-anywhere.herokuapp.com/'; SW.Storage.importWorkspaces([proxy+e.row.data.FileUrl]).then( x=> {e.row.data.IsInstalled = true; e.row.data.VersionInstalled = e.row.data.Version; e.component.option('disabled', false); e.component.repaint()}).catch(x => {e.component.option('disabled', false); e.component.refresh()}); }\"\n                }\n            ]\n        },\n        {\n            \"dataField\": \"\",\n            \"caption\": \"\",\n            \"cellTemplate\": \"function(e, i) {var name = ''; if(i.data.DocumentTypeName){ name = i.data.DocumentTypeName } else { name = i.data.Name }; SkillsWorkflow.showDocumentImage(e, 'medium', name, name)}\",\n            \"width\": 38\n        },\n        {\n            \"dataField\": \"Name\",\n            \"caption\": \"Name\"\n        },\n        {\n            \"caption\": \"\",\n            \"width\": 38,\n            \"alignment\": \"center\",\n            \"cellTemplate\": \"function(e, i){  if(i.data.LastCommit.ModifiedBy.ImageUrl != null && i.data.LastCommit.ModifiedBy.ImageUrl!='' ){        SkillsWorkflow.Utils.setExternalImage(e, 'small', i.data.LastCommit.ModifiedBy.ImageUrl);} else {SkillsWorkflow.Utils.setExternalImage(e, 'small', 'https:/'+'/cdn.pixabay.com/photo/2013/07/13/12/07/avatar-159236_960_720.png');}}\"\n        },\n        {\n            \"dataField\": \"LastCommit.ModifiedBy.Name\",\n            \"caption\": \"Modified By\",\n            \"alignment\": \"left\"\n        },\n        {\n            \"dataField\": \"LastCommit.ModifiedOn\",\n            \"caption\": \"Modified On\",\n            \"dataType\": \"date\",\n            \"alignment\": \"center\"\n        },\n        {\n            \"dataField\": \"LastCommit.ModifiedOn\",\n            \"caption\": \"Days Ago\",\n            \"dataType\": \"int\",\n            \"cellTemplate\": \"function(e, i) { var result = SkillsWorkflow.Utils.timeAgo(i.value, 'days'); SkillsWorkflow.setRAG(e, result, result >= 365, result > 30 && result <365, result <= 30, true);}\",\n            \"alignment\": \"center\"\n        },\n        {\n            \"dataField\": \"Location\",\n            \"caption\": \"Location\",\n            \"calculateDisplayValue\": \"function(data){ if(data.Location == 0){ return 'Menu' }; if(data.Location == 1){ return 'Document' }; if(data.Location == 2){ return 'Configuration' }; if(data.Location == 3){ return 'Home' }; if(data.Location == 4){ return 'Mobile' } else { return 'Others' } }\",\n            \"groupCellTemplate\": \"function(e, i) { h=document.createElement('span'); var ht=' ' + i.text + ' ('+i.data.aggregates[0]+')'; h.innerHTML = ht;e.append(h);}\",\n            \"groupIndex\": 0\n        },\n        {\n            \"dataField\": \"IsInstalled\",\n            \"width\": \"80px\",\n            \"caption\": \"Versions\",\n            \"cellTemplate\": \"function(e, i) {SkillsWorkflow.setVersionRag(e, i.data.VersionInstalled, i.data.Version, true);}\",\n            \"alignment\": \"right\"\n        }\n    ],\n    \"summary\": {\n        \"groupItems\": [\n            {\n                \"column\": \"Location\",\n                \"summaryType\": \"count\",\n                \"displayFormat\": \"{0}\",\n                \"showInGroupFooter\": false,\n                \"alignByColumn\": true\n            }\n        ]\n    },\n    \"onToolbarPreparing\": \"function(e) { \\n    var dataGrid = e.component;  \\n    e.toolbarOptions.items.unshift(\\n        { \\n            location: 'after', widget: 'dxButton', \\n            options: {\\n                icon: 'fal fa-plus-circle', \\n                hint: 'Install selected workspaces',\\n                onClick: \\n                    function(data) {\\n                        var selectedDashboards = dataGrid.getSelectedRowKeys();\\n                        if(selectedDashboards.length == 0){\\n                            SW.Toastr.toastr_Error(\\\"Select a workspace first\\\");\\n                            return;\\n                        }\\n                        data.component.option('icon', 'fas fa-spinner fa-spin');\\n                        dataGrid.option('disabled', true);\\n                        var proxy = \\\"https://cors-anywhere.herokuapp.com/\\\";\\n                        var paths = selectedDashboards.map(x => proxy+x.FileUrl );\\n                        SW.Storage.importWorkspaces(paths)\\n                        .then(\\n                            x => {\\n                                selectedDashboards.forEach(x => {\\n                                    x.VersionInstalled = x.Version;\\n                                    x.IsInstalled = true;\\n                                });\\n                                data.component.option('icon', 'fas fa-file-download');\\n                                dataGrid.option('disabled', false);\\n                                dataGrid.repaint();\\n                            }\\n                        )\\n                        .catch(\\n                            x => {\\n                                data.component.option('icon', 'fas fa-file-download');\\n                                dataGrid.option('disabled', false);\\n                            }\\n                        ) ;\\n                    }\\n            }\\n        }\\n    );\\n}\",\n    \"height\": \"600px\"\n}",
      "DashboardDefinitionId": "2b581141-6b45-4e8a-aec1-10049e991637"
    }
  ],
  "QueryText": "",
  "UseStore": false,
  "StoreEntity": null,
  "Version": 10,
  "Default": false
}
