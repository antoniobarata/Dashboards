{
  "DashboardDefinitionRoles": [],
  "Id": "0b10195f-3434-40d3-8126-d4f267a55a9d",
  "Name": "Rentabilidade",
  "Active": true,
  "Location": 0,
  "DocumentId": "00000000-0000-0000-0000-000000000000",
  "DocumentName": "",
  "DocumentTypeName": null,
  "DocumentsConfiguration": "{}",
  "Templates": [],
  "DashboardDefinitionComponents": [
    {
      "Id": "fb804d95-60d3-4694-bb4f-98814aca8276",
      "Name": "% Contribuição por Cliente",
      "Active": true,
      "UseQuery": false,
      "Query": "",
      "Size": 12,
      "Order": 0,
      "Parameters": "[{\"WidgetSubTitle\":\"Closed and In Progress Tickets\",\"WidgetType\":\"chart\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#f0f0f0\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":0,\"WidgetYPosition\":0,\"WidgetRows\":7,\"WidgetColumns\":24,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"startDate\":\"2019/11/01\",\"endDate\":\"2019/12/30\",\"type\":\"year\",\"visible\":false},\"showSubTitle\":false,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"select\\ttop 15\\n        cli.Name as Client,\\n        iif(sum(sum(est.ValueWithoutVatIncome - est.ValueWithoutVatCost)) over () != 0, sum(est.ValueWithoutVatIncome - est.ValueWithoutVatCost) / sum(sum(est.ValueWithoutVatIncome - est.ValueWithoutVatCost)) over (), 0) as Contribution\\nfrom\\tEstimate est, WorkflowState wks, WorkflowStateType wst, CommercialClient cli\\nwhere\\tcli.Oid = est.Client and\\n        wks.Oid = est.WorkflowState and\\n        wst.Oid = wks.WorkflowStateType and\\n        wst.Status != 7 and\\n        RelatedEstimate is null\\ngroup by cli.Name\\norder by Contribution desc\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":null}]",
      "DashboardComponentType": {
        "Id": "a31684a8-554d-4182-82f4-03fadda0c7b6",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "",
      "Configuration": "{\n    \"onPointClick\": \"function (e) {\n            e.event.cancel = true;\n           var dataGrid = SW.getComponent('dataGrid');\n           dataGrid.clearFilter();\n            dataGrid.searchByText(e.target.data.Client);\n}\",\n    \"size\": {\n    \"height\": 130\n},\n\"commonSeriesSettings\": {\n    \"ignoreEmptyPoints\": true,\n    \"cornerRadius\": \"2px\",\n    \"argumentField\": \"Client\"\n},\n\"tooltip\": {\n    \"format\": \"percent\"\n},\n\"argumentAxis\": {\n    \"label\": {\n        \"overlappingBehavior\": \"none\",\n        \"wordWrap\": \"none\",\n        \"textOverflow\": \"ellipsis\",\n        \"font\": {\n            \"family\": \"Varela Round\",\n            \"size\": 8\n        }\n    }\n},\n\"valueAxis\": [\n    {\n        \"name\": \"MarginPercentage\",\n        \"label\": {\n            \"showForZeroValues\": false,\n            \"format\": \"percent\",\n            \"font\": {\n                \"family\": \"Varela Round\",\n                \"size\": 8\n            }\n        },\n        \"grid\": {\n            \"visible\": false\n        }\n    }\n],\n\"series\": [\n    {\n        \"name\": \"% Contribuição\",\n        \"axis\": \"MarginPercentage\",\n        \"valueField\": \"Contribution\",\n        \"type\": \"bar\",\n        \"font\": {\n            \"family\": \"Varela Round\",\n            \"size\": 10\n        },\n        \"label\": {\n            \"visible\": true,\n            \"format\": \"percent\"\n        }\n    }\n]\n}",
      "DashboardDefinitionId": "0b10195f-3434-40d3-8126-d4f267a55a9d"
    },
    {
      "Id": "f3f77b00-64a2-49f7-bd65-c6cd1167dae7",
      "Name": "Rentabilidade por Projeto",
      "Active": true,
      "UseQuery": false,
      "Query": null,
      "Size": 12,
      "Order": 5,
      "Parameters": "[{\"WidgetSubTitle\":\"\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":0,\"WidgetYPosition\":7,\"WidgetRows\":33,\"WidgetColumns\":48,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":true,\"metricName\":\"# Delayed Under Development\",\"metricFieldValue\":\"DelayedUnderDevelopmentJobsGrandTotal\"}]},\"showSubTitle\":false,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"with\\tt as \\n\\t\\t(\\n\\t\\tselect\\tbil.Company,\\n\\t\\t\\t\\tbil.Client,\\n                bil.Contract,\\n                bil.Project,\\n                est.RelatedEstimate,\\n\\t\\t\\t\\tsum(iif(bcl.RelatedCompany is not null, bil.ValueWithoutVat, 0)) as BilledInternal,\\n\\t\\t\\t\\tsum(iif(bcl.RelatedCompany is null, bil.ValueWithoutVat, 0)) as BilledExternal,\\n\\t\\t\\t\\tsum(bil.ValueWithoutVat) as Billed,\\n\\t\\t\\t\\t0 as EstimatedIncome,\\n\\t\\t\\t\\t0 as EstimatedCost,\\n\\t\\t\\t\\t0 as EstimatedCostInternal,\\n\\t\\t\\t\\t0 as EstimatedCostResources,\\n\\t\\t\\t\\t0 as EstimatedCostThirdParty,\\n\\t\\t\\t\\t0 as PurchasedInternal,\\n\\t\\t\\t\\t0 as PurchasedThirdParty\\n\\t\\tfrom\\tBill bil, Estimate est, Client bcl, WorkflowState wks, WorkflowStateType wst\\n\\t\\twhere\\test.Oid = bil.Estimate and\\n\\t\\t\\t\\tbcl.Oid = bil.BillingClient and\\n                wks.Oid = bil.WorkflowState and\\n                wst.Oid = wks.WorkflowStateType and\\n                wst.Status != 7 and\\n                bil.[External] is not null  \\n        group by bil.Company, bil.Client, bil.Contract, bil.Project, est.RelatedEstimate\\n\\t\\tunion all\\n\\t\\tselect\\test.Company,\\n\\t\\t\\t\\test.Client,\\n                est.Contract,\\n                est.Project,\\n                est.RelatedEstimate,\\n\\t\\t\\t\\t0 as BilledInternal,\\n\\t\\t\\t\\t0 as BilledExternal,\\n\\t\\t\\t\\t0 as Billed,\\n\\t\\t\\t\\tsum(eid.ValueWithoutVatIncome) as EstimatedIncome,\\n\\t\\t\\t\\tsum(eid.ValueWithoutVatCost) as EstimatedCost,\\n\\t\\t\\t\\tsum(iif(eid.Type = 0 and sup.RelatedCompany is not null, eid.ValueWithoutVatCost, 0)) as EstimatedCostInternal,\\n\\t\\t\\t\\tsum(iif(eid.Type = 2, eid.ValueWithoutVatCost, 0)) as EstimatedCostResources,\\n\\t\\t\\t\\tsum(iif(eid.Type = 0 and sup.RelatedCompany is null, eid.ValueWithoutVatCost, 0)) as EstimatedCostThirdParty,\\n\\t\\t\\t\\t0 as PurchasedInternal,\\n\\t\\t\\t\\t0 as PurchasedThirdParty\\n\\t\\tfrom\\tEstimate est, EstimateItem eit, WorkflowState wks, WorkflowStateType wst,\\n\\t\\t\\t\\tEstimateItemDetail eid left join Supplier sup on sup.Oid = eid.SupplierCost\\n\\t\\twhere\\teit.Estimate = est.Oid and\\n\\t\\t\\t\\teid.EstimateItem = eit.Oid and\\n                wks.Oid = est.WorkflowState and\\n                wst.Oid = wks.WorkflowStateType and\\n                wst.Status != 7\\n        group by est.Company, est.Client, est.Contract, est.Project, est.RelatedEstimate\\n\\t\\tunion all\\n\\t\\tselect\\test.Company,\\n\\t\\t\\t\\test.Client,\\n                est.Contract,\\n                est.Project,\\n                est.RelatedEstimate,\\n\\t\\t\\t\\t0 as BilledInternal,\\n\\t\\t\\t\\t0 as BilledExternal,\\n\\t\\t\\t\\t0 as Billed,\\n\\t\\t\\t\\t0 as EstimatedIncome,\\n\\t\\t\\t\\t0 as EstimatedCost,\\n\\t\\t\\t\\t0 as EstimatedCostInternal,\\n\\t\\t\\t\\t0 as EstimatedCostResources,\\n\\t\\t\\t\\t0 as EstimatedCostThirdParty,\\n\\t\\t\\t\\tsum(iif(sup.RelatedCompany is not null, por.ValueWithoutVat, 0)) as PurchasedInternal,\\n\\t\\t\\t\\tsum(iif(sup.RelatedCompany is null, por.ValueWithoutVat, 0)) as PurchasedThirdParty\\n\\t\\tfrom\\tPurchaseOrder por, Estimate est, Supplier sup, WorkflowState wks, WorkflowStateType wst\\n\\t\\twhere\\tpor.Estimate = est.Oid and\\n\\t\\t\\t\\tsup.Oid = por.Supplier and\\n                wks.Oid = por.WorkflowState and\\n                wst.Oid = wks.WorkflowStateType and\\n                wst.Status != 7 and\\n                por.[External] is not null \\n        group by est.Company, est.Client, est.Contract, est.Project, est.RelatedEstimate\\n\\t\\t)\\nselect\\tcom.Name as Company,\\n\\t\\tcom.Oid as CompanyId,\\n\\t\\tcom.HasImage as CompanyHasImage,\\n\\t\\t'Project' as WorkOrderType,\\n\\t\\tprj.Oid as WorkOrderId,\\n\\t\\tprj.Number as WorkOrderNumber,\\n\\t\\tprj.Name as WorkOrder,\\n\\t\\tstg.Name as Stage,\\n        isnull(stg.Color, wst.Color) as StageColor,\\n\\t\\tcli.Name as Client,\\n        cli.Oid as ClientId,\\n        cli.HasImage as ClientHasImage,\\n\\t\\tmax(prj.BeginDate) as StartDate,\\n        max(prj.EndDate) as EndDate,\\n        sum(t.BilledInternal) as BilledInternal,\\n\\t\\tsum(t.BilledExternal) as BilledExternal,\\n\\t\\tsum(t.Billed) as Billed,\\n        sum(iif(RelatedEstimate is null, t.EstimatedIncome - t.Billed, 0)) as Unbilled,\\n\\t\\tsum(t.EstimatedCostInternal) as EstimatedCostInternal,\\n\\t\\tsum(t.EstimatedCostThirdParty) as EstimatedCostThirdParty,\\n\\t\\tsum(t.EstimatedCostResources) as EstimatedCostResources,\\n\\t\\tsum(t.PurchasedInternal) as PurchasedInternal,\\n\\t\\tsum(t.PurchasedThirdParty) as PurchasedThirdParty,\\n\\t\\tsum(iif(RelatedEstimate is null, t.EstimatedIncome - t.EstimatedCost, 0)) as Margin,\\n        sum(iif(RelatedEstimate is not null, t.EstimatedIncome - t.EstimatedCost, 0)) as MarginInternal,\\n\\t\\tiif(sum(t.EstimatedIncome) != 0, sum(t.Billed) / sum(t.EstimatedIncome), 0) as BilledPercentage\\nfrom\\tt, Project prj, WorkflowState stg, WorkflowStateType wst, Company com, CommercialClient cli\\nwhere\\tprj.Oid = t.Project and\\n\\t\\tstg.Oid = prj.WorkflowState and\\n        wst.Oid = stg.WorkflowStateType and\\n\\t\\tcom.Oid = t.Company and\\n\\t\\tcli.Oid = t.Client \\ngroup by com.Name, com.Oid, com.HasImage, prj.Oid, prj.Number, prj.Name, stg.Name, stg.Color, wst.Color, cli.Name, cli.Oid, cli.HasImage\\nunion all\\nselect\\tcom.Name as Company,\\n\\t\\tcom.Oid as CompanyId,\\n\\t\\tcom.HasImage as CompanyHasImage,\\n\\t\\t'Contract' as WorkOrderType,\\n\\t\\tcnt.Oid as WorkOrderId,\\n\\t\\tcnt.Number as WorkOrderNmuber,\\n\\t\\tcnt.Name as WorkOrder,\\n\\t\\tstg.Name as Stage,\\n\\t\\tisnull(stg.Color, wst.Color) as StageColor,\\n\\t\\tcli.Name as Client,\\n        cli.Oid as ClientId,\\n        cli.HasImage as ClientHasImage,\\n        max(cnt.StartDate) as StartDate,\\n        max(cnt.EndDate) as EndDate,\\n\\t\\tsum(t.BilledInternal) as BilledInternal,\\n\\t\\tsum(t.BilledExternal) as BilledExternal,\\n\\t\\tsum(t.Billed) as Billed,\\n        sum(iif(RelatedEstimate is null, t.EstimatedIncome - t.Billed, 0)) as Unbilled,\\n\\t\\tsum(t.EstimatedCostInternal) as EstimatedCostInternal,\\n\\t\\tsum(t.EstimatedCostThirdParty) as EstimatedCostThirdParty,\\n\\t\\tsum(t.EstimatedCostResources) as EstimatedCostResources,\\n\\t\\tsum(t.PurchasedInternal) as PurchasedInternal,\\n\\t\\tsum(t.PurchasedThirdParty) as PurchasedThirdParty,\\n\\t\\tsum(iif(RelatedEstimate is null, t.EstimatedIncome - t.EstimatedCost, 0)) as Margin,\\n        sum(iif(RelatedEstimate is not null, t.EstimatedIncome - t.EstimatedCost, 0)) as MarginInternal,\\n\\t\\tiif(sum(t.EstimatedIncome) != 0, sum(t.Billed) / sum(t.EstimatedIncome), 0) as BilledPercentage\\nfrom\\tt, Contract cnt, WorkflowState stg, WorkflowStateType wst, Company com, CommercialClient cli\\nwhere\\tcnt.Oid = t.Contract and\\n\\t\\tstg.Oid = cnt.WorkflowState and\\n        wst.Oid = stg.WorkflowStateType and\\n        t.Project is null and\\n\\t\\tcom.Oid = t.Company and\\n\\t\\tcli.Oid = t.Client \\ngroup by com.Name, com.Oid, com.HasImage, cnt.Oid, cnt.Number, cnt.Name, stg.Name, stg.Color, wst.Color, cli.Name, cli.Oid, cli.HasImage\\n\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[]}}]",
      "DashboardComponentType": {
        "Id": "a31684a8-554d-4182-82f4-03fadda0c7b6",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "globalQuery/Development - Current development/execute",
      "Configuration": "{\"keyExpr\":\"WorkOrderId\",\"onRowClick\":\"function(e) {\\n    if (e.rowType == 'data')\\n      SW.preview(e.key, (e.data.WorkOrderType == 'Project') ? 'project' : 'fee');\\n}\",\"selection\":{\"mode\":\"none\"},\"stateStoring\":{\"enabled\":\"false\"},\"height\":\"700\",\"searchPanel\":{\"visible\":true},\"scrolling\":{\"mode\":\"virtual\"},\"grouping\":{\"autoExpandAll\":true},\"columns\":[{\"caption\":\"\",\"alignment\":\"center\",\"width\":50,\"format\":{\"image\":{\"mapping\":{\"id\":\"CompanyId\",\"name\":\"CompanyName\",\"hasImage\":\"CompanyHasImage\"},\"size\":\"small\"}},\"entity\":\"company\"},{\"dataField\":\"Company\",\"caption\":\"Área\",\"groupIndex\":1},{\"dataField\":\"WorkOrderNumber\",\"caption\":\"Número\",\"width\":100},{\"dataField\":\"WorkOrder\",\"caption\":\"Projeto / Contrato\"},{\"dataField\":\"Stage\",\"caption\":\"Etapa\",\"alignment\":\"left\",\"format\":\"#,##0\",\"width\":150,\"cellTemplate\":\"function(e, i) {         var h=document.createElement('span');        h.style.backgroundColor = i.data.StageColor;         h.classList.add('documentStageColor');        e.append(h);        h=document.createElement('span');        h.innerHTML = ' ' + i.text;        e.append(h);}\",\"groupCellTemplate\":\"function(e, i) {        var color=i.component.option().dataSource.find(row=>row.Stage==i.text).StageColor;        var h=document.createElement('span');        h.style.backgroundColor = color;         h.classList.add('documentStageColor');        e.append(h);        h=document.createElement('span');        var ht=' ' + i.text + ' ('+i.summaryItems[0].value+')';         h.innerHTML = ht;        e.append(h);}\"},{\"dataField\":\"StartDate\",\"caption\":\"Início\",\"dataType\":\"date\",\"alignment\":\"right\",\"format\":\"d MMM yyyy\"},{\"dataField\":\"EndDate\",\"caption\":\"Fim\",\"dataType\":\"date\",\"alignment\":\"right\",\"format\":\"d MMM yyyy\"},{\"caption\":\"\",\"name\":\"Image\",\"alignment\":\"center\",\"width\":50,\"format\":{\"image\":{\"mapping\":{\"id\":\"ClientId\",\"name\":\"Client\",\"hasImage\":\"ClientHasImage\"},\"size\":\"small\"}},\"entity\":\"client\"},{\"dataField\":\"Client\",\"caption\":\"Cliente\"},{\"dataField\":\"BilledInternal\",\"caption\":\"Faturado Interno\",\"alignment\":\"right\",\"format\":{\"type\":\"currency\",\"precision\":2},\"width\":120},{\"dataField\":\"BilledExternal\",\"caption\":\"Faturado Externo\",\"alignment\":\"right\",\"format\":{\"type\":\"currency\",\"precision\":2},\"width\":120},{\"dataField\":\"Billed\",\"caption\":\"Faturado\",\"alignment\":\"right\",\"format\":{\"type\":\"currency\",\"precision\":2},\"width\":120,\"visible\":false},{\"dataField\":\"Margin\",\"caption\":\"Margem\",\"alignment\":\"right\",\"format\":{\"type\":\"currency\",\"precision\":2},\"width\":70},{\"dataField\":\"EstimatedCostInternal\",\"caption\":\"Custo Interno\",\"alignment\":\"right\",\"format\":{\"type\":\"currency\",\"precision\":2},\"width\":120},{\"dataField\":\"EstimatedCostResources\",\"caption\":\"Custo Horas\",\"alignment\":\"right\",\"format\":{\"type\":\"currency\",\"precision\":2},\"width\":120},{\"dataField\":\"EstimatedCostThirdParty\",\"caption\":\"Custo Externo\",\"alignment\":\"right\",\"format\":{\"type\":\"currency\",\"precision\":2},\"width\":120},{\"dataField\":\"BilledPercentage\",\"caption\":\"% Faturado\",\"alignment\":\"center\",\"format\":\"percent\",\"width\":70,\"cellTemplate\":\"function(e, i) { SW.setRAG(e, i.text, i.value < 0.01, i.value >= 0.01 && i.value < 0.99, i.value >= 0.99);}\"},{\"dataField\":\"Unbilled\",\"caption\":\"Por Faturar\",\"alignment\":\"right\",\"format\":{\"type\":\"currency\",\"precision\":2},\"width\":120},{\"dataField\":\"MarginInternal\",\"caption\":\"Margem Interna\",\"alignment\":\"right\",\"format\":{\"type\":\"currency\",\"precision\":2},\"width\":70},{\"dataField\":\"PurchasedInternal\",\"caption\":\"Ordens Interno\",\"alignment\":\"right\",\"format\":{\"type\":\"currency\",\"precision\":2},\"width\":120},{\"dataField\":\"PurchasedThirdParty\",\"caption\":\"Ordens Externo\",\"alignment\":\"right\",\"format\":{\"type\":\"currency\",\"precision\":2},\"width\":120}],\"sortByGroupSummaryInfo\":[{\"summaryItem\":\"count\"}],\"summary\":{\"groupItems\":[{\"column\":\"Company\",\"summaryType\":\"count\",\"valueFormat\":\"#,##0\",\"displayFormat\":\"{0}\",\"alignment\":\"left\"},{\"column\":\"BilledExternal\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"alignByColumn\":true,\"showInGroupFooter\":false,\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"BilledInternal\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"alignByColumn\":true,\"showInGroupFooter\":false,\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"Billed\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"alignByColumn\":true,\"showInGroupFooter\":false,\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"Unbilled\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"alignByColumn\":true,\"showInGroupFooter\":false,\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"Margin\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"alignByColumn\":true,\"showInGroupFooter\":false,\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"EstimatedCostInternal\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"alignByColumn\":true,\"showInGroupFooter\":false,\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"EstimatedCostThirdParty\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"alignByColumn\":true,\"showInGroupFooter\":false,\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"EstimatedCostResources\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"alignByColumn\":true,\"showInGroupFooter\":false,\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"MarginInternal\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"alignByColumn\":true,\"showInGroupFooter\":false,\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"PurchasedInternal\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"alignByColumn\":true,\"showInGroupFooter\":false,\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"PurchasedThirdParty\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"alignByColumn\":true,\"showInGroupFooter\":false,\"valueFormat\":{\"type\":\"currency\",\"precision\":2}}],\"totalItems\":[{\"column\":\"Company\",\"summaryType\":\"count\",\"valueFormat\":\"#,##0\",\"displayFormat\":\"Total: {0}\",\"alignment\":\"left\"},{\"column\":\"BilledExternal\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"BilledInternal\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"Billed\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"Unbilled\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"Margin\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"EstimatedIncomeInternal\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"EstimatedIncomeResources\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"EstimatedIncomeThirdParty\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"MarginInternal\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"PurchasedInternal\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"valueFormat\":{\"type\":\"currency\",\"precision\":2}},{\"column\":\"PurchasedThirdParty\",\"summaryType\":\"sum\",\"displayFormat\":\"{0}\",\"alignment\":\"right\",\"valueFormat\":{\"type\":\"currency\",\"precision\":2}}]},\"onToolbarPreparing\":\"function (e) {\\n    SW.saveComponent(e.component, 'dataGrid');\\n    e.toolbarOptions.items.unshift({\\n        location: 'after',\\n        template: 'toggleHeaderFilterButtonTemplate'\\n    });\\n}\"}",
      "DashboardDefinitionId": "0b10195f-3434-40d3-8126-d4f267a55a9d"
    },
    {
      "Id": "d6c7675b-4885-43e8-9f93-f51e918d7708",
      "Name": "? Margem por Cliente",
      "Active": true,
      "UseQuery": false,
      "Query": "",
      "Size": 12,
      "Order": 0,
      "Parameters": "[{\"WidgetSubTitle\":\"Closed and In Progress Tickets\",\"WidgetType\":\"chart\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#f0f0f0\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":24,\"WidgetYPosition\":0,\"WidgetRows\":7,\"WidgetColumns\":24,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"startDate\":\"2019/11/01\",\"endDate\":\"2019/12/30\",\"type\":\"year\",\"visible\":false},\"showSubTitle\":false,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"select\\ttop 15\\n        cli.Name as Client,\\n        sum(est.ValueWithoutVatIncome - est.ValueWithoutVatCost) as Margin\\nfrom\\tEstimate est, WorkflowState wks, WorkflowStateType wst, CommercialClient cli\\nwhere\\tcli.Oid = est.Client and\\n        wks.Oid = est.WorkflowState and\\n        wst.Oid = wks.WorkflowStateType and\\n        wst.Status != 7 and\\n        RelatedEstimate is null\\ngroup by cli.Name\\norder by Margin desc\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":null}]",
      "DashboardComponentType": {
        "Id": "a31684a8-554d-4182-82f4-03fadda0c7b6",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "",
      "Configuration": "{\n    \"onPointClick\": \"function (e) {\n            e.event.cancel = true;\n           var dataGrid = SW.getComponent('dataGrid');\n           dataGrid.clearFilter();\n            dataGrid.searchByText(e.target.data.Client);\n}\",\n    \"size\": {\n    \"height\": 130\n},\n\"commonSeriesSettings\": {\n    \"ignoreEmptyPoints\": true,\n    \"cornerRadius\": \"2px\",\n    \"argumentField\": \"Client\"\n},\n\"tooltip\": {\n    \"format\": {\n        \"type\": \"currency\",\n        \"precision\": 2\n    }\n},\n\"argumentAxis\": {\n    \"label\": {\n        \"overlappingBehavior\": \"none\",\n        \"wordWrap\": \"none\",\n        \"textOverflow\": \"ellipsis\",\n        \"font\": {\n            \"family\": \"Varela Round\",\n            \"size\": 8\n        }\n    }\n},\n\"valueAxis\": [\n    {\n        \"name\": \"Margin\",\n        \"label\": {\n            \"showForZeroValues\": false,\n            \"format\": {\n                \"type\": \"thousands\",\n                \"precision\": 0\n            },\n            \"font\": {\n                \"family\": \"Varela Round\",\n                \"size\": 10\n            }\n        },\n        \"grid\": {\n            \"visible\": false\n        }\n    }\n],\n\"series\": [\n    {\n        \"name\": \"Margem\",\n        \"axis\": \"Margin\",\n        \"type\": \"line\",\n        \"valueField\": \"Margin\",\n        \"color\": \"#97c95c\",\n        \"label\": {\n            \"visible\": true,\n            \"font\": {\n                \"family\": \"Varela Round\",\n                \"size\": 10\n            },\n            \"format\": {\n                \"type\": \"thousands\",\n                \"precision\": 0\n            }\n        }\n    }\n]\n}",
      "DashboardDefinitionId": "0b10195f-3434-40d3-8126-d4f267a55a9d"
    }
  ],
  "QueryText": "",
  "UseStore": false,
  "StoreEntity": null,
  "Version": 5,
  "Default": false
}
