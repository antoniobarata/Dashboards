{"DashboardDefinitionRoles":[],"Id":"dcb0e0dc-bb6d-4484-bec0-a6f2af314c47","Name":"Burn","Active":true,"Location":0,"DocumentId":"00000000-0000-0000-0000-000000000000","DocumentName":"","DocumentsConfiguration":"{\"type\":\"\",\"operations\":{\"read\":{\"endpoint\":\"\"},\"update\":{\"endpoint\":\"\",\"model\":{}},\"create\":{\"endpoint\":\"\",\"model\":{}},\"remove\":{\"endpoint\":\"\"}},\"layout\":{\"create\":{},\"read\":{}},\"customDocument\":{\"mainColor\":\"\",\"secondaryColor\":\"\",\"imageClass\":\"\",\"namePlural\":\"\",\"name\":\"\",\"systemNames\":\"\"},\"availableOptions\":{\"feed\":false,\"info\":true,\"files\":false,\"userfields\":false,\"dashboard\":false}}","Templates":[],"DashboardDefinitionComponents":[{"Id":"3e16b4fd-759f-4319-a9d2-0c412e584a52","Name":"Burn per Client  ","Active":true,"UseQuery":false,"Query":null,"Size":6,"Order":3,"Parameters":"[{\"WidgetSubTitle\":\"Contracted & Forecasted Burn % per Client\",\"WidgetType\":\"chart\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#dddddd\",\"WidgetHeight\":0,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":true,\"metricName\":\"# Planned\",\"metricFieldValue\":\"PlannedTimeGrandTotal\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"WITH YearProjects AS\\r\\n(\\r\\n\\tSELECT\\r\\n\\t\\tp.Oid\\r\\n\\tFROM\\r\\n\\t\\tProject p\\r\\n\\tWHERE\\r\\n\\t\\tp.IsDraft = 0\\r\\n\\t\\tAND (Year(p.BeginDate) = @Year OR Year(p.EndDate) = @Year)\\r\\n)\\r\\nSELECT\\r\\n\\tv.ClientId,\\r\\n\\tv.Client,\\r\\n\\tv.ContractedHours,\\r\\n\\tv.ContractedCost,\\r\\n\\tv.PlannedHours,\\r\\n\\tv.PlannedCost,\\r\\n\\tv.[Hours],\\r\\n\\tv.[HoursCost]\\r\\nFROM\\r\\n(\\r\\nSELECT\\r\\n\\tv.ClientId,\\r\\n\\tv.Client,\\r\\n\\tSUM(v.ContractedHours) AS ContractedHours,\\r\\n\\tSUM(v.ContractedCost) AS ContractedCost,\\r\\n\\tSUM(v.PlannedHours) AS PlannedHours,\\r\\n\\tSUM(v.PlannedCost) AS PlannedCost,\\r\\n\\tSUM(v.[Hours]) as [Hours],\\r\\n\\tSUM(v.HoursCost) as [HoursCost]\\r\\nFROM\\r\\n(\\r\\n\\tSELECT\\r\\n\\t\\tv.ClientId,\\r\\n\\t\\tv.Client,\\r\\n\\t\\t0.0 as ContractedHours,\\r\\n\\t\\t0.0 as ContractedCost,\\r\\n\\t\\t0.0 as PlannedHours,\\r\\n\\t\\t0.0 as PlannedCost,\\r\\n\\t\\tSUM(v.ActualTime) as [Hours],\\r\\n\\t\\tSUM(v.HoursCost) as [HoursCost]\\r\\n\\tFROM\\r\\n\\t\\tAnalytics.Timesheet(@CurrentUserId) v, \\r\\n\\t\\tYearProjects p\\r\\n\\tWHERE\\t\\r\\n\\t\\tv.CompanyId = @CompanyOid\\r\\n\\t\\tAND v.ProjectId = p.Oid\\r\\n\\tGROUP BY\\r\\n\\t\\tv.ClientId,\\r\\n\\t\\tv.Client\\r\\n\\tUNION ALL\\r\\n\\tSELECT\\r\\n\\t\\tv.ClientId,\\r\\n\\t\\tv.Client,\\r\\n\\t\\tSUM(v.[ContractedHours]) as ContractedHours,\\r\\n\\t\\tSUM(v.[ContractedHours] * v.Rate) as ContractedCost,\\r\\n\\t\\tSUM(v.[Hours]) as PlannedHours,\\r\\n\\t\\tSUM(v.[Hours] * v.Rate) as PlannedCost,\\r\\n\\t\\t0.0 as [Hours],\\r\\n\\t\\t0.0 as [HoursCost]\\r\\n\\tFROM\\r\\n\\t\\tAnalytics.PlannedHoursTotal(@CurrentUserId) v,\\r\\n\\t\\tYearProjects p\\r\\n\\tWHERE\\r\\n\\t\\tv.CompanyId = @CompanyOid\\r\\n\\t\\tAND v.JobId IS NULL\\r\\n\\t\\tAND v.ProjectId = p.Oid\\r\\n\\tGROUP BY\\r\\n\\t\\tv.ClientId,\\r\\n\\t\\tv.Client\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.ClientId,\\r\\n\\tv.Client\\r\\n) v\\r\\nORDER BY\\r\\n\\tv.ContractedHours DESC\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"year\",\"companyOid\"]}}]","DashboardComponentType":{"Id":"c666ba5e-8578-4132-86a5-0f96c665000d","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Utilization_Totals/execute","Configuration":"{\n  \"commonSeriesSettings\": {\n    \"argumentField\": \"Client\",\n    \"valueField\": \"ClientId\",    \n      \"tagField\": \"ClientId\",\n    \"ignoreEmptyPoints\": true,\n    \"cornerRadius\": \"2px\",\n    \"label\": {\n      \"visible\": true,\n      \"showForZeroValues\": false,\n      \"format\": {\n        \"type\": \"fixedPoint\",\n        \"precision\": 1,\n        \"percentPrecision\": 2\n      }\n    }\n  },\n  \"size\": {\n    \"height\": 150\n  },\n  \"tooltip\": {\n    \"format\": {\n      \"type\": \"fixedPoint\",\n      \"precision\": 1,\n      \"percentPrecision\": 2\n    }\n  },\n  \"argumentAxis\": {\n    \"label\": {\n      \"font\": {\n        \"size\": 8\n      }\n    }\n  },\n  \"valueAxis\": {\n    \"format\": {\n      \"type\": \"fixedPoint\",\n      \"precision\": 1,\n      \"percentPrecision\": 2\n    }\n  },\n  \"series\": [\n    {\n      \"name\": \"Contracted\",\n      \"valueField\": \"ContractedHours\",\n      \"type\": \"bar\",\n      \"label\": {\n        \"visible\": false,\n        \"format\": {\n          \"type\": \"fixedPoint\",\n          \"precision\": 1,\n          \"percentPrecision\": 2\n        }\n      }\n    },\n    {\n      \"name\": \"Forecasted\",\n      \"valueField\": \"PlannedHours\",\n      \"type\": \"bar\",\n      \"label\": {\n        \"visible\": false,\n        \"format\": {\n          \"type\": \"fixedPoint\",\n          \"precision\": 1,\n          \"percentPrecision\": 2\n        }\n      }\n    },\n    {\n      \"name\": \"Actual\",\n      \"valueField\": \"Hours\",\n      \"type\": \"bar\",\n      \"label\": {\n        \"visible\": false,\n        \"format\": {\n          \"type\": \"fixedPoint\",\n          \"precision\": 1,\n          \"percentPrecision\": 2\n        }\n      }\n    }\n  ],\n  \"legend\": {\n    \"visible\": false,\n    \"horizontalAlignment\": \"left\",\n    \"verticalAlignment\": \"middle\",\n    \"itemTextPosition\": \"right\",\n    \"paddingLeftRight\": 0,\n    \"font\": {\n      \"size\": 8\n    }\n  },\n  \"resolveLabelOverlapping\": \"shift\",\n  \"dataPrepareSettings\": {\n    \"sortingMethod\": false\n  },\n\"onPointClick\": \"function(e) {\n  SW.setDashboardFilter('clientOid', e.target.tag);\n  SW.setDashboardFilter('contractOid', e.target.tag);\n  SW.setDashboardFilter('projectOid', e.target.tag);\n}\"\n}","DashboardDefinitionId":"dcb0e0dc-bb6d-4484-bec0-a6f2af314c47"},{"Id":"ae855660-c22b-4112-a025-1ee19ca284fe","Name":"Burn per Typology Group","Active":true,"UseQuery":false,"Query":null,"Size":6,"Order":6,"Parameters":"[{\"WidgetSubTitle\":\"Contracted & Forecasted Burn % per Typology Group\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetHeight\":0,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":false,\"metricName\":\"# Forecast\",\"metricFieldValue\":\"TimeGrandTotal\"},{\"visible\":false,\"metricName\":\"# Actual\",\"metricFieldValue\":\"UtilizationPercentGrandTotal\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"SELECT\\n\\tv.TypologyGroup,\\n\\tv.[User],\\n\\tv.Department,\\n\\tv.ContractedHours,\\n\\tv.ContractedCost,\\n\\tv.PlannedHours,\\n\\tv.PlannedCost,\\n\\tv.[Hours],\\n\\tv.[HoursCost],\\n\\tIIF(v.ContractedHours > 0, v.[PlannedHours] / v.ContractedHours, 0.0) as PlannedContractedPercentage,\\n\\tIIF(v.ContractedHours > 0, v.[Hours] / v.ContractedHours, 0.0) as BurnContractedPercentage,\\n\\tIIF(v.PlannedHours > 0, v.[Hours] / v.PlannedHours, 0.0) as BurnPlannedPercentage\\nFROM\\n(\\nSELECT\\n\\tv.UserTypologyGroup AS TypologyGroup,\\n\\tv.[User],\\n\\tISNULL(d.[Name], '') as Department,\\n\\tMAX(SUM(v.ContractedHours)) OVER (PARTITION BY v.UserTypologyGroup) AS ContractedHours,\\n\\tMAX(SUM(v.ContractedCost)) OVER (PARTITION BY v.UserTypologyGroup) AS ContractedCost,\\n\\tMAX(SUM(v.PlannedHours)) OVER (PARTITION BY v.UserTypologyGroup) AS PlannedHours,\\n\\tMAX(SUM(v.PlannedCost)) OVER (PARTITION BY v.UserTypologyGroup) AS PlannedCost,\\n\\tSUM(v.[Hours]) AS [Hours],\\n\\tSUM(v.[HoursCost]) AS [HoursCost]\\nFROM\\n(\\n\\t\\tSELECT\\n\\t\\t\\tv.UserId,\\n\\t\\t\\tv.UserTypologyGroup,\\n\\t\\t\\tv.[User],\\n\\t\\t\\t0.0 as ContractedHours,\\n\\t\\t\\t0.0 as ContractedCost,\\n\\t\\t\\t0.0 as PlannedHours,\\n\\t\\t\\t0.0 as PlannedCost,\\n\\t\\t\\tSUM(ISNULL(v.[ActualTime], 0.0)) as [Hours],\\n\\t\\t\\tSUM(ISNULL(v.HoursCost, 0.0)) as [HoursCost]\\n\\t\\tFROM\\n\\t\\t\\tAnalytics.Timesheet(@CurrentUserId) v\\n\\t\\tWHERE\\n\\t\\t\\tv.ProjectId = @ProjectOid\\n\\t\\tGROUP BY\\n\\t\\t\\tv.UserId,\\n\\t\\t\\tv.UserTypologyGroup,\\n\\t\\t\\tv.[User]\\n\\t\\tUNION ALL\\n\\t\\tSELECT\\n\\t\\t\\tv.UserId,\\n\\t\\t\\tISNULL(IIF(v.UserTypologyGroup = '', null, v.UserTypologyGroup), ISNULL(utg.[Name], '')) as UserTypologyGroup,\\n\\t\\t\\tv.[User],\\n\\t\\t\\tSUM(v.[ContractedHours]) as ContractedHours,\\n\\t\\t\\tSUM(v.[ContractedHours] * v.Rate) as ContractedCost,\\n\\t\\t\\tSUM(v.[Hours]) as PlannedHours,\\n\\t\\t\\tSUM(v.[Hours] * v.Rate) as PlannedCost,\\n\\t\\t\\t0.0 as [Hours],\\n\\t\\t\\t0.0 as [HoursCost]\\n\\t\\tFROM\\n\\t\\t\\tAnalytics.PlannedHoursTotal(@CurrentUserId) v\\n\\t\\t\\tLEFT OUTER JOIN [User] u ON (u.Oid = v.UserId)\\n\\t\\t\\tLEFT OUTER JOIN UserTypology ut ON (ut.Oid = u.Typology)\\n\\t\\t\\tLEFT OUTER JOIN UserTypologyGroup utg ON (utg.Oid = ut.UserTypologyGroup)\\n\\t\\tWHERE\\n\\t\\t\\tv.ProjectId = @ProjectOid\\n\\t\\t\\tAND v.JobId IS NULL\\n\\t\\tGROUP BY\\n\\t\\t\\tv.UserId,\\n\\t\\t\\tISNULL(IIF(v.UserTypologyGroup = '', null, v.UserTypologyGroup), ISNULL(utg.[Name], '')),\\n\\t\\t\\tv.[User]\\n) v\\nLEFT OUTER JOIN [User] u ON (u.Oid = v.UserId)\\nLEFT OUTER JOIN [Department] d ON (d.Oid = u.Department)\\nGROUP BY\\n\\tv.UserTypologyGroup,\\n\\tv.[User],\\n\\td.[Name]\\n) v\\n\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"projectOid\"]}}]","DashboardComponentType":{"Id":"c666ba5e-8578-4132-86a5-0f96c665000d","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Utilization_Per_Company_Department_User/execute","Configuration":"{\n  \"headerFilter\": {\n    \"visible\": true\n  },\n  \"columnResizingMode\": \"widget\",\n  \"allowColumnResizing\": true,\n  \"allowFiltering\": true,\n  \"columnAutoWidth\": true,\n  \"grouping\": {\n    \"autoExpandAll\": true\n  },\n  \"searchPanel\": {\n    \"visible\": true\n  },\n  \"height\": 300,\n  \"scrolling\": {\n    \"mode\": \"virtual\"\n  },\n  \"selection\": {\n    \"mode\": \"none\"\n  },\n  \"columnMinWidth\": 80,\n  \"columns\": [\n    {\n      \"dataField\": \"TypologyGroup\",\n      \"caption\": \"Typology Group\",\n      \"width\": 120,\n      \"groupIndex\": 0\n    },\n    {\n      \"dataField\": \"User\",\n      \"caption\": \"User\",\n      \"width\": 120\n    },\n    {\n      \"dataField\": \"Department\",\n      \"caption\": \"Department\",\n      \"width\": 120\n    },\n    {\n      \"dataField\": \"Hours\",\n      \"caption\": \"Actuals\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\",\n      \"width\": 80\n    },\n    {\n      \"dataField\": \"BurnContractedPercentage\",\n      \"caption\": \"Contracted %\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\",\n      \"width\": 80,\n      \"cellTemplate\": \"function(e, i) {\n        SW.setRAG(e, (i.value * 100.0).toFixed(1) + '%', i.value >= 1.0, (i.value >= 0.8 && i.value < 1.0), i.value < 0.8, true);\n    }\"\n  },\n  {\n    \"dataField\": \"BurnPlannedPercentage\",\n    \"caption\": \"Forecasted %\",\n    \"alignment\": \"right\",\n    \"format\": \"#,##0\",\n      \"width\": 80,\n      \"cellTemplate\": \"function(e, i) {\n      SW.setRAG(e, (i.value * 100.0).toFixed(1) + '%', i.value >= 1.0, (i.value >= 0.8 && i.value < 1.0), i.value < 0.8, true);\n  }\"\n}\n],\n\"sortByGroupSummaryInfo\": [\n{\n  \"summaryItem\": \"count\"\n}\n],\n\"summary\": {\n\"groupItems\": [\n  {\n    \"column\": \"ContractedHours\",\n    \"customizeText\": \"function (e) { return 'Contracted ' + e.value }\",\n    \"summaryType\": \"max\",\n    \"valueFormat\": \"fixedPoint\",\n    \"showInGroupFooter\": false,\n    \"alignByColumn\": false\n  },\n  {\n    \"column\": \"PlannedHours\",\n    \"customizeText\": \"function (e) { return 'Forecasted ' + e.value }\",\n    \"summaryType\": \"max\",\n    \"valueFormat\": \"fixedPoint\",\n    \"showInGroupFooter\": false,\n    \"alignByColumn\": false\n  }\n]\n}\n}","DashboardDefinitionId":"dcb0e0dc-bb6d-4484-bec0-a6f2af314c47"},{"Id":"9442add3-28c4-4ef8-9f26-3bba37f2ae00","Name":"Burn per Fee","Active":true,"UseQuery":false,"Query":null,"Size":6,"Order":4,"Parameters":"[{\"WidgetSubTitle\":\"Contracted & Forecasted Burn % per Fee\",\"WidgetType\":\"chart\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#dddddd\",\"WidgetHeight\":0,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":true,\"metricName\":\"# Planned\",\"metricFieldValue\":\"PlannedTimeGrandTotal\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"WITH YearContractsProjects AS\\r\\n(\\r\\n\\tSELECT\\r\\n\\t\\tc.Oid as ContractId,\\r\\n\\t\\tc.[Name] as [Contract],\\r\\n\\t\\tp.Oid as ProjectId\\r\\n\\tFROM\\r\\n\\t\\t[Contract] c, \\r\\n\\t\\tProject p\\r\\n\\tWHERE\\r\\n\\t\\tp.IsDraft = 0\\r\\n\\t\\tAND (Year(p.BeginDate) = @Year OR Year(p.EndDate) = @Year)\\r\\n\\t\\tAND p.[Contract] = c.Oid\\r\\n\\t\\tAND p.Company = @CompanyOid\\r\\n)\\r\\nSELECT\\r\\n\\tv.ContractId,\\r\\n\\tv.[Contract],\\r\\n\\tv.ContractedHours,\\r\\n\\tv.ContractedCost,\\r\\n\\tv.PlannedHours,\\r\\n\\tv.PlannedCost,\\r\\n\\tv.[Hours],\\r\\n\\tv.[HoursCost]\\r\\nFROM\\r\\n(\\r\\nSELECT\\r\\n\\tv.ContractId,\\r\\n\\tv.[Contract],\\r\\n\\tSUM(v.ContractedHours) AS ContractedHours,\\r\\n\\tSUM(v.ContractedCost) AS ContractedCost,\\r\\n\\tSUM(v.PlannedHours) AS PlannedHours,\\r\\n\\tSUM(v.PlannedCost) AS PlannedCost,\\r\\n\\tSUM(v.[Hours]) as [Hours],\\r\\n\\tSUM(v.HoursCost) as [HoursCost]\\r\\nFROM\\r\\n(\\r\\n\\tSELECT\\r\\n\\t\\tcp.ContractId,\\r\\n\\t\\tcp.[Contract],\\r\\n\\t\\t0.0 as ContractedHours,\\r\\n\\t\\t0.0 as ContractedCost,\\r\\n\\t\\t0.0 as PlannedHours,\\r\\n\\t\\t0.0 as PlannedCost,\\r\\n\\t\\tSUM(v.ActualTime) as [Hours],\\r\\n\\t\\tSUM(v.HoursCost) as [HoursCost]\\r\\n\\tFROM\\r\\n\\t\\tAnalytics.Timesheet(@CurrentUserId) v, \\r\\n\\t\\tYearContractsProjects cp\\r\\n\\tWHERE\\t\\r\\n\\t\\tv.CompanyId = @CompanyOid\\r\\n\\t\\tAND v.ProjectId = cp.ProjectId\\r\\n\\tGROUP BY\\r\\n\\t\\tcp.ContractId,\\r\\n\\t\\tcp.[Contract]\\r\\n\\tUNION ALL\\r\\n\\tSELECT\\r\\n\\t\\tcp.ContractId,\\r\\n\\t\\tcp.[Contract],\\r\\n\\t\\tSUM(v.[ContractedHours]) as ContractedHours,\\r\\n\\t\\tSUM(v.[ContractedHours] * v.Rate) as ContractedCost,\\r\\n\\t\\tSUM(v.[Hours]) as PlannedHours,\\r\\n\\t\\tSUM(v.[Hours] * v.Rate) as PlannedCost,\\r\\n\\t\\t0.0 as [Hours],\\r\\n\\t\\t0.0 as [HoursCost]\\r\\n\\tFROM\\r\\n\\t\\tAnalytics.PlannedHoursTotal(@CurrentUserId) v,\\r\\n\\t\\tYearContractsProjects cp\\r\\n\\tWHERE\\r\\n\\t\\tv.CompanyId = @CompanyOid\\r\\n\\t\\tAND v.JobId IS NULL\\r\\n\\t\\tAND v.ProjectId = cp.ProjectId\\r\\n\\tGROUP BY\\r\\n\\t\\tcp.ContractId,\\r\\n\\t\\tcp.[Contract]\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.ContractId,\\r\\n\\tv.[Contract]\\r\\n) v\\r\\nORDER BY\\r\\n\\tv.ContractedHours DESC\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"year\",\"companyOid\"]}}]","DashboardComponentType":{"Id":"c666ba5e-8578-4132-86a5-0f96c665000d","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Utilization_Totals/execute","Configuration":"{\n  \"commonSeriesSettings\": {\n    \"argumentField\": \"Contract\",\n    \"valueField\": \"ContractId\",\n    \"tagField\":\"ContractId\",\n    \"type\": \"bar\",\n    \"ignoreEmptyPoints\": true,\n    \"cornerRadius\": \"2px\",\n    \"label\": {\n      \"visible\": true,\n      \"showForZeroValues\": false,\n      \"format\": {\n        \"type\": \"fixedPoint\",\n        \"precision\": 1,\n        \"percentPrecision\": 2\n      }\n    }\n  },\n  \"size\": {\n    \"height\": 150\n  },\n  \"tooltip\": {\n    \"format\": {\n      \"type\": \"fixedPoint\",\n      \"precision\": 1,\n      \"percentPrecision\": 2\n    }\n  },\n  \"argumentAxis\": {\n    \"label\": {\n      \"font\": {\n        \"size\": 8\n      }\n    }\n  },\n  \"valueAxis\": {\n    \"format\": {\n      \"type\": \"fixedPoint\",\n      \"precision\": 1,\n      \"percentPrecision\": 2\n    }\n  },\n  \"series\": [\n    {\n      \"name\": \"Contracted\",\n      \"valueField\": \"ContractedHours\",\n      \"label\": {\n        \"visible\": false,\n        \"format\": {\n          \"type\": \"fixedPoint\",\n          \"precision\": 1,\n          \"percentPrecision\": 2\n        }\n      }\n    },\n    {\n      \"name\": \"Forecasted\",\n      \"valueField\": \"PlannedHours\",\n      \"label\": {\n        \"visible\": false,\n        \"format\": {\n          \"type\": \"fixedPoint\",\n          \"precision\": 1,\n          \"percentPrecision\": 2\n        }\n      }\n    },\n    {\n      \"name\": \"Actual\",\n      \"valueField\": \"Hours\",\n      \"label\": {\n        \"visible\": false,\n        \"format\": {\n          \"type\": \"fixedPoint\",\n          \"precision\": 1,\n          \"percentPrecision\": 2\n        }\n      }\n    }\n  ],\n  \"legend\": {\n    \"visible\": false,\n    \"horizontalAlignment\": \"left\",\n    \"verticalAlignment\": \"middle\",\n    \"itemTextPosition\": \"right\",\n    \"paddingLeftRight\": 0,\n    \"font\": {\n      \"size\": 8\n    }\n  },\n  \"resolveLabelOverlapping\": \"shift\",\n  \"dataPrepareSettings\": {\n    \"sortingMethod\": false\n  },\n\"onPointClick\": \"function(e) {\n  SW.setDashboardFilter('contractOid', e.target.tag);\n  SW.setDashboardFilter('clientOid', e.target.tag);\n  SW.setDashboardFilter('projectOid', e.target.tag);\n}\"\n}","DashboardDefinitionId":"dcb0e0dc-bb6d-4484-bec0-a6f2af314c47"},{"Id":"7129dba9-c2c2-4e5a-a549-d4e567ad5150","Name":"Year, Company and Client Group","Active":true,"UseQuery":false,"Query":null,"Size":12,"Order":0,"Parameters":"[{\"WidgetSubTitle\":\"Choose a Company or Client Group\",\"WidgetType\":\"form\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#efefef\",\"WidgetHeight\":0,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":false,\"metricName\":\"# Forecast\",\"metricFieldValue\":\"TimeGrandTotal\"},{\"visible\":false,\"metricName\":\"# Actual\",\"metricFieldValue\":\"UtilizationPercentGrandTotal\"}]},\"showSubTitle\":false,\"showTitle\":false},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"SELECT 1;\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\"]}}]","DashboardComponentType":{"Id":"c666ba5e-8578-4132-86a5-0f96c665000d","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Utilization_Per_Company_Department_User/execute","Configuration":"{\n  \"colCount\": 3,\n  \"formData\": {\n    \"year\": \"Year\",\n    \"company\": \"Company\",\n    \"clientGroup\": \"Client Group\"\n  },\n  \"dataSource\": {\n    \"year\": \"Year\",\n    \"company\": \"Company\",\n    \"clientGroup\": \"Client Group\"\n  },\n  \"items\": [\n    {\n      \"name\": \"Year\",\n      \"dataField\": \"year\",\n      \"editorType\": \"dxSelectBox\",\n      \"editorOptions\": {\n        \"searchEnabled\": false,\n        \"dataSource\": {\n          \"load\": \"function(loadOptions){ var query = 'SELECT DISTINCT Year(yd.Day) as [Year] FROM YearDay yd ORDER BY Year(yd.Day) DESC'; return SW.executeAPI('POST', 'analytics/query/execute', null, {'query': query, 'parameters': {}}).then(function(res){ return res.Data; }); }\",\n          \"byKey\": \"function(key) { console.log('byKey'); }\"\n        },\n        \"value\": \"\",\n        \"onValueChanged\": \"function(e){ console.log('Value:' + e.value); if(e.value != null) { SW.setDashboardFilter('year', e.value); } }\",\n        \"valueExpr\": \"Year\",\n        \"displayExpr\": \"Year\"\n      },\n      \"noDataText\": \"Please wait...\"\n    },\n    {\n      \"name\": \"Company\",\n      \"dataField\": \"company\",\n      \"editorType\": \"dxSelectBox\",\n      \"editorOptions\": {\n        \"searchEnabled\": true,\n        \"dataSource\": {\n                    \"load\": \"function(loadOptions){ var query = 'SELECT c.Oid as Id, c.[Name] FROM Company c ORDER BY c.[Name]'; return SW.executeAPI('POST', 'analytics/query/execute', null, {'query': query, 'parameters': {}}).then(function(res){ return res.Data; }); }\",\n                              \"byKey\": \"function(key) { console.log('byKey'); }\"\n        },\n        \"value\": \"\",\n        \"onValueChanged\": \"function(e){ console.log('Value:' + e.value); if(e.value != null) { SW.setDashboardFilter('companyOid', e.value); } }\",\n        \"valueExpr\": \"Id\",\n        \"displayExpr\": \"Name\"\n      },\n      \"noDataText\": \"Please wait...\"\n    },\n    {\n      \"name\": \"Client Group\",\n      \"dataField\": \"clientGroup\",\n      \"editorType\": \"dxSelectBox\",\n      \"editorOptions\": {\n        \"searchEnabled\": true,\n        \"minSearchLength\": 0,\n        \"dataSource\": {\n          \"load\": \"function(loadOptions){ var query = 'SELECT cg.Oid as Id, cg.[Name] FROM CLientGroup cg ORDER BY cg.[Name]'; return SW.executeAPI('POST', 'analytics/query/execute', null, {'query': query, 'parameters': {}}).then(function(res){ return res.Data; }); }\",\n          \"byKey\": \"function(key) { console.log('byKey'); }\"\n        },\n        \"value\": \"\",\n        \"onValueChanged\": \"function(e){ console.log('Value:' + e.value); if(e.value != null) { SW.setDashboardFilter('clientGroupOid', e.value); } }\",\n        \"valueExpr\": \"Id\",\n        \"displayExpr\": \"Name\"\n      },\n      \"noDataText\": \"Please wait...\"\n    }\n  ],\n  \"height\": 40\n}","DashboardDefinitionId":"dcb0e0dc-bb6d-4484-bec0-a6f2af314c47"},{"Id":"31d73892-8f35-4f38-a190-d5fed71137a0","Name":"Burn per Project","Active":true,"UseQuery":false,"Query":null,"Size":6,"Order":5,"Parameters":"[{\"WidgetSubTitle\":\"Contracted & Forecasted Burn % per Project\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetHeight\":0,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":false,\"metricName\":\"# Forecast\",\"metricFieldValue\":\"TimeGrandTotal\"},{\"visible\":false,\"metricName\":\"# Actual\",\"metricFieldValue\":\"UtilizationPercentGrandTotal\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"WITH YearProjects AS\\n(\\n\\tSELECT\\n\\t\\tp.Oid, \\n\\t\\tp.ProjectNature as ProjectType,\\n\\t\\tpc.[Name] as ProjectClassification\\n\\tFROM\\n\\t\\tSkillProject p,\\n\\t\\tProjectClassification pc\\n\\tWHERE\\n\\t\\tp.IsDraft = 0\\n\\t\\tAND (Year(p.BeginDate) = @Year OR Year(p.EndDate) = @Year)\\n\\t\\tAND (\\n\\t\\t\\t(@ClientOid IS NOT NULL AND p.CommercialClientId = @ClientOid)\\n\\t\\t\\tOR \\n\\t\\t\\t(@ContractOid IS NOT NULL AND p.[ContractId] = @ContractOid)\\n\\t\\t)\\n\\t\\tAND pc.Oid = p.ClassificationId\\n)\\nSELECT\\n\\tv.ProjectId,\\n\\tv.Project,\\n\\tv.ProjectType,\\n\\tv.ProjectClassification,\\n\\tv.ContractedHours,\\n\\tv.ContractedCost,\\n\\tv.PlannedHours,\\n\\tv.PlannedCost,\\n\\tv.[Hours],\\n\\tv.[HoursCost],\\n\\tIIF(v.ContractedHours > 0, v.[PlannedHours] / v.ContractedHours, 0.0) as PlannedContractedPercentage,\\n\\tIIF(v.ContractedHours > 0, v.[Hours] / v.ContractedHours, 0.0) as BurnContractedPercentage,\\n\\tIIF(v.PlannedHours > 0, v.[Hours] / v.PlannedHours, 0.0) as BurnPlannedPercentage\\nFROM\\n(\\nSELECT\\n\\tv.ProjectId,\\n\\tv.Project,\\n\\tv.ProjectType,\\n\\tv.ProjectClassification,\\n\\tSUM(v.ContractedHours) AS ContractedHours,\\n\\tSUM(v.ContractedCost) AS ContractedCost,\\n\\tSUM(v.PlannedHours) AS PlannedHours,\\n\\tSUM(v.PlannedCost) AS PlannedCost,\\n\\tSUM(v.[Hours]) as [Hours],\\n\\tSUM(v.HoursCost) as [HoursCost]\\nFROM\\n(\\n\\tSELECT\\n\\t\\tv.ProjectId,\\n\\t\\tv.Project,\\n\\t\\tp.ProjectType,\\n\\t\\tp.ProjectClassification,\\n\\t\\t0.0 as ContractedHours,\\n\\t\\t0.0 as ContractedCost,\\n\\t\\t0.0 as PlannedHours,\\n\\t\\t0.0 as PlannedCost,\\n\\t\\tSUM(v.ActualTime) as [Hours],\\n\\t\\tSUM(v.HoursCost) as [HoursCost]\\n\\tFROM\\n\\t\\tAnalytics.Timesheet(@CurrentUserId) v, \\n\\t\\tYearProjects p\\n\\tWHERE\\t\\n\\t\\tv.ProjectId = p.Oid\\n\\tGROUP BY\\n\\t\\tv.ProjectId,\\n\\t\\tv.Project,\\n\\t\\tp.ProjectType,\\n\\t\\tp.ProjectClassification\\n\\tUNION ALL\\n\\tSELECT\\n\\t\\tv.ProjectId,\\n\\t\\tv.Project,\\n\\t\\tp.ProjectType,\\n\\t\\tp.ProjectClassification,\\n\\t\\tSUM(v.[ContractedHours]) as ContractedHours,\\n\\t\\tSUM(v.[ContractedHours] * v.Rate) as ContractedCost,\\n\\t\\tSUM(v.[Hours]) as PlannedHours,\\n\\t\\tSUM(v.[Hours] * v.Rate)  as PlannedCost,\\n\\t\\t0.0 as [Hours],\\n\\t\\t0.0 as [HoursCost]\\n\\tFROM\\n\\t\\tAnalytics.PlannedHoursTotal(@CurrentUserId) v,\\n\\t\\tYearProjects p\\n\\tWHERE\\n\\t\\tv.JobId IS NULL\\n\\t\\tAND v.ProjectId = p.Oid\\n\\tGROUP BY\\n\\t\\tv.ProjectId,\\n\\t\\tv.Project,\\n\\t\\tp.ProjectType,\\n\\t\\tp.ProjectClassification\\n) v\\nGROUP BY\\n\\tv.ProjectId,\\n\\tv.Project,\\n\\tv.ProjectType,\\n\\tv.ProjectClassification\\n) v\\nORDER BY\\n\\tv.Project\\n\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"year\",\"clientOid\",\"contractOid\"]}}]","DashboardComponentType":{"Id":"c666ba5e-8578-4132-86a5-0f96c665000d","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Utilization_Per_Company_Department_User/execute","Configuration":"{\n  \"headerFilter\": {\n    \"visible\": true\n  },\n  \"grouping\": {\n    \"autoExpandAll\": true\n  },\n  \"columnResizingMode\": \"widget\",\n  \"allowColumnResizing\": true,\n  \"allowFiltering\": true,\n  \"columnAutoWidth\": true,\n  \"searchPanel\": {\n    \"visible\": true\n  },\n  \"selection\": {\n    \"mode\": \"single\"\n  },\n  \"onSelectionChanged\": \"function (selectedItems) {\n            var data = selectedItems.selectedRowsData[0];\n            if(data) {\n                SkillsWorkflow.setDashboardFilter('projectOid', data.ProjectId);\n  }\n}\",\n  \"height\": 300,\n\"scrolling\": {\n  \"mode\": \"virtual\"\n},\n\"columnMinWidth\": 80,\n\"columns\": [\n  {\n    \"dataField\": \"ProjectType\",\n    \"caption\": \"Project Type\",\n    \"width\": 120,\n    \"groupIndex\": 0\n  },\n  {\n    \"dataField\": \"Project\",\n    \"caption\": \"Project\",\n    \"width\": 120\n  },\n  {\n    \"dataField\": \"ProjectClassification\",\n    \"caption\": \"Project Classification\",\n    \"width\": 120\n  },\n  {\n    \"dataField\": \"ContractedHours\",\n    \"caption\": \"Contracted\",\n    \"alignment\": \"right\",\n    \"format\": \"#,##0\"\n  },\n  {\n    \"dataField\": \"PlannedHours\",\n    \"caption\": \"Forecasted\",\n    \"alignment\": \"right\",\n    \"format\": \"#,##0\"\n  },\n  {\n    \"dataField\": \"Hours\",\n    \"caption\": \"Actual\",\n    \"alignment\": \"right\",\n    \"format\": \"#,##0\"\n  },\n  {\n    \"dataField\": \"BurnContractedPercentage\",\n    \"caption\": \"Contracted %\",\n    \"alignment\": \"right\",\n    \"format\": \"#,##0\",\n    \"cellTemplate\": \"function(e, i) {\n            SkillsWorkflow.setRAG(e, (i.value * 100.0).toFixed(1) + '%', i.value >= 1.0, (i.value >= 0.8 && i.value < 1.0), i.value < 0.8, true);\n  }\"\n},\n{\n  \"dataField\": \"BurnPlannedPercentage\",\n  \"caption\": \"Forecasted %\",\n  \"alignment\": \"right\",\n  \"format\": \"#,##0\",\n  \"cellTemplate\": \"function(e, i) {\n            SkillsWorkflow.setRAG(e, (i.value * 100.0).toFixed(1) + '%', i.value >= 1.0, (i.value >= 0.8 && i.value < 1.0), i.value < 0.8, true);\n}\n        \"\n}\n],\n\"sortByGroupSummaryInfo\": [\n{\n\"summaryItem\": \"count\"\n}\n],\n\"summary\": {\n\"totalItems\": []\n}\n}","DashboardDefinitionId":"dcb0e0dc-bb6d-4484-bec0-a6f2af314c47"}]}