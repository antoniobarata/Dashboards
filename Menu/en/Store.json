{"DashboardDefinitionRoles":[],"Id":"5ec6cebc-e93b-4271-83ee-aee25b83095a","Name":"Store","Active":true,"Location":0,"DocumentId":"7ac7bfc2-e51f-4d66-893f-4185352e1b2b","DocumentName":"Timesheet","DocumentsConfiguration":"{\"entity\":\"\",\"operations\":{\"read\":{\"endpoint\":\"\"},\"update\":{\"endpoint\":\"\",\"model\":{}},\"create\":{\"endpoint\":\"\",\"model\":{}},\"patch\":{\"endpoint\":\"\",\"model\":[{\"field\":\"\",\"caption\":\"\",\"type\":\"\"}]},\"remove\":{\"endpoint\":\"\"},\"lookup\":{\"endpoint\":\"\"},\"lookupById\":{\"endpoint\":\"\"}},\"layout\":{\"create\":{},\"read\":{},\"patch\":{}},\"customDocument\":{\"useCustomStyle\":false,\"mainColor\":\"\",\"secondaryColor\":\"\",\"imageClass\":\"\",\"namePlural\":\"\",\"name\":\"\",\"systemName\":\"\"},\"availableOptions\":{\"feed\":false,\"info\":true,\"files\":false,\"userfields\":false,\"dashboard\":false}}","Templates":[],"DashboardDefinitionComponents":[{"Id":"099a6cc9-a9dd-408f-a75a-268821a3de82","Name":"Latest Commits","Active":true,"UseQuery":false,"Query":"","Size":5,"Order":2,"Parameters":"[{\"WidgetSubTitle\":\"\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#ffffff\",\"WidgetHeight\":10,\"WidgetHeader\":{\"showTitle\":true,\"showSubTitle\":true,\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[]}}]","DashboardComponentType":{"Id":"3c1da83b-efe9-4b70-87d0-c3813a512774","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"","Configuration":"{\r\n    \"height\": 400,\r\n    \"scrolling\": {\r\n        \"mode\": \"virtual\",\r\n        \"showScrollbar\": \"onHover\"\r\n    },\r\n    \"columnAutoWidth\": false,\r\n    \"dataSource\": {\r\n        \"load\":\"function(){\r\n            var daysAgo = 30;\r\n            var date = new Date(Date.now() - daysAgo * 24 * 60 * 60 * 1000);\r\n            var auth = 'token 676c1db3750ab2eee537e9a248ba0656e1257804';\r\n            return SkillsWorkflow.Github.getCommits(auth, null, null, null, date).then(result => {return Promise.resolve(result)}\r\n            );\r\n        }\"\r\n    },\r\n    \"stateStoring\": {\r\n        \"enabled\": false\r\n    },\r\n    \"columns\": [\r\n        {\r\n            \"dataField\":\"\",\r\n            \"caption\": \"\",\r\n            \"cellTemplate\": \"function(e, i){\r\n                if(i.data.author != null){\r\n                    SkillsWorkflow.Utils.setExternalImage(e, 'small', i.data.author.avatar_url);\r\n                }else{\r\n                    SkillsWorkflow.Utils.setExternalImage(e, 'small', 'https://cdn.pixabay.com/photo/2013/07/13/12/07/avatar-159236_960_720.png'); \r\n                }       \r\n            }\",\r\n            \"width\": 38,\r\n            \"alignment\": \"center\"\r\n        },\r\n        {\r\n            \"dataField\": \"commit.author.name\",\r\n            \"caption\": \"Name\"\r\n        },\r\n        {\r\n            \"caption\": \"Time Ago\",\r\n            \"alignment\": \"center\",\r\n            \"calculateCellValue\":\"function(data){\r\n                return SkillsWorkflow.Utils.timeAgo(data.commit.author.date);\r\n            }\"\r\n        },\r\n        {\r\n            \"dataField\": \"commit.author.date\",\r\n            \"dataType\": \"date\",\r\n            \"caption\": \"Date\",\r\n            \"alignment\": \"center\"\r\n        },\r\n        {\r\n            \"dataField\": \"commit.message\",\r\n            \"caption\": \"Message\"\r\n        }\r\n    ],\r\n    \"selection\":{\r\n        \"mode\":\"none\"\r\n    }\r\n}\r\n","DashboardDefinitionId":"5ec6cebc-e93b-4271-83ee-aee25b83095a"},{"Id":"92f0384f-751e-472c-b645-552aeecb53e9","Name":"Most changed","Active":true,"UseQuery":false,"Query":"","Size":5,"Order":2,"Parameters":"[{\"WidgetSubTitle\":\"Top 10\",\"WidgetType\":\"pie\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetHeight\":40,\"WidgetHeader\":{\"showTitle\":true,\"showSubTitle\":true,\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[]}}]","DashboardComponentType":{"Id":"3c1da83b-efe9-4b70-87d0-c3813a512774","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"","Configuration":"{\r\n    \"dataSource\": {\r\n        \"load\": \"function(e){\r\n\t\t\t\t\tvar paths = ['Configuration/en', 'Document/Expenses/en', 'Menu/en', 'Menu/pt-br'];\r\n                    var auth = 'token 676c1db3750ab2eee537e9a248ba0656e1257804';\r\n\t\t\t\t\treturn SkillsWorkflow.Github.getAllDashboardsFrom(auth, paths).then(\r\n                        result => {\r\n                            const top = 10;\r\n                            result = result.sort((a, b) => b.Changes-a.Changes);\r\n                            result = result.slice(0, top);\r\n                            return Promise.resolve(result)\r\n                        }\r\n                    )\r\n    }\"\r\n    },\r\n    \"size\":{\r\n        \"height\": 300\r\n    },\r\n    \"type\": \"doughnut\",\r\n    \"series\": [\r\n        {\r\n            \"argumentField\": \"Name\",\r\n            \"valueField\": \"Changes\",\r\n            \"label\": {\r\n                \"visible\": true,\r\n                \"font\": {\r\n                    \"size\": 15\r\n                },\r\n                \"connector\": {\r\n                    \"visible\": true,\r\n                    \"width\": 0.5\r\n                },\r\n                \"position\": \"columns\",\r\n                \"customizeText\": \"function(arg) {\r\n                    return arg.valueText;\r\n                }\"\r\n            }\r\n        }\r\n    ],\r\n    \"commonSeriesSettings\": {\r\n        \"label\": {\r\n            \"visible\": false,\r\n            \"format\": \"fixedPoint\",\r\n            \"connector\": {\r\n                \"visible\": true,\r\n                \"width\": 1\r\n            }\r\n        }\r\n    },\r\n    \"tooltip\": {\r\n        \"enabled\": true\r\n    },\r\n    \"legend\": {\r\n        \"visible\": true,\r\n        \"horizontalAlignment\": \"left\",\r\n        \"verticalAlignment\": \"middle\",\r\n        \"itemTextPosition\": \"right\",\r\n        \"paddingLeftRight\": 0,\r\n        \"font\": {\r\n            \"size\": 10\r\n        }\r\n    }\r\n}","DashboardDefinitionId":"5ec6cebc-e93b-4271-83ee-aee25b83095a"},{"Id":"32f86d9b-ebb2-43fe-bcea-e29106cda2c2","Name":"Available Dashboards","Active":true,"UseQuery":false,"Query":"","Size":7,"Order":1,"Parameters":"[{\"WidgetSubTitle\":\"Looking for a dashboard?\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#ffffff\",\"WidgetHeight\":50,\"WidgetHeader\":{\"showTitle\":true,\"showSubTitle\":true,\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[]}}]","DashboardComponentType":{"Id":"3c1da83b-efe9-4b70-87d0-c3813a512774","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"","Configuration":"{\r\n\t\"dataSource\": {\r\n\t\t\"load\": \"function(e){\r\n\t\t\t\t\tvar paths = ['Configuration/en', 'Document/Expenses/en', 'Document/Projects/pt-br', 'Document/Client/en', 'Document/Contract/en', 'Document/Estimate/en','Menu/en', 'Menu/pt-br'];\r\n\t\t\t\t\tvar auth = 'token 676c1db3750ab2eee537e9a248ba0656e1257804';\r\n\t\t\t\t\treturn SkillsWorkflow.Github.getAllDashboardsFrom(auth, paths).then(result => {return Promise.resolve(result)\r\n\t\t})\r\n\t}\"\r\n},\r\n\"grouping\": {\r\n\t\"autoExpandAll\": true\r\n},\r\n\"scrolling\": {\r\n\t\"mode\": \"virtual\",\r\n\t\"showScrollbar\": \"onHover\"\r\n},\r\n\"stateStoring\":{\r\n\t\"enabled\": false\r\n},\r\n\"columns\": [\r\n\t{\r\n\t\t\"dataField\":\"\",\r\n\t\t\"caption\": \"\",\r\n\t\t\"cellTemplate\": \"function(e, i) {\r\n\t\t\tSkillsWorkflow.showDocumentImage(e, 'medium', i.data.Name.slice(0,-5), i.data.Name.slice(0,-5));\r\n\t\t}\",\r\n\t\t\"width\": 38\r\n\t},\r\n\t{\r\n        \"dataField\": \"name\",\r\n\t\t\"caption\": \"Name\",\r\n\t\t\"calculateCellValue\": \"function(data) {\r\n\t\t\t\treturn data.Name.slice(0,-5);\r\n\t\t}\"\r\n\t},\r\n\t{\r\n\t\t\"dataField\": \"path\",\r\n\t\t\"caption\": \"Language\",\r\n\t\t\"calculateCellValue\": \"function(data) {\r\n\t\t\t\tif(data.Path.includes('/en/')){\r\n\t\t\t\t\treturn 'en';\r\n\t\t\t} \r\n\t\t\t\tif(data.Path.includes('/pt-br/')){\r\n\t\t\t\t\treturn 'pt-br';\r\n\t\t\t}\r\n\t\t\t\tif(data.Path.includes('/es/')){\r\n\t\t\t\t\treturn 'es';\r\n\t\t\t}\r\n\t\t}\",\r\n\t\t\"alignment\": \"center\"\r\n\t},\r\n\t{\r\n\t\t\"caption\": \"\",\r\n\t\t\"width\": 38,\r\n\t\t\"alignment\": \"center\",\r\n\t\t\"cellTemplate\": \"function(e, i){\r\n        \tif(i.data.ModifiedBy != null){\r\n                    SkillsWorkflow.Utils.setExternalImage(e, 'small', i.data.ModifiedBy.ImageUrl);\r\n\t\t\t}else{\r\n                    SkillsWorkflow.Utils.setExternalImage(e, 'small', 'https: //cdn.pixabay.com/photo/2013/07/13/12/07/avatar-159236_960_720.png'); \r\n\t\t\t}\r\n\t\t}\"\r\n\t},\r\n\t{\r\n\t\t\"dataField\": \"ModifiedBy\",\r\n\t\t\"caption\": \"Modified By\",\r\n\t\t\"alignment\": \"left\",\r\n\t\t\"calculateCellValue\": \"function(data) {\r\n\t\t\treturn data.ModifiedBy.Name;\t\r\n\t\t}\"\r\n\t},\r\n\t{\r\n\t\t\"dataField\": \"ModifiedOn\",\r\n\t\t\"caption\": \"Modified On\",\r\n\t\t\"dataType\": \"date\",\r\n\t\t\"alignment\": \"center\"\r\n\t},\r\n\t{\r\n\t\t\"dataField\": \"ModifiedOn\",\r\n\t\t\"caption\": \"Days Ago\",\r\n\t\t\"dataType\": \"int\",\r\n\t\t\"calculateCellValue\": \"function(data) {\r\n\t\t\t\tvar date = data.Commits[0].commit.author.date;\r\n\t\t\t\tvar result = SkillsWorkflow.Utils.timeAgo(date, 'days');\r\n\t\t\t\treturn result;\r\n\t\t}\",\r\n\t\t\"cellTemplate\": \"function(e, i) { SkillsWorkflow.setRAG(e, i.value, i.value >= 365, i.value > 30 && i.value<365, i.value <= 30, true);}\",\r\n\t\t\"alignment\": \"center\"\r\n\t},\r\n\t{\r\n\t\t\"dataField\":\"path\",\r\n\t\t\"caption\": \"Location\",\r\n\t\t\"calculateCellValue\": \"function(data) {\r\n\t\t\t\tif(data.Path.includes('Menu/')){\r\n\t\t\t\t\treturn 'Menu';\r\n\t\t\t\t} \r\n\t\t\t\tif(data.Path.includes('Configuration/')){\r\n\t\t\t\t\treturn 'Configuration';\r\n\t\t\t\t}\r\n\t\t\t\tif(data.Path.includes('Document/Client')){\r\n\t\t\t\t\treturn 'Document-Client';\r\n\t\t\t\t}\r\n\t\t\t\tif(data.Path.includes('Document/Expenses')){\r\n\t\t\t\t\treturn 'Document-Expenses';\r\n\t\t\t\t}\r\n\t\t\t\tif(data.Path.includes('Document/Estimate')){\r\n\t\t\t\t\treturn 'Document-Estimate';\r\n\t\t\t\t}\r\n\t\t\t\tif(data.Path.includes('Document/Contract')){\r\n\t\t\t\t\treturn 'Document-Contract';\r\n\t\t\t\t}\r\n\t\t\t\tif(data.Path.includes('Document/Project')){\r\n\t\t\t\t\treturn 'Document-Project';\r\n\t\t\t\t}\r\n\t\t}\",\r\n\t\t\"groupIndex\": 0,\r\n\t\t\"groupCellTemplate\":\"function(e, i) {\r\n\t\t\tdebugger;\r\n\t\t\th=document.createElement('span'); \r\n\t\t\tvar ht=' ' + i.text + ' ('+i.totalItem.data.items.length+')'; \r\n\t\t\th.innerHTML = ht;\r\n\t\t\te.append(h);\r\n\t\t}\"\r\n\t}\t\r\n],\r\n\"onToolbarPreparing\": \"function(e) { \r\n\t\t\r\n\t\t\tvar dataGrid = e.component;  \r\n\r\n\t\t\te.toolbarOptions.items.unshift({ \r\n\t\t\t\tlocation: 'after', \r\n\t\t\t\twidget: 'dxButton', \r\n\t\t\t\toptions: {\r\n\t\t\t\t\ticon: 'fas fa-file-download', \r\n\t\t\t\t\thint: 'Import Selected',\r\n\t\t\t\t\tonClick: function(data) {\r\n\t\t\t\t\t\tdata.component.option('icon','fas fa-spinner fa-spin');\r\n\t\t\t\t\t\tdataGrid.option('disabled', true);\r\n\t\t\t\t\t\tvar selectedDashboards = dataGrid.getSelectedRowKeys();\r\n\t\t\t\t\t\tvar auth = 'token 676c1db3750ab2eee537e9a248ba0656e1257804';\r\n\t\t\t\t\t\tSkillsWorkflow.Github.importDashboards(auth, selectedDashboards).then(\r\n\t\t\t\t\t\t\tresult => {\r\n\t\t\t\t\t\t\t\tdataGrid.option('disabled', false);\r\n\t\t\t\t\t\t\t\tdata.component.option('icon','fas fa-file-download');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n}\"\r\n}","DashboardDefinitionId":"5ec6cebc-e93b-4271-83ee-aee25b83095a"}]}