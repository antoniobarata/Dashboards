{"DashboardDefinitionRoles":[],"Id":"903176ad-6f42-4dab-a164-d557d1f70739","Name":"Timesheet Dashboard","Active":true,"Location":0,"DocumentId":"00000000-0000-0000-0000-000000000000","DocumentName":"","DocumentsConfiguration":null,"Templates":[],"DashboardDefinitionComponents":[{"Id":"bcbf868f-ea8a-4abe-9f4b-48e7fd9a77ee","Name":"Top 10 Departments","Active":true,"UseQuery":false,"Query":null,"Size":4,"Order":5,"Parameters":"[\r\n    {\r\n        \"WidgetSubTitle\": \"Non-Billable Actual Time\",\r\n        \"WidgetType\": \"chart\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"#efefef\",\r\n        \"WidgetHeight\": \"\",\r\n        \"WidgetHeader\": {\r\n            \"showContextInfo\": false,\r\n            \"WidgetPeriodChooser\": {\r\n                \"type\": \"year\",\r\n                \"visible\": false\r\n            },\r\n            \"WidgetMetrics\": {\r\n                \"visible\": false,\r\n                \"Metrics\": [\r\n                    {\r\n                        \"visible\": false,\r\n                        \"metricName\": \"Total\",\r\n                        \"metricValue\": \"14,450\"\r\n                    }\r\n                ]\r\n            },\r\n            \"showSubTitle\": true,\r\n            \"showTitle\": true\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"queryText\",\r\n                \"value\": \"With Leaves As ( SELECT dl.Department, SUM(dl.[Hours]) AS [Hours] FROM Analytics.Leave(@CurrentUserId) dl WHERE 1 = 1 /*[DateFilter]*/ AND dl.[Date] BETWEEN @FromDate AND @ToDate /*[DateFilter]*/ GROUP BY dl.Department ) SELECT dt.Department, SUM(isnull(dt.AdministrativeTime, 0) + isnull(dt.NewBusinessTime, 0) + isnull(dt.InternalWorkTime, 0)) + isnull(MAX(l.[Hours]), 0) as NonBillable FROM Analytics.Timesheet(@CurrentUserId) dt LEFT OUTER JOIN Leaves l on (dt.Department = l.Department) WHERE 1 = 1 /*[DateFilter]*/ AND dt.[Date] BETWEEN @FromDate AND @ToDate /*[DateFilter]*/ GROUP BY dt.Department\",\r\n                \"mapping\": \"\"\r\n            }\r\n        },\r\n        \"QueryConfiguration\": {\r\n            \"RequiredFilters\": [\r\n                \"startDate\",\r\n                \"endDate\"\r\n            ],\r\n            \"Sort\": {\r\n                \"Type\": 2,\r\n                \"FieldName\": \"NonBillable\"\r\n            },\r\n            \"Top\": {\r\n                \"Count\": 10\r\n            }\r\n        }\r\n    }\r\n]","DashboardComponentType":{"Id":"6f649e62-be82-4af7-8d64-06b32cf6c0ea","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Hours_NonBillable_Per_Department/execute","Configuration":"{\n\"size\":{\"height\":150},\n\"palette\": \"Material\",\n  \"commonSeriesSettings\": {\n    \"argumentField\": \"Department\",\n    \"type\": \"bar\",\n    \"ignoreEmptyPoints\": true,\n    \"valueField\": \"NonBillable\"\n  },\n  \"seriesTemplate\": {\n    \"nameField\": \"Department\"\n  },\n  \"argumentAxis\": {\n    \"label\": {\n      \"overlappingBehavior\":\"stagger\",\n      \"customizeText\":\"function(t){return t.valueText}\",\n      \"font\": {\n        \"size\": 8\n      }\n    }\n  }\n}","DashboardDefinitionId":"903176ad-6f42-4dab-a164-d557d1f70739"},{"Id":"66a235f3-5473-4ecd-b091-4c5b1775f9f6","Name":"Period","Active":true,"UseQuery":false,"Query":null,"Size":12,"Order":7,"Parameters":"[\r\n    {\r\n        \"WidgetSubTitle\": \"Actual Time - Select Months\",\r\n        \"WidgetType\": \"rangeSelector\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"#e0e0e0\",\r\n        \"WidgetHeight\": \"\",\r\n        \"WidgetHeader\": {\r\n            \"showContextInfo\": false,\r\n            \"WidgetPeriodChooser\": {\r\n                \"startDate\": \"2018-01-01\",\r\n                \"endDate\": \"2019-12-31\",\r\n                \"type\": \"year\",\r\n                \"visible\": false\r\n            },\r\n            \"showSubTitle\": true,\r\n            \"showTitle\": true\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"queryText\",\r\n                \"value\": \"SELECT DATEADD(dd, -(DATEPART(dw, dt.[Date])-2), dt.[Date]) AS WeekStart, [Year], [Month], Convert(int, CONCAT(year(dt.[Date]), DatePart(wk, dt.[Date]))) as [YearWeek], SUM(dt.[ActualTime]) as [Hours] FROM [Analytics].Timesheet(@CurrentUserId) dt WHERE 1 = 1 /*[DateFilter]*/ and [Year] >= Year(@FromDate) /*[/DateFilter]*/ GROUP BY DATEADD(dd, -(DATEPART(dw, dt.[Date])-2), dt.[Date]), [Year], [Month], Convert(int, CONCAT(year(dt.[Date]), DatePart(wk, dt.[Date])))\",\r\n                \"mapping\": \"\"\r\n            }\r\n        },\r\n        \"QueryConfiguration\": null\r\n    }\r\n]","DashboardComponentType":{"Id":"6f649e62-be82-4af7-8d64-06b32cf6c0ea","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Time_Utilization_Hours_Per_YearWeek/execute","Configuration":"{\n \"margin\": {\n    \"top\": 0\n  },\n  \"size\": {\n    \"height\": 150\n  },\n  \"containerBackgroundColor\":\"#e0e0e0\",\n  \"selectedRangeColor\": \"#f5564a\",\n  \"chart\": {\n    \"commonSeriesSettings\": {\n      \"type\": \"line\",\n      \"argumentField\": \"WeekStart\"\n    },\n    \"series\": [\n      {\n        \"valueField\": \"Hours\"\n      }\n    ]\n  },\n  \"scale\": {\n    \"minorTickInterval\": \"month\",\n    \"tickInterval\": \"month\",\n    \"valueType\": \"datetime\"\n  },\n  \"sliderMarker\": {\n    \"format\": \"month\",\n    \"color\": \"#da5859\"\n  },\n  \"value\": [\n    \"2018/01/01\",\n    \"2018/02/01\"\n  ]\n}","DashboardDefinitionId":"903176ad-6f42-4dab-a164-d557d1f70739"},{"Id":"761e1a32-f541-4ea5-8f20-5aa1fa0ce5e8","Name":"Top 10 Typology Groups","Active":true,"UseQuery":false,"Query":null,"Size":4,"Order":3,"Parameters":"[\r\n    {\r\n        \"WidgetSubTitle\": \"Actual Time\",\r\n        \"WidgetType\": \"chart\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"\",\r\n        \"WidgetHeight\": \"\",\r\n        \"WidgetHeader\": {\r\n            \"showContextInfo\": false,\r\n            \"WidgetPeriodChooser\": {\r\n                \"type\": \"year\",\r\n                \"visible\": false\r\n            },\r\n            \"WidgetMetrics\": {\r\n                \"visible\": true,\r\n                \"Metrics\": [\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"Leaves\",\r\n                        \"metricFieldValue\": \"TimeOffHoursGrandTotal\"\r\n                    }\r\n                ]\r\n            },\r\n            \"showSubTitle\": true,\r\n            \"showTitle\": true\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"queryText\",\r\n                \"value\": \"WITH LeavesGrandTotal AS ( SELECT SUM(dl.[Hours]) AS GrandTotal FROM Analytics.Leave(@CurrentUserId) dl WHERE 1 = 1 /*[DateFilter]*/ AND dl.[Date] BETWEEN @FromDate AND @ToDate /*[DateFilter]*/ ) SELECT dt.UserTypologyGroup AS TypologyGroupName, SUM(dt.ActualTime) AS TotalHours, (SELECT GrandTotal FROM LeavesGrandTotal) AS TimeOffHoursGrandTotal FROM Analytics.Timesheet(@CurrentUserId) dt WHERE 1 = 1 /*[DateFilter]*/ AND dt.[Date] BETWEEN @FromDate AND @ToDate /*[DateFilter]*/ GROUP BY dt.UserTypologyGroup\",\r\n                \"mapping\": \"\"\r\n            }\r\n        },\r\n        \"QueryConfiguration\": {\r\n            \"RequiredFilters\": [\r\n                \"startDate\",\r\n                \"endDate\"\r\n            ],\r\n            \"Sort\": {\r\n                \"Type\": 1,\r\n                \"FieldName\": \"TotalHours\"\r\n            },\r\n            \"Top\": {\r\n                \"Count\": 10\r\n            }\r\n        }\r\n    }\r\n]","DashboardComponentType":{"Id":"6f649e62-be82-4af7-8d64-06b32cf6c0ea","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Time_Utilization_Per_TypologyGroup/execute","Configuration":"{\n\"size\":{\"height\":150},\n  \"palette\": \"Material\",\n  \"rotated\": true,\n  \"commonSeriesSettings\": {\n    \"argumentField\": \"TypologyGroupName\",\n    \"type\": \"bar\",\n    \"ignoreEmptyPoints\": true,\n    \"valueField\": \"TotalHours\"\n  },\n  \"argumentAxis\": {\n    \"label\": {\n      \"overlappingBehavior\":\"stagger\",\n      \"font\": {\n        \"size\": 8\n      }\n    }\n  },\n  \"seriesTemplate\": {\n    \"nameField\": \"TypologyGroupName\"\n  }\n}","DashboardDefinitionId":"903176ad-6f42-4dab-a164-d557d1f70739"},{"Id":"69c52a61-d8c3-41af-bd96-72d38c989c36","Name":"Top 10 Clients","Active":true,"UseQuery":false,"Query":null,"Size":4,"Order":1,"Parameters":"[\r\n    {\r\n        \"WidgetSubTitle\": \"Actual Time\",\r\n        \"WidgetType\": \"chart\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"\",\r\n        \"WidgetHeight\": \"\",\r\n        \"WidgetHeader\": {\r\n            \"showContextInfo\": false,\r\n            \"WidgetPeriodChooser\": {\r\n                \"type\": \"year\",\r\n                \"visible\": false\r\n            },\r\n            \"WidgetMetrics\": {\r\n                \"visible\": true,\r\n                \"Metrics\": [\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"Total\",\r\n                        \"metricFieldValue\": \"GlobalTotalHours\"\r\n                    }\r\n                ]\r\n            },\r\n            \"showSubTitle\": true,\r\n            \"showTitle\": true\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"queryText\",\r\n                \"value\": \"SELECT dt.Client AS ClientName, SUM(dt.ActualTime) AS TotalHours, SUM(SUM(isnull(dt.[ActualTime], 0.0))) OVER () as GlobalTotalHours FROM Analytics.Timesheet(@CurrentUserId) dt WHERE dt.[Date] BETWEEN @FromDate AND @ToDate GROUP BY dt.Client\",\r\n                \"mapping\": \"\"\r\n            }\r\n        },\r\n        \"QueryConfiguration\": {\r\n            \"RequiredFilters\": [\r\n                \"startDate\",\r\n                \"endDate\"\r\n            ],\r\n            \"Sort\": {\r\n                \"Type\": 2,\r\n                \"FieldName\": \"TotalHours\"\r\n            },\r\n            \"Top\": {\r\n                \"Count\": 10\r\n            }\r\n        }\r\n    }\r\n]","DashboardComponentType":{"Id":"6f649e62-be82-4af7-8d64-06b32cf6c0ea","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Time_Utilization_Per_Client/execute","Configuration":"{\n\"size\":{\"height\":150},\n\"palette\": \"Material\",\n  \"commonSeriesSettings\": {\n    \"argumentField\": \"ClientName\",\n    \"type\": \"bar\",\n    \"ignoreEmptyPoints\": true,\n    \"valueField\": \"TotalHours\"\n  },\n  \"seriesTemplate\": {\n    \"nameField\": \"ClientName\"\n  },\n  \"argumentAxis\": {\n    \"label\": {\n      \"overlappingBehavior\":\"stagger\",\n      \"customizeText\":\"function(t){return t.valueText.split(' - ')[0].substring(0,20)}\",\n      \"font\": {\n      \r\n  \"size\": 8\n      }\n    }\n  }\n}","DashboardDefinitionId":"903176ad-6f42-4dab-a164-d557d1f70739"},{"Id":"b3eb4492-5e1d-497c-9270-7b8b5d226cc7","Name":"Top 10 Users","Active":true,"UseQuery":false,"Query":null,"Size":4,"Order":2,"Parameters":"[\r\n    {\r\n        \"WidgetSubTitle\": \"Actual Time\",\r\n        \"WidgetType\": \"chart\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"\",\r\n        \"WidgetHeight\": \"\",\r\n        \"WidgetHeader\": {\r\n            \"showContextInfo\": false,\r\n            \"WidgetPeriodChooser\": {\r\n                \"type\": \"year\",\r\n                \"visible\": false\r\n            },\r\n            \"WidgetMetrics\": {\r\n                \"visible\": true,\r\n                \"Metrics\": [\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"Admin\",\r\n                        \"metricFieldValue\": \"AdministrativeHoursGrandTotal\"\r\n                    }\r\n                ]\r\n            },\r\n            \"showSubTitle\": true,\r\n            \"showTitle\": true\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"queryText\",\r\n                \"value\": \"SELECT dt.[User] AS EmployeeName, SUM(dt.ActualTime) AS TotalHours, SUM(SUM(dt.AdministrativeTime)) OVER () as AdministrativeHoursGrandTotal FROM Analytics.Timesheet(@CurrentUserId) dt WHERE 1 = 1 /*[DateFilter]*/ AND dt.[Date] BETWEEN @FromDate AND @ToDate /*[DateFilter]*/ GROUP BY dt.[User]\",\r\n                \"mapping\": \"\"\r\n            }\r\n        },\r\n        \"QueryConfiguration\": {\r\n            \"RequiredFilters\": [\r\n                \"startDate\",\r\n                \"endDate\"\r\n            ],\r\n            \"Sort\": {\r\n                \"Type\": 2,\r\n                \"FieldName\": \"TotalHours\"\r\n            },\r\n            \"Top\": {\r\n                \"Count\": 10\r\n            }\r\n        }\r\n    }\r\n]","DashboardComponentType":{"Id":"6f649e62-be82-4af7-8d64-06b32cf6c0ea","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Time_Utilization_Per_User/execute","Configuration":"{\n\"size\":{\"height\":150},\n  \"palette\": \"Material\",\n  \"commonSeriesSettings\": {\n    \"argumentField\": \"EmployeeName\",\n    \"type\": \"bar\",\n    \"ignoreEmptyPoints\": true,\n    \"valueField\": \"TotalHours\"\n  },\n  \"argumentAxis\": {\n    \"label\": {\n      \"overlappingBehavior\":\"stagger\",\n      \"customizeText\":\"function(t){return t.valueText.split(' - ')[0]}\",\n      \"font\": {\n        \"size\": 8\n      }\n    }\n  },\n  \"seriesTemplate\": {\n    \"nameField\": \"EmployeeName\"\n  }\n}","DashboardDefinitionId":"903176ad-6f42-4dab-a164-d557d1f70739"},{"Id":"66f516c5-50f4-4a67-a640-9d888c6aa554","Name":"Non-billable Breakdown","Active":true,"UseQuery":false,"Query":null,"Size":4,"Order":6,"Parameters":"[\r\n    {\r\n        \"WidgetSubTitle\": \"Actual Time\",\r\n        \"WidgetType\": \"pie\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"#efefef\",\r\n        \"WidgetHeight\": \"\",\r\n        \"WidgetHeader\": {\r\n            \"showContextInfo\": false,\r\n            \"WidgetPeriodChooser\": {\r\n                \"type\": \"year\",\r\n                \"visible\": false\r\n            },\r\n            \"WidgetMetrics\": {\r\n                \"visible\": false,\r\n                \"Metrics\": [\r\n                    {\r\n                        \"visible\": false,\r\n                        \"metricName\": \"Total\",\r\n                        \"metricValue\": \"14,450\"\r\n                    }\r\n                ]\r\n            },\r\n            \"showSubTitle\": true,\r\n            \"showTitle\": true\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"queryText\",\r\n                \"value\": \"With Leaves As ( SELECT SUM(dl.[Hours]) AS [Hours] FROM Analytics.Leave(@CurrentUserId) dl WHERE 1 = 1 /*[DateFilter]*/ AND dl.[Date] BETWEEN @FromDate AND @ToDate /*[DateFilter]*/ ) SELECT TimeType, [Time] FROM ( SELECT SUM(dt.AdministrativeTime) as Administrative, SUM(dt.NewBusinessTime) as [New Business], MAX(l.[Hours]) AS Leaves, SUM(dt.InternalWorkTime) AS Internal FROM Analytics.Timesheet(@CurrentUserId) dt, Leaves l WHERE 1 = 1 /*[DateFilter]*/ AND dt.[Date] BETWEEN @FromDate AND @ToDate /*[DateFilter]*/ ) pvt UNPIVOT ( [Time] FOR TimeType IN (pvt.Administrative, pvt.[New Business], pvt.Leaves, pvt.Internal) ) AS unpvt\",\r\n                \"mapping\": \"\"\r\n            }\r\n        },\r\n        \"QueryConfiguration\": {\r\n            \"RequiredFilters\": [\r\n                \"startDate\",\r\n                \"endDate\"\r\n            ]\r\n        }\r\n    }\r\n]","DashboardComponentType":{"Id":"6f649e62-be82-4af7-8d64-06b32cf6c0ea","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Hours_NonBillable/execute","Configuration":"{\n\"size\":{\"height\":150},\n  \"palette\": \"Material\",\n  \"series\": [\n    {\n      \"argumentField\": \"TimeType\",\n      \"valueField\": \"Time\",\n      \"label\": {\n        \"position\":\"inside\",\n        \"visible\": true,\n        \"connector\": {\n          \"visible\": false,\n          \"width\": 0.5\n        },\n        \"format\": {\n     \r\n     \"type\": \"fixedPoint\",\n          \"precision\": 1,\n          \"percentPrecision\": 1\n        },\n        \"customizeText\": \"function (point) {return point.percentText;}\"\n      }\n    }\n  ],\n  \"legend\": {\n    \"visible\": true\n  }\n}","DashboardDefinitionId":"903176ad-6f42-4dab-a164-d557d1f70739"},{"Id":"e3b90a45-b8f4-4297-b199-da32cd06275b","Name":"Billable vs non - Billable","Active":true,"UseQuery":false,"Query":null,"Size":4,"Order":4,"Parameters":"[\r\n    {\r\n        \"WidgetSubTitle\": \"Actual Time\",\r\n        \"WidgetType\": \"pie\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"#efefef\",\r\n        \"WidgetHeight\": \"\",\r\n        \"WidgetHeader\": {\r\n            \"showContextInfo\": false,\r\n            \"WidgetPeriodChooser\": {\r\n                \"type\": \"year\",\r\n                \"visible\": false\r\n            },\r\n            \"WidgetMetrics\": {\r\n                \"visible\": false,\r\n                \"Metrics\": [\r\n                    {\r\n                        \"visible\": false,\r\n                        \"metricName\": \"Total\",\r\n                        \"metricValue\": \"14,450\"\r\n                    }\r\n                ]\r\n            },\r\n            \"showSubTitle\": true,\r\n            \"showTitle\": true\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"queryText\",\r\n                \"value\": \"With Leaves As ( SELECT SUM(dl.[Hours]) AS [Hours] FROM Analytics.Leave(@CurrentUserId) dl WHERE 1 = 1 /*[DateFilter]*/ AND dl.[Date] BETWEEN @FromDate AND @ToDate /*[DateFilter]*/ ) SELECT SUM(dt.BillableTime) as Billable, SUM(isnull(dt.AdministrativeTime, 0) + isnull(dt.NewBusinessTime, 0) + isnull(dt.InternalWorkTime, 0)) + isnull(MAX(l.[Hours]), 0) as NonBillable FROM Analytics.Timesheet(@CurrentUserId) dt LEFT OUTER JOIN Leaves l on (dt.Department = l.Department) WHERE 1 = 1 /*[DateFilter]*/ AND dt.[Date] BETWEEN @FromDate AND @ToDate /*[DateFilter]*/\",\r\n                \"mapping\": \"\"\r\n            }\r\n        },\r\n        \"QueryConfiguration\": {\r\n            \"RequiredFilters\": [\r\n                \"startDate\",\r\n                \"endDate\"\r\n            ]\r\n        }\r\n    }\r\n]","DashboardComponentType":{"Id":"6f649e62-be82-4af7-8d64-06b32cf6c0ea","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Hours_Billable_NonBillable/execute","Configuration":"{\n\"size\":{\"height\":150},\n  \"palette\": \"Material\",\n  \"series\": [\n    {\n      \"argumentField\": \"TimeType\",\n      \"valueField\": \"Time\",\n      \"label\": {\n        \"position\":\"inside\",\n        \"visible\": true,\n        \"connector\": {\n          \"visible\": false,\n          \"width\": 1\n        },\n        \"format\": {\n          \"type\": \"fixedPoint\",\n          \"precision\": 1,\n          \"percentPrecision\": 1\n        },\n        \"customizeText\": \"function (point) {return point.percentText;}\"\n      }\n    }\n  ],\n  \"legend\": {\n    \"visible\": true\n  }\n}","DashboardDefinitionId":"903176ad-6f42-4dab-a164-d557d1f70739"}]}