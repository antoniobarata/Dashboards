{
  "DashboardDefinitionRoles": [
  ],
  "Id": "742ec8a8-3bd2-456e-8d7a-691e474955f1",
  "Name": "DataWarehouse",
  "Active": true,
  "Location": 0,
  "DocumentId": "00000000-0000-0000-0000-000000000000",
  "DocumentName": "",
  "DocumentTypeName": null,
  "DocumentsConfiguration": "{\"entity\":\"\",\"operations\":{\"read\":{\"endpoint\":\"\"},\"update\":{\"endpoint\":\"\",\"model\":{}},\"create\":{\"endpoint\":\"\",\"model\":{}},\"patch\":{\"endpoint\":\"\",\"model\":[{\"field\":\"\",\"caption\":\"\",\"type\":\"\"}]},\"remove\":{\"endpoint\":\"\"},\"lookup\":{\"endpoint\":\"\"},\"lookupById\":{\"endpoint\":\"\"}},\"layout\":{\"create\":{},\"read\":{},\"patch\":{}},\"customDocument\":{\"useCustomStyle\":false,\"mainColor\":\"\",\"secondaryColor\":\"\",\"imageClass\":\"\",\"namePlural\":\"\",\"name\":\"\",\"systemName\":\"\"},\"availableOptions\":{\"feed\":false,\"info\":true,\"files\":false,\"userfields\":false,\"dashboard\":false}}",
  "Templates": [
  ],
  "DashboardDefinitionComponents": [
    {
      "Id": "f46d757f-53b1-4862-9fb4-f3bd7c6fdc93",
      "Name": "Data Status",
      "Active": true,
      "UseQuery": false,
      "Query": "",
      "Size": 12,
      "Order": 0,
      "Parameters": "[{\"WidgetSubTitle\":\"\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetXPosition\":0,\"WidgetYPosition\":0,\"WidgetRows\":48,\"WidgetColumns\":25,\"WidgetHeader\":{\"showTitle\":true,\"showSubTitle\":false,\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"SELECT\\r\\n\\t'Timesheets' as Datamart,\\r\\n\\t'Skill.Module.BusinessObjects.Timesheet' as DatamartDocumentType,\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'yyyy-MM-dd') as DatamartBeginDate,\\r\\n\\tFORMAT(EOMONTH(DATEFROMPARTS(v.[Year], v.[Month], 01)), 'yyyy-MM-dd') as DatamartEndDate,\\r\\n\\tv.[Year], \\r\\n\\tv.[Month],\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'MMM', 'en-US') AS [MonthName], \\r\\n\\tSUM(v.OpCnt) AS OpCnt,\\r\\n\\tSUM(v.DwCnt) AS DwCnt,\\r\\n\\t(SUM(v.DwCnt) - SUM(v.OpCnt)) AS MissingDwCnt  \\r\\nFROM\\r\\n(\\r\\n\\tSELECT \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month], \\r\\n\\t\\tCOUNT(*) as OpCnt,\\r\\n\\t\\t0 as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tdbo.SkillTimesheet v\\r\\n\\tGROUP BY \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month]\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month], \\r\\n\\t\\t0 as OpCnt,\\r\\n\\t\\tCOUNT(*) as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tAnalytics.DatamartTimesheet v\\r\\n\\tGROUP BY \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month]\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.[Year], \\r\\n\\tv.[Month]\\r\\n\\r\\nUNION ALL\\r\\nSELECT\\r\\n\\t'Leaves' as Datamart,\\r\\n\\t'Skill.Module.BusinessObjects.UserVacation' as DatamartDocumentType,\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'yyyy-MM-dd') as DatamartBeginDate,\\r\\n\\tFORMAT(EOMONTH(DATEFROMPARTS(v.[Year], v.[Month], 01)), 'yyyy-MM-dd') as DatamartEndDate,\\r\\n\\tv.[Year], \\r\\n\\tv.[Month],\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'MMM', 'en-US') AS [MonthName], \\r\\n\\tSUM(v.OpCnt) AS OpCnt,\\r\\n\\tSUM(v.DwCnt) AS DwCnt,\\r\\n\\t(SUM(v.DwCnt) - SUM(v.OpCnt)) AS MissingDwCnt  \\r\\nFROM\\r\\n(\\r\\n\\tSELECT \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month], \\r\\n\\t\\tCOUNT(*) as OpCnt,\\r\\n\\t\\t0 as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tdbo.SkillUserVacation v\\r\\n\\tGROUP BY \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month]\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month], \\r\\n\\t\\t0 as OpCnt,\\r\\n\\t\\tCOUNT(*) as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tAnalytics.DatamartLeave v\\r\\n\\tGROUP BY \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month]\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.[Year], \\r\\n\\tv.[Month]\\r\\nUNION ALL\\r\\nSELECT\\r\\n\\t'Estimates' as Datamart,\\r\\n\\t'Skill.Module.BusinessObjects.Estimate' as DatamartDocumentType,\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'yyyy-MM-dd') as DatamartBeginDate,\\r\\n\\tFORMAT(EOMONTH(DATEFROMPARTS(v.[Year], v.[Month], 01)), 'yyyy-MM-dd') as DatamartEndDate,\\r\\n\\tv.[Year], \\r\\n\\tv.[Month],\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'MMM', 'en-US') AS [MonthName], \\r\\n\\tSUM(v.OpCnt) AS OpCnt,\\r\\n\\tSUM(v.DwCnt) AS DwCnt,\\r\\n\\t(SUM(v.DwCnt) - SUM(v.OpCnt)) AS MissingDwCnt  \\r\\nFROM\\r\\n(\\r\\n\\tSELECT \\r\\n\\t\\tYear(v.[Date]) AS [Year], \\r\\n\\t\\tMonth(v.[Date]) AS [Month], \\r\\n\\t\\tCOUNT(*) as OpCnt,\\r\\n\\t\\t0 as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tdbo.Estimate v, \\r\\n\\t\\tdbo.EstimateItem eit, \\r\\n\\t\\tdbo.EstimateItemDetail edt\\r\\n\\tWHERE\\r\\n\\t\\teit.Estimate = v.Oid\\r\\n\\t\\tAND edt.EstimateItem = eit.Oid\\r\\n\\tGROUP BY \\r\\n\\t\\tYear(v.[Date]), \\r\\n\\t\\tMonth(v.[Date])\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month], \\r\\n\\t\\t0 as OpCnt,\\r\\n\\t\\tCOUNT(*) as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tAnalytics.DatamartEstimate v\\r\\n\\tGROUP BY \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month]\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.[Year], \\r\\n\\tv.[Month]\\r\\nUNION ALL\\r\\nSELECT\\r\\n\\t'Holiday' as Datamart,\\r\\n\\t'Skill.Module.BusinessObjects.Holiday' as DatamartDocumentType,\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'yyyy-MM-dd') as DatamartBeginDate,\\r\\n\\tFORMAT(EOMONTH(DATEFROMPARTS(v.[Year], v.[Month], 01)), 'yyyy-MM-dd') as DatamartEndDate,\\r\\n\\tv.[Year], \\r\\n\\tv.[Month],\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'MMM', 'en-US') AS [MonthName], \\r\\n\\tSUM(v.OpCnt) AS OpCnt,\\r\\n\\tSUM(v.DwCnt) AS DwCnt,\\r\\n\\t(SUM(v.DwCnt) - SUM(v.OpCnt)) AS MissingDwCnt  \\r\\nFROM\\r\\n(\\r\\n\\tSELECT \\r\\n\\t\\tYear(v.[Date]) AS [Year], \\r\\n\\t\\tMonth(v.[Date]) AS [Month], \\r\\n\\t\\tCOUNT(*) as OpCnt,\\r\\n\\t\\t0 as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tdbo.Holiday v\\r\\n\\t\\tLEFT OUTER JOIN dbo.[SkillUserWithoutSystemAdministrators] suwsa ON (v.Company IS NULL OR suwsa.Company = v.Company)\\r\\n\\tGROUP BY \\r\\n\\t\\tYear(v.[Date]), \\r\\n\\t\\tMonth(v.[Date])\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month], \\r\\n\\t\\t0 as OpCnt,\\r\\n\\t\\tCOUNT(*) as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tAnalytics.DatamartHoliday v\\r\\n\\tGROUP BY \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month]\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.[Year], \\r\\n\\tv.[Month]\\r\\nUNION ALL\\r\\nSELECT\\r\\n\\t'Job' as Datamart,\\r\\n\\t'Skill.Module.BusinessObjects.Deliverable' as DatamartDocumentType,\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'yyyy-MM-dd') as DatamartBeginDate,\\r\\n\\tFORMAT(EOMONTH(DATEFROMPARTS(v.[Year], v.[Month], 01)), 'yyyy-MM-dd') as DatamartEndDate,\\r\\n\\tv.[Year], \\r\\n\\tv.[Month],\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'MMM', 'en-US') AS [MonthName], \\r\\n\\tSUM(v.OpCnt) AS OpCnt,\\r\\n\\tSUM(v.DwCnt) AS DwCnt,\\r\\n\\t(SUM(v.DwCnt) - SUM(v.OpCnt)) AS MissingDwCnt  \\r\\nFROM\\r\\n(\\r\\n\\tSELECT \\r\\n\\t\\tYear(v.AgreedDateUtc) AS [Year], \\r\\n\\t\\tMonth(v.AgreedDateUtc) AS [Month], \\r\\n\\t\\tCOUNT(*) as OpCnt,\\r\\n\\t\\t0 as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tdbo.SkillDeliverableWithoutDeleted v\\r\\n\\tWHERE\\r\\n\\t\\tv.IsDraft = 0\\r\\n\\tGROUP BY \\r\\n\\t\\tYear(v.AgreedDateUtc), \\r\\n\\t\\tMonth(v.AgreedDateUtc)\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month], \\r\\n\\t\\t0 as OpCnt,\\r\\n\\t\\tCOUNT(*) as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tAnalytics.DatamartJob v\\r\\n\\tGROUP BY \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month]\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.[Year], \\r\\n\\tv.[Month]\\r\\nUNION ALL\\r\\nSELECT\\r\\n\\t'Planned Hours' as Datamart,\\r\\n\\t'Skill.Module.BusinessObjects.PlannedHoursAdjustment' as DatamartDocumentType,\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'yyyy-MM-dd') as DatamartBeginDate,\\r\\n\\tFORMAT(EOMONTH(DATEFROMPARTS(v.[Year], v.[Month], 01)), 'yyyy-MM-dd') as DatamartEndDate,\\r\\n\\tv.[Year], \\r\\n\\tv.[Month],\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'MMM', 'en-US') AS [MonthName], \\r\\n\\tSUM(v.OpCnt) AS OpCnt,\\r\\n\\tSUM(v.DwCnt) AS DwCnt,\\r\\n\\t(SUM(v.DwCnt) - SUM(v.OpCnt)) AS MissingDwCnt  \\r\\nFROM\\r\\n(\\r\\n\\tSELECT \\r\\n\\t\\tYear(v.[Date]) AS [Year], \\r\\n\\t\\tMonth(v.[Date]) AS [Month], \\r\\n\\t\\tCOUNT(*) as OpCnt,\\r\\n\\t\\t0 as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tdbo.PlannedHoursAdjustment v\\r\\n\\tWHERE\\r\\n\\t\\tv.GCRecord IS NULL\\r\\n\\tGROUP BY \\r\\n\\t\\tYear(v.[Date]), \\r\\n\\t\\tMonth(v.[Date])\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month], \\r\\n\\t\\t0 as OpCnt,\\r\\n\\t\\tCOUNT(*) as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tAnalytics.DatamartPlannedHours v\\r\\n\\tGROUP BY \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month]\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.[Year], \\r\\n\\tv.[Month]\\r\\nUNION ALL\\r\\nSELECT\\r\\n\\t'Planned Costs' as Datamart,\\r\\n\\t'Skill.Module.BusinessObjects.PlannedCostsAdjustment' as DatamartDocumentType,\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'yyyy-MM-dd') as DatamartBeginDate,\\r\\n\\tFORMAT(EOMONTH(DATEFROMPARTS(v.[Year], v.[Month], 01)), 'yyyy-MM-dd') as DatamartEndDate,\\r\\n\\tv.[Year], \\r\\n\\tv.[Month],\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'MMM', 'en-US') AS [MonthName], \\r\\n\\tSUM(v.OpCnt) AS OpCnt,\\r\\n\\tSUM(v.DwCnt) AS DwCnt,\\r\\n\\t(SUM(v.DwCnt) - SUM(v.OpCnt)) AS MissingDwCnt  \\r\\nFROM\\r\\n(\\r\\n\\tSELECT \\r\\n\\t\\tYear(v.[Date]) AS [Year], \\r\\n\\t\\tMonth(v.[Date]) AS [Month], \\r\\n\\t\\tCOUNT(*) as OpCnt,\\r\\n\\t\\t0 as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tdbo.PlannedCostsAdjustment v\\r\\n\\tWHERE\\r\\n\\t\\tv.GCRecord IS NULL\\r\\n\\tGROUP BY \\r\\n\\t\\tYear(v.[Date]), \\r\\n\\t\\tMonth(v.[Date])\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month], \\r\\n\\t\\t0 as OpCnt,\\r\\n\\t\\tCOUNT(*) as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tAnalytics.DatamartPlannedCosts v\\r\\n\\tGROUP BY \\r\\n\\t\\tv.[Year], \\r\\n\\t\\tv.[Month]\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.[Year], \\r\\n\\tv.[Month]\\r\\nUNION ALL\\r\\nSELECT\\r\\n\\t'Planned Hours Total' as Datamart,\\r\\n\\t'Skill.Module.BusinessObjects.PlannedHoursTotal' as DatamartDocumentType,\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'yyyy-MM-dd') as DatamartBeginDate,\\r\\n\\tFORMAT(EOMONTH(DATEFROMPARTS(v.[Year], v.[Month], 01)), 'yyyy-MM-dd') as DatamartEndDate,\\r\\n\\tv.[Year], \\r\\n\\tv.[Month],\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'MMM', 'en-US') AS [MonthName], \\r\\n\\tSUM(v.OpCnt) AS OpCnt,\\r\\n\\tSUM(v.DwCnt) AS DwCnt,\\r\\n\\t(SUM(v.DwCnt) - SUM(v.OpCnt)) AS MissingDwCnt  \\r\\nFROM\\r\\n(\\r\\n\\tSELECT \\r\\n\\t\\tYear(GETDATE()) AS [Year], \\r\\n\\t\\tMonth(GETDATE()) AS [Month], \\r\\n\\t\\tCOUNT(*) as OpCnt,\\r\\n\\t\\t0 as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tdbo.PlannedHoursTotal v\\r\\n\\tWHERE\\r\\n\\t\\tv.GCRecord IS NULL\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tYear(GETDATE()), \\r\\n\\t\\tMonth(GETDATE()),\\r\\n\\t\\t0 as OpCnt,\\r\\n\\t\\tCOUNT(*) as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tAnalytics.DatamartPlannedHoursTotal v\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.[Year], \\r\\n\\tv.[Month]\\r\\nUNION ALL\\r\\nSELECT\\r\\n\\t'Planned Costs Total' as Datamart,\\r\\n\\t'Skill.Module.BusinessObjects.PlannedCostsTotal' as DatamartDocumentType,\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'yyyy-MM-dd') as DatamartBeginDate,\\r\\n\\tFORMAT(EOMONTH(DATEFROMPARTS(v.[Year], v.[Month], 01)), 'yyyy-MM-dd') as DatamartEndDate,\\r\\n\\tv.[Year], \\r\\n\\tv.[Month],\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'MMM', 'en-US') AS [MonthName], \\r\\n\\tSUM(v.OpCnt) AS OpCnt,\\r\\n\\tSUM(v.DwCnt) AS DwCnt,\\r\\n\\t(SUM(v.DwCnt) - SUM(v.OpCnt)) AS MissingDwCnt  \\r\\nFROM\\r\\n(\\r\\n\\tSELECT \\r\\n\\t\\tYear(GETDATE()) AS [Year], \\r\\n\\t\\tMonth(GETDATE()) AS [Month], \\r\\n\\t\\tCOUNT(*) as OpCnt,\\r\\n\\t\\t0 as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tdbo.PlannedCostsTotal v\\r\\n\\tWHERE\\r\\n\\t\\tv.GCRecord IS NULL\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tYear(GETDATE()), \\r\\n\\t\\tMonth(GETDATE()),\\r\\n\\t\\t0 as OpCnt,\\r\\n\\t\\tCOUNT(*) as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tAnalytics.DatamartPlannedCostsTotal v\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.[Year], \\r\\n\\tv.[Month]\\r\\nUNION ALL\\r\\nSELECT\\r\\n\\t'Projects' as Datamart,\\r\\n\\t'Skill.Module.BusinessObjects.Project' as DatamartDocumentType,\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'yyyy-MM-dd') as DatamartBeginDate,\\r\\n\\tFORMAT(EOMONTH(DATEFROMPARTS(v.[Year], v.[Month], 01)), 'yyyy-MM-dd') as DatamartEndDate,\\r\\n\\tv.[Year], \\r\\n\\tv.[Month],\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'MMM', 'en-US') AS [MonthName], \\r\\n\\tSUM(v.OpCnt) AS OpCnt,\\r\\n\\tSUM(v.DwCnt) AS DwCnt,\\r\\n\\t(SUM(v.DwCnt) - SUM(v.OpCnt)) AS MissingDwCnt  \\r\\nFROM\\r\\n(\\r\\n\\tSELECT \\r\\n\\t\\tYear(v.BeginDate) AS [Year], \\r\\n\\t\\tMonth(v.BeginDate) AS [Month], \\r\\n\\t\\tCOUNT(*) as OpCnt,\\r\\n\\t\\t0 as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tdbo.Project v\\r\\n\\tWHERE\\r\\n\\t\\tv.IsDraft = 0\\r\\n\\tGROUP BY \\r\\n\\t\\tYear(v.BeginDate), \\r\\n\\t\\tMonth(v.BeginDate)\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tYear(v.[Date]), \\r\\n\\t\\tMonth(v.[Date]),\\r\\n\\t\\t0 as OpCnt,\\r\\n\\t\\tCOUNT(*) as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tAnalytics.DatamartProject v\\r\\n\\tGROUP BY \\r\\n\\t\\tYear(v.[Date]), \\r\\n\\t\\tMonth(v.[Date])\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.[Year], \\r\\n\\tv.[Month]\\r\\nUNION ALL\\r\\nSELECT\\r\\n\\t'Users' as Datamart,\\r\\n\\t'Skill.Module.BusinessObjects.User' as DatamartDocumentType,\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'yyyy-MM-dd') as DatamartBeginDate,\\r\\n\\tFORMAT(EOMONTH(DATEFROMPARTS(v.[Year], v.[Month], 01)), 'yyyy-MM-dd') as DatamartEndDate,\\r\\n\\tv.[Year], \\r\\n\\tv.[Month],\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'MMM', 'en-US') AS [MonthName], \\r\\n\\tSUM(v.OpCnt) AS OpCnt,\\r\\n\\tSUM(v.DwCnt) AS DwCnt,\\r\\n\\t(SUM(v.DwCnt) - SUM(v.OpCnt)) AS MissingDwCnt\\r\\nFROM\\r\\n(\\r\\n\\tSELECT \\r\\n\\t\\tYear(v.[Date]) as [Year], \\r\\n\\t\\tMonth(v.[Date]) as [Month], \\r\\n\\t\\tSUM(v.OpCnt) as OpCnt,\\r\\n\\t\\t0 as DwCnt\\r\\n\\tFROM \\r\\n\\t\\t(\\r\\n\\t\\t\\tSELECT \\r\\n\\t\\t\\t\\tCOUNT(*) as OpCnt, \\r\\n\\t\\t\\t\\tyd.[Day] as [Date]\\r\\n\\t\\t\\tFROM \\r\\n\\t\\t\\t\\tdbo.SecuritySystemUser ssu,\\r\\n\\t\\t\\t\\tdbo.[User] u, \\r\\n\\t\\t\\t\\tdbo.YearDay yd \\r\\n\\t\\t\\tWHERE\\r\\n\\t\\t\\t\\t(u.StartDate IS NULL OR yd.[Day] >= CAST(u.StartDate as date))\\r\\n\\t\\t\\t\\tAND ssu.GCRecord IS NULL\\r\\n\\t\\t\\t\\tAND ssu.Oid = u.Oid\\r\\n\\t\\t\\tGROUP BY\\r\\n\\t\\t\\t\\tyd.[Day]\\r\\n\\t\\t) v\\r\\n\\tGROUP BY\\r\\n\\t\\tYear(v.[Date]), \\r\\n\\t\\tMonth(v.[Date])\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tYear(v.[Date]), \\r\\n\\t\\tMonth(v.[Date]),\\r\\n\\t\\t0 as OpCnt,\\r\\n\\t\\tCOUNT(*) as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tAnalytics.DatamartUser v\\r\\n\\tGROUP BY \\r\\n\\t\\tYear(v.[Date]), \\r\\n\\t\\tMonth(v.[Date])\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.[Year], \\r\\n\\tv.[Month]\\r\\nUNION ALL\\r\\nSELECT\\r\\n\\t'ACL' as Datamart,\\r\\n\\t'Analytics.DatamartACL' as DatamartDocumentType,\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'yyyy-MM-dd') as DatamartBeginDate,\\r\\n\\tFORMAT(EOMONTH(DATEFROMPARTS(v.[Year], v.[Month], 01)), 'yyyy-MM-dd') as DatamartEndDate,\\r\\n\\tv.[Year], \\r\\n\\tv.[Month],\\r\\n\\tFORMAT(DATEFROMPARTS(v.[Year], v.[Month], 01), 'MMM', 'en-US') AS [MonthName], \\r\\n\\tSUM(v.OpCnt) AS OpCnt,\\r\\n\\tSUM(v.DwCnt) AS DwCnt,\\r\\n\\t(SUM(v.DwCnt) - SUM(v.OpCnt)) AS MissingDwCnt  \\r\\nFROM\\r\\n(\\r\\n\\tSELECT \\r\\n\\t\\tYear(GETDATE()) AS [Year], \\r\\n\\t\\tMonth(GETDATE()) AS [Month], \\r\\n\\t\\tSUM(v.OpCnt) AS OpCnt,\\r\\n\\t\\t0 as DwCnt\\r\\n\\tFROM \\r\\n\\t(\\r\\n\\t\\tSELECT \\r\\n\\t\\t\\tCOUNT(*) OpCnt\\r\\n\\t\\tFROM \\r\\n\\t\\t\\tdbo.SecuritySystemUser u,\\r\\n\\t\\t\\tdbo.CommercialClientUser ccu \\r\\n\\t\\tWHERE\\r\\n\\t\\t\\tu.IsActive = 1 AND\\r\\n\\t\\t\\tu.GCRecord IS NULL AND\\r\\n\\t\\t\\tu.Oid = ccu.[User] AND\\r\\n\\t\\t\\tccu.Active = 1\\r\\n\\t\\tUNION\\r\\n\\t\\tSELECT \\r\\n\\t\\t\\tCOUNT(*) OpCnt\\r\\n\\t\\tFROM \\r\\n\\t\\t\\tdbo.[SecuritySystemUser] u,\\r\\n\\t\\t\\tdbo.CommercialClient cc\\r\\n\\t\\tWHERE\\r\\n\\t\\t\\tu.IsActive = 1 AND\\r\\n\\t\\t\\tu.GCRecord IS NULL AND\\r\\n\\t\\t\\tcc.GCRecord IS NULL AND\\r\\n\\t\\t\\tNOT EXISTS(SELECT 1 FROM dbo.CommercialClientUser WHERE Active = 1 AND [User] = u.Oid)\\r\\n\\t\\t\\tAND EXISTS\\r\\n            (\\r\\n                SELECT\\r\\n\\t\\t\\t\\t\\t1\\r\\n                FROM    \\r\\n\\t\\t\\t\\t\\tdbo.UserUsers_CompanyCompanies uucc, \\r\\n\\t\\t\\t\\t\\tdbo.Company com, \\r\\n\\t\\t\\t\\t\\tdbo.CommercialClientCompany ccc\\r\\n                WHERE   \\r\\n\\t\\t\\t\\t\\tuucc.Users = u.Oid AND\\r\\n                    com.Oid = Companies AND\\r\\n                    com.AllUsersCanSeeCommercialClients = 1 AND\\r\\n                    ccc.Company = com.Oid AND\\r\\n                    ccc.CommercialClient = cc.Oid\\r\\n            )\\r\\n\\t\\tUNION\\r\\n\\t\\tSELECT\\t\\r\\n\\t\\t\\tCOUNT(*) OpCnt\\r\\n\\t\\tFROM \\r\\n\\t\\t\\tdbo.SecuritySystemUser u,\\r\\n\\t\\t\\tdbo.SkillUsersCompanies suc \\r\\n\\t\\tWHERE \\r\\n\\t\\t\\tu.IsActive = 1 AND\\r\\n\\t\\t\\tu.GCRecord IS NULL AND\\r\\n\\t\\t\\tsuc.[User] = u.Oid AND\\r\\n\\t\\t\\tsuc.[Company] IS NOT NULL AND\\r\\n\\t\\t\\tsuc.[User] IS NOT NULL\\r\\n\\t) v\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tYear(GETDATE()), \\r\\n\\t\\tMonth(GETDATE()),\\r\\n\\t\\t0 as OpCnt,\\r\\n\\t\\tCOUNT(*) as DwCnt\\r\\n\\tFROM \\r\\n\\t\\tAnalytics.DatamartACL v\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.[Year], \\r\\n\\tv.[Month]\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[]}}]",
      "DashboardComponentType": {
        "Id": "c666ba5e-8578-4132-86a5-0f96c665000d",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "",
      "Configuration": "{\"size\":{\"height\":\"100%\",\"width\":\"100%\"},\"width\":\"100%\",\"grouping\":{\"autoExpandAll\":true},\"searchPanel\":{\"visible\":true},\"scrolling\":{\"mode\":\"virtual\"},\"groupPanel\":{\"visible\":true},\"filterPanel\":{\"visible\":true,\"filterEnabled\":true},\"headerFilter\":{\"visible\":true,\"allowSearch\":true},\"selection\":{\"mode\":\"none\"},\"editing\":{\"mode\":\"row\",\"allowEditing\":false,\"allowUpdating\":true,\"allowDeleting\":false,\"useIcons\":true},\"columns\":[{\"type\":\"buttons\",\"width\":110,\"visibleIndex\":6,\"buttons\":[{\"hint\":\"Reset\",\"icon\":\"repeat\",\"visible\":true,\"onClick\":\"function(e) {                        SW.executeAPI('POST', 'analytics/dataWarehouse/resetData', null, {'documentType': e.row.data.DatamartDocumentType, 'beginDate': e.row.data.DatamartBeginDate, 'endDate': e.row.data.DatamartEndDate});                        e.event.preventDefault();                    }\"}]},{\"dataField\":\"Year\",\"groupIndex\":0,\"visibleIndex\":0,\"width\":60,\"sortOrder\":\"asc\"},{\"dataField\":\"Datamart\",\"visibleIndex\":1,\"width\":120,\"sortOrder\":\"asc\"},{\"dataField\":\"MonthName\",\"caption\":\"Month\",\"visibleIndex\":2,\"width\":60},{\"dataField\":\"OpCnt\",\"visibleIndex\":3,\"caption\":\"Skills\",\"width\":100},{\"dataField\":\"DwCnt\",\"visibleIndex\":4,\"caption\":\"DataWarehouse\",\"width\":100},{\"dataField\":\"MissingDwCnt\",\"visibleIndex\":5,\"caption\":\"Variation\",\"width\":100}]}",
      "DashboardDefinitionId": "742ec8a8-3bd2-456e-8d7a-691e474955f1"
    }
  ]
}
