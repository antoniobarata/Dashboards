{"DashboardDefinitionRoles":[],"Id":"bc907787-f8af-44f4-8c51-fa4a3d41fe2a","Name":"IntegrOps Dasboard","Active":true,"Location":0,"DocumentId":"00000000-0000-0000-0000-000000000000","DocumentName":"","DocumentsConfiguration":null,"Templates":[],"DashboardDefinitionComponents":[{"Id":"6b6ed1af-94cd-4bc6-ab09-6474b5880669","Name":"Overtime view","Active":true,"UseQuery":false,"Query":null,"Size":4,"Order":2,"Parameters":"[\r\n    {\r\n        \"WidgetSubTitle\": \"Closed and In Progress Tickets\",\r\n        \"WidgetType\": \"rangeSelector\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"#e0e0e0\",\r\n        \"WidgetHeight\": \"250\",\r\n        \"WidgetHeader\": {\r\n            \"WidgetPeriodChooser\": {\r\n                \"startDate\": \"2019/04/01\",\r\n                \"endDate\": \"2019/07/30\",\r\n                \"type\": \"year\",\r\n                \"visible\": false\r\n            },\r\n            \"WidgetMetrics\": {\r\n                \"visible\": true,\r\n                \"Metrics\": [\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"# Done\",\r\n                        \"metricFieldValue\": \"Done\"\r\n                    },\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"# To Do\",\r\n                        \"metricFieldValue\": \"ToDo\"\r\n                    }\r\n                ]\r\n            },\r\n            \"showSubTitle\": true,\r\n            \"showTitle\": true\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"queryText\",\r\n                \"value\": \"select max(datepart(ww, j.AgreedDateUtc)) as week, cast(min(j.AgreedDateUtc) as date) as WeekStart, sum(iif(ws.name in ('Done', 'Closed','Closed (unrelated)' ,'Canceled', 'On Hold'), 1, 0)) as Done, sum(iif(ws.name not in ('Done', 'Closed','Closed (unrelated)' ,'Canceled', 'On Hold','Scheduled for Development'), 1, 0)) as ToDo from    Deliverable j, WorkflowState ws, WorkflowStateType wst, Department dep where   ws.Oid = j.WorkflowState and wst.Oid = ws.WorkflowStateType and dep.Oid = j.Department and exists ( select 1 from Assignment ass, AssignmentType ast where ass.[User] = '34c14c76-fe0e-45c5-ac88-e30ce0824e8d' and ass.DocumentOid = j.Oid and ass.AssignmentType = ast.Oid and ast.Name = 'Executor' ) /*[DateFilter]*/ and cast(j.AgreedDateUtc as Date) >= @FromDate and cast(j.AgreedDateUtc as Date) < @ToDate/*[/DateFilter]*/ group by datepart(yyyy, j.AgreedDateUtc), datepart(ww, j.AgreedDateUtc) order by WeekStart\"\r\n            }\r\n        },\r\n        \"QueryConfiguration\": {\r\n            \"RequiredFilters\": [\r\n                \"startDate\",\r\n                \"endDate\"\r\n            ]\r\n        }\r\n    }\r\n]","DashboardComponentType":{"Id":"6f649e62-be82-4af7-8d64-06b32cf6c0ea","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/IntegrOps - Overtime/execute","Configuration":"{\n  \"height\":\"50%\",\n  \"containerBackgroundColor\":\"#e0e0e0\",\n  \"selectedRangeColor\": \"#f5564a\",\n  \"chart\": {\n    \"commonSeriesSettings\": {\n      \"type\": \"steparea\",\n      \"argumentField\": \"WeekStart\"\n    },\n    \"series\": [\n      {\n        \"valueField\": \"Done\"\n      },\n        {\n         \"valueField\": \"ToDo\"\n      }\n    ]\n  },\n  \"scale\": {\n    \"minorTickInterval\": \"week\",\n    \"tickInterval\": \"week\",\n    \"valueType\": \"datetime\"\n  },\n  \"sliderMarker\": {\n    \"format\": \"monthAndDay\",\n    \"color\": \"#da5859\"\n  },\n  \"value\": [\n    \"2019/06/03\",\n    \"2019/06/10\"\n  ]\n}","DashboardDefinitionId":"bc907787-f8af-44f4-8c51-fa4a3d41fe2a"},{"Id":"b42b1444-876f-41c1-baea-8b35133d6722","Name":"Activity Jobs","Active":true,"UseQuery":false,"Query":null,"Size":8,"Order":0,"Parameters":"[\r\n    {\r\n        \"WidgetSubTitle\": \"Tickets in the Selected Period\",\r\n        \"WidgetType\": \"grid\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"\",\r\n        \"WidgetHeight\": \"\",\r\n        \"WidgetHeader\": {\r\n            \"showContextInfo\": false,\r\n            \"WidgetPeriodChooser\": {\r\n                \"type\": \"year\",\r\n                \"visible\": false\r\n            },\r\n            \"WidgetMetrics\": {\r\n                \"visible\": true,\r\n                \"Metrics\": [\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"# Work To Do\",\r\n                        \"metricFieldValue\": \"WorkGrandTotal\"\r\n                    },\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"# Delayed To Do\",\r\n                        \"metricFieldValue\": \"DelayedToDoJobsGrandTotal\"\r\n                    },\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"# Delayed Work in Progress\",\r\n                        \"metricFieldValue\": \"DelayedWorkInProgressJobsGrandTotal\"\r\n                    }\r\n                ]\r\n            },\r\n            \"showSubTitle\": true,\r\n            \"showTitle\": true\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"queryText\",\r\n                \"value\": \"select j.effort, j.NameAndExternalId as Job, ws.Name as Stage, j.Project, j.AgreedDateUtc as Enddate, j.Oid, j.Priority as Priority, isnull(ws.Color, wst.Color) as Color, datediff(day,getdate(),AgreedDateUtc) as Days, DATEDIFF(day,ModifiedOn,getdate()) as LastActivity, sum(iif(ws.name = 'To Do' and CONVERT(char(10), AgreedDateUtc,126)< CONVERT(char(10), GetDate(),126), 1, 0)) over() as DelayedToDoJobsGrandTotal, sum(iif(ws.name = 'Work in Progress' and CONVERT(char(10), AgreedDateUtc,126)< CONVERT(char(10), GetDate(),126), 1, 0)) over() as DelayedWorkInProgressJobsGrandTotal, sum(iif(ws.name not in ('Draft','Done', 'Closed','Closed (unrelated)' ,'Canceled', 'On Hold', 'Scheduled for Development'),1,0)) over() as WorkGrandTotal, (select min(ass.[User]) from Assignment ass, AssignmentType ast where ass.DocumentOid = j.Oid and ast.Name = 'Executor' and ass.AssignmentType = ast.Oid) as Executor from Deliverable j, WorkflowState ws, WorkflowStateType wst, Department dep where ws.Oid = j.WorkflowState and wst.Oid = ws.WorkflowStateType and dep.Oid = j.Department and ws.name not in ('Draft','Done', 'Closed','Closed (unrelated)' ,'Canceled', 'On Hold', 'Scheduled for Development', 'Under Approval', 'Request Approval') and exists ( select 1 from Assignment ass, AssignmentType ast where ass.[User] = '34c14c76-fe0e-45c5-ac88-e30ce0824e8d' and ass.DocumentOid = j.Oid and ass.AssignmentType = ast.Oid and ast.Name = 'Executor' ) /*[DateFilter]*/ and j.AgreedDateUtc >= @FromDate and j.AgreedDateUtc <= @ToDate /*[/DateFilter]*/\",\r\n                \"mapping\": \"\"\r\n            }\r\n        },\r\n        \"QueryConfiguration\": {\r\n            \"RequiredFilters\": [\r\n                \"startDate\",\r\n                \"endDate\"\r\n            ]\r\n        }\r\n    }\r\n]","DashboardComponentType":{"Id":"6f649e62-be82-4af7-8d64-06b32cf6c0ea","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/IntegrOps - Activity/execute","Configuration":"{  \n  \"size\": {\n      \"height\": 650\n  },\n  \"onRowClick\": \"function(e){if(e.rowType=='data') SkillsWorkflow.preview(e.key, 'job');}\",\n  \"keyExpr\" : \"Oid\",\n  \"selection\": {\n    \"mode\": \"single\"\n  },\n\"allowFiltering\":true,\n  \"searchPanel\": {\n            \"visible\": true\n  },\n\"headerFilter\":{\n  \"visible\":true\n},\n  \"scrolling\": {\n    \"mode\": \"virtual\"\n  },\n  \"columnMinWidth\": 50,\n  \"grouping\":{\"autoExpandAll\":true},\n  \"columns\": [\n\n    {\n      \"dataField\": \"Job\",\n      \"name\": \"Jobs\",\n      \"caption\": \"Jobs\",\n      \"width\": 500\n    },\n {\n      \"dataField\": \"LastActivity\",\n      \"caption\": \"Last Activity\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\",\n      \"width\":100,\n      \"cellTemplate\": \"function(e, i) {var h=e.append('<div>'+i.text+'</div>');\nif(i.value>15) \n{h.children().css('text-align','center').css('min-width', '30px').css('background-color','#f7412d').css('color','#ffffff').css('border-radius','2px').css('padding','3px 7px').css('font-weight','700').css('white-space','nowrap').css('display','inline-block')};\nif(i.value>=5 && i.value<15)\n{h.children().css('text-align','center').css('min-width', '30px').css('background-color','#ffc720').css('color','#ffffff').css('border-radius','2px').css('padding','3px 7px').css('font-weight','700').css('white-space','nowrap').css('display','inline-block')};\nif(i.value<5)\n{h.children().css('text-align','center').css('min-width', '30px').css('background-color','#7ec880').css('color','#ffffff').css('border-radius','2px').css('padding','3px 7px').css('font-weight','700').css('white-space','nowrap').css('display','inline-block')};}\"\n    },\n    {\n      \"dataField\": \"Days\",\n      \"caption\": \"Days\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\",\n      \"width\": 70,\n      \"cellTemplate\": \"function(e, i) {var h=e.append('<div>'+i.text+'</div>');\nif(i.value<0) \n{h.children().css('text-align','center').css('min-width', '30px').css('background-color','#f5564a').css('color','#ffffff').css('border-radius','2px').css('padding','3px 7px').css('font-weight','700').css('white-space','nowrap').css('display','inline-block')};\nif(i.value>=2) \n{h.children().css('text-align','center').css('min-width', '30px').css('background-color','#7ec880').css('color','#ffffff').css('border-radius','2px').css('padding','3px 7px').css('font-weight','700').css('white-space','nowrap').css('display','inline-block')};\nif(i.value==0 || i.value==1)\n{h.children().css('text-align','center').css('min-width', '30px').css('background-color','#ffc720').css('color','#ffffff').css('border-radius','2px').css('padding','3px 7px').css('font-weight','700').css('white-space','nowrap').css('display','inline-block')};}\"\n    },\n    {\n      \"dataField\": \"effort\",\n      \"caption\": \"Effort\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\",\n      \"width\": 70\n    },\n    {\n      \"dataField\": \"Stage\",\n      \"caption\": \"Stage\",\n      \"name\": \"Name\",\n      \"alignment\": \"left\",\n      \"format\": \"#,##0\",\n      \"width\": 80,\n      \"groupCellTemplate\": \"function(e, i) {var color=i.component.option().dataSource.find(row=>row.Stage==i.text).Color;var h=document.createElement('span');h.style.backgroundColor = color; h.classList.add('documentStageColor');e.append(h);h=document.createElement('span'); var ht=' ' + i.text + ' ('+i.summaryItems[0].value+')'; h.innerHTML = ht;e.append(h);}\",\n      \"groupIndex\": 0\n    },\n {\n      \"dataField\": \"Enddate\",\n      \"caption\": \"End date\",\n      \"alignment\": \"right\",\n      \"dataType\": \"date\",\n      \"format\": \"d MMM\",\n      \"width\": 100\n},\n{\n      \"dataField\": \"Priority\",\n      \"caption\": \"Priority\",\n      \"alignment\": \"center\",\n      \"format\": \"#,##0\",\n      \"width\": 70,\n      \"cellTemplate\": \"function(e, i) { \ndebugger;\nvar h=e.append('<div></div>');\n          if (i.value==2) \n            h.children().addClass('fal fa-tachometer-fastest').css('color','#f7412d');\n          if (i.value==1)\n            h.children().addClass('fal fa-tachometer-average').css('color','#3ba3f8');\n          if (i.value==0)\n            h.children().addClass('fal fa-tachometer-slowest').css('color','#7ec880');\n\n}\"\n}\n],\n  \"sortByGroupSummaryInfo\": [\n    {\n      \"summaryItem\": \"count\"\n    }\n  ],\n  \"summary\": {\n    \"groupItems\": [\n      {\n        \"column\": \"Jobs\",\n        \"summaryType\": \"count\",\n        \"valueFormat\": \"#,##0\",\n        \"displayFormat\": \"{0}\",\n        \"alignment\": \"left\"\n      }\n    ],\n    \"totalItems\": [\n      {\n        \"column\": \"Effort\",\n        \"summaryType\": \"sum\",\n        \"valueFormat\": \"#,##0\",\n        \"displayFormat\": \"{0}\",\n        \"alignment\": \"right\",\n        \"cellTemplate\": \"function(e, i) {var h=e.append('<div>'+i.text+'</div>');if(i.value<0) {h.css('background-color','#f5564a').css('color','#ffffff')}}\"\n      }\n    ]\n  }\n}","DashboardDefinitionId":"bc907787-f8af-44f4-8c51-fa4a3d41fe2a"},{"Id":"9118cd0c-a414-4711-a9a8-ab1b17b586e3","Name":"Week resume","Active":true,"UseQuery":false,"Query":null,"Size":4,"Order":2,"Parameters":"[\r\n    {\r\n        \"WidgetSubTitle\": \"Tickets by Priorities\",\r\n        \"WidgetType\": \"chart\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"#e0e0e0\",\r\n        \"WidgetHeight\": \"350\",\r\n        \"WidgetHeader\": {\r\n            \"showContextInfo\": false,\r\n            \"WidgetPeriodChooser\": {\r\n                \"type\": \"year\",\r\n                \"visible\": false\r\n            },\r\n            \"WidgetMetrics\": {\r\n                \"visible\": true,\r\n                \"Metrics\": [\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"# LowPriority\",\r\n                        \"metricFieldValue\": \"LowPriorityTotal\"\r\n                    },\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"# Delayed\",\r\n                        \"metricFieldValue\": \"DelayedTotal\"\r\n                    },\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"# MediumPriority\",\r\n                        \"metricFieldValue\": \"MediumPriorityTotal\"\r\n                    },\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"# HighPriority\",\r\n                        \"metricFieldValue\": \"HighPriorityTotal\"\r\n                    }\r\n                ]\r\n            },\r\n            \"showSubTitle\": true,\r\n            \"showTitle\": true\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"queryText\",\r\n                \"value\": \"select 'Open' as [Open], 'Delayed' as Delayed, 'MediumPriority' as MediumPriority, 'HighPriority' as HighPriority, 'LowPriority' as LowPriority, 'Last Activity' as LastActivity, sum(iif(CONVERT(char(10), j.AgreedDateUtc,126) < CONVERT(char(10), GetDate(),126), 1, 0)) as DelayedTotal, sum(iif(j.Priority = '0', 1, 0)) as LowPriorityTotal, sum(iif(j.Priority = '1', 1, 0)) as MediumPriorityTotal, sum(iif(j.Priority = '2', 1, 0)) as HighPriorityTotal, sum(iif((getdate() - j.ModifiedOn)>7,1,0)) as LastActivityTotal from Deliverable j, WorkflowState ws, WorkflowStateType wst, Department dep where ws.Oid = j.WorkflowState and wst.Oid = ws.WorkflowStateType and dep.Oid = j.Department and ws.name not in ('Draft','Done', 'Closed','Closed (unrelated)' ,'Canceled', 'On Hold', 'Scheduled for Development') and exists ( select 1 from Assignment ass, AssignmentType ast where ass.[User] = '34c14c76-fe0e-45c5-ac88-e30ce0824e8d' and ass.DocumentOid = j.Oid and ass.AssignmentType = ast.Oid and ast.Name = 'Executor' ) /*[DateFilter]*/ and j.AgreedDateUtc >= @FromDate and j.AgreedDateUtc <= @ToDate/*[/DateFilter]*/\"\r\n            }\r\n        },\r\n        \"QueryConfiguration\": {\r\n            \"RequiredFilters\": [\r\n                \"startDate\",\r\n                \"endDate\"\r\n            ]\r\n        }\r\n    }\r\n]","DashboardComponentType":{"Id":"6f649e62-be82-4af7-8d64-06b32cf6c0ea","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/IntegrOps - Priority/execute","Configuration":"{\n  \"containerBackgroundColor\": \"#e0e0e0\",\n  \"size\": {\n    \"height\": 250\n  },\n  \"commonSeriesSettings\": {\n    \"ignoreEmptyPoints\": true,\n    \"type\": \"bar\"\n  },\n  \"argumentAxis\": {\n    \"label\": {\n      \"overlappingBehavior\": \"stagger\",\n      \"font\": {\n        \"size\": 10\n      }\n    }\n  },\n  \"series\": [\n    {\n      \"argumentField\": \"LowPriority\",\n      \"valueField\": \"LowPriorityTotal\",\n      \"name\": \"Total\",\n      \"barWidth\": 80\n    },\n    {\n      \"argumentField\": \"Delayed\",\n      \"valueField\": \"DelayedTotal\",\n      \"name\": \"Total\",\n      \"barWidth\": 80\n    },\n    {\n      \"argumentField\": \"LastActivity\",\n      \"valueField\": \"LastActivityTotal\",\n      \"name\": \"Total\",\n      \"barWidth\": 80,\n      \"color\": \"#ffc720\"\n    },\n    {\n      \"argumentField\": \"MediumPriority\",\n      \"valueField\": \"MediumPriorityTotal\",\n      \"name\": \"Total\",\n      \"barWidth\": 80,\n      \"color\": \"#446fd2\"\n    },\n    {\n      \"argumentField\": \"HighPriority\",\n      \"valueField\": \"HighPriorityTotal\",\n      \"name\": \"Total\",\n      \"barWidth\": 80,\n      \"color\": \"#8abef3\"\n    }\n  ]\n}","DashboardDefinitionId":"bc907787-f8af-44f4-8c51-fa4a3d41fe2a"}]}