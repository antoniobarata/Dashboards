{"DashboardDefinitionRoles":[],"Id":"6acdc2a4-f2af-4da8-957c-b717d29379d7","Name":"Overtime Dashboard","Active":true,"Location":0,"DocumentId":"00000000-0000-0000-0000-000000000000","DocumentName":"","DocumentTypeName":null,"DocumentsConfiguration":"{\"type\":\"\",\"operations\":{\"read\":{\"endpoint\":\"\"},\"update\":{\"endpoint\":\"\",\"model\":{}},\"create\":{\"endpoint\":\"\",\"model\":{}},\"remove\":{\"endpoint\":\"\"}},\"layout\":{\"create\":{},\"read\":{}},\"customDocument\":{\"mainColor\":\"\",\"secondaryColor\":\"\",\"imageClass\":\"\",\"namePlural\":\"\",\"name\":\"\",\"systemNames\":\"\"},\"availableOptions\":{\"feed\":false,\"info\":true,\"files\":false,\"userfields\":false,\"dashboard\":false}}","Templates":[],"DashboardDefinitionComponents":[{"Id":"3972581e-d599-4cad-88d7-517621d3f6d7","Name":"Exceptions to Selected Period","Active":true,"UseQuery":false,"Query":null,"Size":3,"Order":2,"Parameters":"[{\"WidgetSubTitle\":\"Time keyed-in in current period but belonging to another period\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#ffffff\",\"WidgetXPosition\":32,\"WidgetYPosition\":0,\"WidgetRows\":13,\"WidgetColumns\":16,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":true,\"metricName\":\"? Un-approved Time\",\"metricFieldValue\":\"UnapprovedTime\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"SELECT \\r\\n\\t\\tu.[Name] AS [User] ,\\r\\n\\t\\tCAST(t.[Date] AS DATE) AS [Date] ,\\r\\n\\t\\tSUM(t.[ActualTime]) AS Timesheet \\r\\nFROM \\r\\n\\t\\t[User] u ,\\r\\n\\t\\tAnalytics.DatamartTimesheet t ,\\r\\n\\t\\tTimesheet ot \\r\\nWHERE \\r\\n\\t\\tu.PaidOvertime = '1' \\r\\n\\t\\tAND t.UserId = u.Oid \\r\\n\\t\\tAND t.Oid = ot.Oid \\r\\n\\t\\tAND ot.CreatedOn >= @FromDate AND ot.CreatedOn < @ToDate \\r\\n\\t\\tAND NOT t.[Date] >= @FromDate AND t.[Date] < @ToDate \\r\\nGROUP BY \\r\\n\\t\\tu.Name ,\\r\\n\\t\\tCAST(t.[Date] AS DATE)\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\"]}}]","DashboardComponentType":{"Id":"3c1da83b-efe9-4b70-87d0-c3813a512774","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Overtime - Exception/execute","Configuration":"{\n  \"height\": 190,\n  \"size\":{\n    \"height\":190\n  },\n  \"onContentReady\":\"function(e) { e.element.style.backgroungColor = 'red';}\",\n  \"searchPanel\": {\n    \"visible\": false\n  },\n  \"scrolling\": {\n    \"mode\": \"virtual\"\n  },\n  \"selection\": {\n    \"mode\": \"none\"\n  },\n  \"groupPanel\": {\n    \"visible\": false\n  },\n  \"filterRow\": {\n    \"visible\": false\n  },\n  \"export\": {\n    \"enabled\": false\n  },\n  \"columnChooser\": {\n    \"enabled\": false\n  },\n  \"headerFilter\": {\n    \"visible\": true\n  },\n  \"onToolbarPreparing\": \"\",\n  \"columnMinWidth\": 50,\n  \"allowColumnReordering\": true,\n  \"allowColumnResizing\": true,\n  \"columnAutoWidth\": true,\n  \"columns\": [\n    {\n      \"dataField\": \"User\",\n      \"caption\": \"User\",\n      \"name\": \"User\",\n      \"alignment\": \"middle\",\n      \"groupIndex\":1\n    },\n    {\n      \"dataField\": \"Timesheet\",\n      \"caption\": \"Time Sheet\",\n      \"name\": \"Time Sheet\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\"\n    },\n    {\n      \"dataField\": \"Date\",\n      \"caption\": \"Date\",\n      \"alignment\": \"center\",\n      \"dataType\": \"date\",\n      \"format\": \"dd MMM\"\n    }\n  ],\n  \"sortByGroupSummaryInfo\": [\n    {\n      \"summaryItem\": \"count\"\n    }\n  ],\n  \"summary\": {\n    \"groupItems\": [\n      {\n        \"column\": \"Timesheet\",\n        \"summaryType\": \"sum\",\n        \"valueFormat\": \"#,##0\",\n        \"displayFormat\": \"Time Sheet {0}\",\n        \"alignment\": \"left\"\n      },\n      {\n        \"column\": \"Date\",\n        \"summaryType\": \"count\",\n        \"valueFormat\": \"#,##0\",\n        \"displayFormat\": \"Days {0}\",\n        \"alignment\": \"left\"\n      }\n    ]\n  }\n}","DashboardDefinitionId":"6acdc2a4-f2af-4da8-957c-b717d29379d7"},{"Id":"b94fed18-35ed-4183-be27-600e8b592636","Name":"Overtime for Selected Period","Active":true,"UseQuery":false,"Query":null,"Size":12,"Order":3,"Parameters":"[{\"WidgetSubTitle\":\"Showing Overtime Paid at x1.5 and at x2\",\"WidgetType\":\"pivotgrid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetXPosition\":0,\"WidgetYPosition\":13,\"WidgetRows\":21,\"WidgetColumns\":48,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":true,\"metricName\":\"? Forecast\",\"metricFieldValue\":\"TimeGrandTotal\"},{\"visible\":true,\"metricName\":\"? Actual\",\"metricFieldValue\":\"UtilizationPercentGrandTotal\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"SET DATEFIRST 1;\\r\\n\\r\\nSELECT v.* FROM\\r\\n(\\r\\nSELECT Department,\\r\\n       City,\\r\\n       [User],\\r\\n       UserExternalNumber,\\r\\n       UserType,\\r\\n       [day],\\r\\n       [week],\\r\\n       SUM(Holiday) AS Holiday,\\r\\n       SUM(Leave) AS Leave,\\r\\n       SUM(TimesheetUnApproved) AS TimesheetUnApproved,\\r\\n       SUM(LeaveApproved) AS LeaveApproved,\\r\\n       SUM(TimesheetWeek) AS WeekHours,\\r\\n       SUM(TimesheetMoFr) AS TimesheetMoFr,\\r\\n       SUM(MissingHoursMoFr) AS MissingHoursMoFr,\\r\\n       SUM(TimesheetMoSa) AS TimesheetMoSa,\\r\\n       DATEPART(WEEKDAY, DAY) AS [weekday],\\r\\n       SUM(Timesheet) AS Timesheet,\\r\\n       CASE\\r\\n           WHEN DATEPART(WEEKDAY, DAY) IN (1,2,3,4,5) THEN 0\\r\\n           WHEN DATEPART(WEEKDAY, DAY) IN (6) AND SUM(TimesheetMoFr) < 40 THEN IIF(SUM(Timesheet) > 8, 8, SUM(Timesheet))\\r\\n           WHEN DATEPART(WEEKDAY, DAY) IN (7) AND SUM(TimesheetMoSa) < 40 THEN IIF(SUM(Timesheet) > 8, 8, SUM(Timesheet))\\r\\n           ELSE 0\\r\\n       END AS [Overtime x1],\\r\\n       CASE\\r\\n           WHEN DATEPART(WEEKDAY, DAY) IN (1,2,3,4,5) THEN \\r\\n\\t\\t\\t\\tIIF(SUM(Timesheet) > 8, IIF((SUM(Timesheet) - 8) > 4, 4, (SUM(Timesheet) - 8)), 0)\\r\\n           WHEN DATEPART(WEEKDAY, DAY) IN (6) AND SUM(TimesheetMoFr) < 40 THEN \\r\\n\\t\\t\\t\\tIIF(SUM(Timesheet) <= 8, 0, IIF(SUM(Timesheet) - 8 > 4, 4, SUM(Timesheet) - 8))\\r\\n           WHEN DATEPART(WEEKDAY, DAY) IN (6) AND SUM(TimesheetMoSa) > 40 THEN \\r\\n\\t\\t\\t\\tIIF(SUM(Timesheet) < 12, SUM(Timesheet), 12)\\r\\n           WHEN DATEPART(WEEKDAY, DAY) IN (7) AND SUM(TimesheetMoSa) <= 40 THEN \\r\\n\\t\\t\\t\\tIIF(SUM(Timesheet) <= 8, SUM(Timesheet), IIF(SUM(Timesheet) - 8 > 4, 4, SUM(Timesheet) - 8))\\r\\n           WHEN DATEPART(WEEKDAY, DAY) IN (7) AND SUM(TimesheetWeek) > 40 THEN \\r\\n\\t\\t\\t\\tIIF(SUM(Timesheet) < 8, SUM(Timesheet), 8)\\r\\n           ELSE 0\\r\\n       END AS [Overtime x15],\\r\\n       CASE\\r\\n           WHEN DATEPART(WEEKDAY, DAY) IN (1,2,3,4,5) THEN IIF(SUM(Timesheet) > 12, (SUM(Timesheet) - 12), 0)\\r\\n           WHEN DATEPART(WEEKDAY, DAY) IN (6) AND SUM(TimesheetMoFr) < 40 THEN \\r\\n\\t\\t\\t\\tIIF(SUM(Timesheet) > 12, SUM(Timesheet) - 12, 0)\\r\\n           WHEN DATEPART(WEEKDAY, DAY) IN (6) AND SUM(TimesheetMoSa) > 40 THEN \\r\\n\\t\\t\\t\\tIIF(SUM(Timesheet) > 12, SUM(Timesheet) - 12, 0)\\r\\n           WHEN DATEPART(WEEKDAY, DAY) IN (7) AND SUM(TimesheetMoSa) < 40 THEN \\r\\n\\t\\t\\t\\tIIF(SUM(Timesheet) > 12, SUM(Timesheet) - 12, 0)\\r\\n           WHEN DATEPART(WEEKDAY, DAY) IN (7) AND SUM(TimesheetMoSa) >= 40 THEN \\r\\n\\t\\t\\t\\tIIF(SUM(Timesheet) > 8, SUM(Timesheet) - 8, 0)\\r\\n           ELSE 0\\r\\n       END AS [Overtime x2]\\r\\nFROM (\\r\\n\\t\\tSELECT \\r\\n\\t\\t\\t\\tt.Department AS Department,\\r\\n\\t\\t\\t\\tc.Name AS City,\\r\\n\\t\\t\\t\\tu.Name AS [User],\\r\\n\\t\\t\\t\\tu.ExternalNumber AS UserExternalNumber,\\r\\n\\t\\t\\t\\tut.[Name] as UserType,\\r\\n\\t\\t\\t\\tt.[Date] AS [day],\\r\\n\\t\\t\\t\\tt.[Date] - DATEPART(dw, t.[Date]) + 1 AS [week],\\r\\n\\t\\t\\t\\tSUM(t.ActualTime) AS Timesheet,\\r\\n\\t\\t\\t\\tSUM(SUM(IIF(DATEPART(WEEKDAY, t.[Date]) IN (1, 2, 3, 4, 5), t.ActualTime, 0.0))) \\r\\n\\t\\t\\t\\t\\tOVER (PARTITION BY u.[Name], t.[Date] - DATEPART(dw, t.[Date]) + 1) AS TimesheetMoFr,\\r\\n\\t\\t\\t\\tSUM(SUM(IIF(DATEPART(WEEKDAY, t.[Date]) IN (1, 2, 3, 4, 5), IIF((u.RequiredHours - t.ActualTime) > 0.0, (u.RequiredHours - t.ActualTime), 0.0), 0.0))) \\r\\n\\t\\t\\t\\t\\tOVER (PARTITION BY u.[Name],\\r\\n\\t\\t\\t\\tt.[Date] - DATEPART(dw, t.[Date]) + 1) AS MissingHoursMoFr,\\r\\n\\t\\t\\t\\tSUM(SUM(IIF(DATEPART(WEEKDAY, t.[Date]) IN (1, 2, 3, 4, 5, 6), t.ActualTime, 0.0))) \\r\\n\\t\\t\\t\\t\\tOVER (PARTITION BY u.[Name], t.[Date] - DATEPART(dw, t.[Date]) + 1) AS TimesheetMoSa,\\r\\n\\t\\t\\t\\tSUM(IIF(ot.StateMachineTimesheetStatus = 1, 0, t.ActualTime)) AS TimesheetUnApproved,\\r\\n\\t\\t\\t\\t0 AS Holiday,\\r\\n\\t\\t\\t\\t0 AS Leave,\\r\\n\\t\\t\\t\\tSUM(SUM(t.ActualTime)) OVER (PARTITION BY u.ExternalNumber, t.[Date] - DATEPART(dw, t.[Date]) + 1) AS TimesheetWeek,\\r\\n\\t\\t\\t\\t0 AS LeaveApproved\\r\\n\\t\\tFROM \\r\\n\\t\\t\\t\\tAnalytics.DatamartTimesheet t,\\r\\n\\t\\t\\t\\tTimesheet ot,\\r\\n\\t\\t\\t\\t[User] u\\r\\n\\t\\t\\t\\tLEFT OUTER JOIN City c ON (u.City = c.Oid)\\r\\n\\t\\t\\t\\tLEFT OUTER JOIN UserType ut ON (ut.Oid = u.UserType)\\r\\n\\t\\tWHERE \\r\\n\\t\\t\\t\\tt.Oid = ot.Oid AND\\r\\n\\t\\t\\t\\tu.PaidOvertime = 1 AND\\r\\n\\t\\t\\t\\tt.UserId = u.Oid \\r\\n\\t\\t\\t\\t/*[DateFilter]*/ AND t.[Date] >= @FromDate AND t.[Date] < @ToDate /*[/DateFilter]*/\\r\\n\\t\\tGROUP BY \\r\\n\\t\\t\\t\\tt.Department,\\r\\n\\t\\t\\t\\tc.Name,\\r\\n\\t\\t\\t\\tu.Name,\\r\\n\\t\\t\\t\\tu.ExternalNumber,\\r\\n\\t\\t\\t\\tut.[Name],\\r\\n\\t\\t\\t\\tt.[Date],\\r\\n\\t\\t\\t\\tt.[Date] - DATEPART(dw, t.[Date]) + 1\\r\\n\\t\\tUNION ALL \\r\\n\\t\\tSELECT \\r\\n\\t\\t\\t\\thld.Department,\\r\\n                c.Name AS City,\\r\\n                u.Name AS [User],\\r\\n                u.ExternalNumber AS UserExternalNumber,\\r\\n\\t\\t\\t\\tut.[Name] as UserType,\\r\\n\\t\\t\\t\\thld.[Date] AS DAY,\\r\\n\\t\\t\\t\\thld.[Date] - DATEPART(dw, hld.[Date]) + 1 AS WEEK,\\r\\n\\t\\t\\t\\t0 AS Timesheet,\\r\\n\\t\\t\\t\\t0 AS TimesheetMoFr,\\r\\n\\t\\t\\t\\t0 AS MissingHoursMoFr,\\r\\n\\t\\t\\t\\t0 AS TimesheetMoSa,\\r\\n\\t\\t\\t\\t0 AS TimesheetUnApproved,\\r\\n\\t\\t\\t\\tu.RequiredHours AS Holiday,\\r\\n\\t\\t\\t\\t0 AS Leave,\\r\\n\\t\\t\\t\\t0 AS TimesheetWeek,\\r\\n\\t\\t\\t\\t0 AS LeaveApproved\\r\\n\\t\\tFROM \\r\\n\\t\\t\\t\\tAnalytics.DatamartHoliday hld,\\r\\n\\t\\t\\t\\t[User] u\\r\\n\\t\\t\\t\\tLEFT OUTER JOIN City c ON (u.City = c.Oid)\\r\\n\\t\\t\\t\\tLEFT OUTER JOIN UserType ut ON (ut.Oid = u.UserType)\\r\\n\\t\\tWHERE \\r\\n\\t\\t\\t\\tu.PaidOvertime = 1 \\r\\n\\t\\t\\t\\t/*[DateFilter]*/ AND hld.[Date] >= @FromDate AND hld.[Date] < @ToDate /*[/DateFilter]*/\\r\\n\\t\\tUNION ALL \\r\\n\\t\\tSELECT \\r\\n\\t\\t\\t\\tlvs.Department AS Department,\\r\\n                c.Name AS City,\\r\\n                u.Name AS [User],\\r\\n                u.ExternalNumber AS UserExternalNumber,\\r\\n\\t\\t\\t\\tut.[Name] as UserType,\\r\\n\\t\\t\\t\\tlvs.[Date] AS DAY,\\r\\n\\t\\t\\t\\tlvs.[Date] - DATEPART(dw, lvs.[Date]) + 1 AS WEEK,\\r\\n\\t\\t\\t\\t0 AS Timesheet,\\r\\n\\t\\t\\t\\t0 AS TimesheetMoFr,\\r\\n\\t\\t\\t\\t0 AS MissingHoursMoFr,\\r\\n\\t\\t\\t\\t0 AS TimesheetMoSa,\\r\\n\\t\\t\\t\\t0 AS TimesheetUnApproved,\\r\\n\\t\\t\\t\\t0 AS Holiday,\\r\\n\\t\\t\\t\\tlvs.[Hours] AS Leave,\\r\\n\\t\\t\\t\\t0 AS TimesheetWeek,\\r\\n\\t\\t\\t\\tIIF(lvs.Approved = 1, lvs.[Hours], 0) AS LeaveApproved\\r\\n\\t\\tFROM \\r\\n\\t\\t\\t\\tAnalytics.DatamartLeave lvs,\\r\\n\\t\\t\\t\\t[User] u\\r\\n\\t\\t\\t\\tLEFT OUTER JOIN City c ON (u.City = c.Oid)\\r\\n\\t\\t\\t\\tLEFT OUTER JOIN UserType ut ON (ut.Oid = u.UserType)\\r\\n\\t\\tWHERE \\r\\n\\t\\t\\t\\tu.PaidOvertime = 1 AND\\r\\n\\t\\t\\t\\tlvs.[UserId] = u.Oid AND\\r\\n\\t\\t\\t\\tlvs.Rejected = 0 AND\\r\\n\\t\\t\\t\\t/*[DateFilter]*/ lvs.[Date] >= @FromDate AND lvs.[Date] < @ToDate /*[/DateFilter]*/ ) t\\r\\n\\t\\tGROUP BY \\r\\n\\t\\t\\t\\tDepartment,\\r\\n\\t\\t\\t\\tCity,\\r\\n\\t\\t\\t\\t[User],\\r\\n\\t\\t\\t\\tUserExternalNumber,\\r\\n\\t\\t\\t\\tUserType,\\r\\n\\t\\t\\t\\tDAY,\\r\\n\\t\\t\\t\\tWEEK\\r\\n\\t) v\\r\\nWHERE (v.Timesheet > 0 OR v.Leave > 0)\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\"]}}]","DashboardComponentType":{"Id":"3c1da83b-efe9-4b70-87d0-c3813a512774","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Overitme - Weekly/execute","Configuration":"{\n    \"allowSortingBySummary\": true,\n    \"allowSorting\": true,\n    \"export\": {\n        \"enabled\": true,\n        \"fileName\": \"Overtime Paid\"\n    },\n    \"allowFiltering\": true,\n    \"allowExpandAll\": true,\n    \"height\": 400,\n    \"showBorders\": true,\n    \"fieldPanel\": {\n        \"showColumnFields\": true,\n        \"showDataFields\": true,\n        \"showFilterFields\": true,\n        \"showRowFields\": true,\n        \"allowFieldDragging\": true,\n        \"visible\": true\n    },\n    \"wordWrapEnabled\": false,\n    \"dataSource\": {\n        \"fields\": [\n            {\n                \"caption\": \"Department\",\n                \"width\": 120,\n                \"dataField\": \"Department\",\n                \"area\": \"row\",\n                \"expanded\": true\n            },\n            {\n                \"dataField\": \"City\",\n                \"area\": \"filter\"\n            },\n            {\n                \"dataField\": \"UserType\",\n                \"caption\": \"User Type\",\n                \"area\": \"filter\"\n            },\n            {\n                \"dataField\": \"User\",\n                \"area\": \"row\",\n                \"expanded\": true\n            },\n            {\n                \"caption\": \"Week\",\n                \"area\": \"column\",\n                \"selector\":\"function(d) { \n          const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\n                ];\n          var w = new Date(d.week);\n          return w.getDate() + ' / ' + monthNames[w.getMonth()\n                ];\n            }\",\n        \"sortingMethod\": \"function (a, b) {\n                var da = new Date(a.Week);\n                var db = new Date(b.Week);\n                if (da < db) return -1;\n                if (da > db) return 1;\n                return 0;\n        }\",\n        \"areaIndex\": 0,\n        \"expanded\": true\n    },\n    {\n        \"caption\": \"Day\",\n        \"area\": \"column\",\n        \"selector\":\"function(d) { \n          return d.day;\n    }\",\n        \"customizeText\":\"function(e) {\n          var d = new Date(e.value);\n          var weekdayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'\n    ];\n          return weekdayNames[d.getDay()\n    ] + ' ' + d.getDate() + ' ';\n}\",\n        \"sortingMethod\": \"function (a, b) {\n                var da = new Date(a.value);\n                var db = new Date(b.value);\n                if (da < db) return -1;\n                if (da > db) return 1;\n                return 0;\n}\",\n        \"areaIndex\": 1,\n\"expanded\": true\n},\n{\n\"caption\": \"Number\",\n\"dataField\": \"UserExternalNumber\",\n\"area\": \"row\",\n\"expanded\": true\n},\n{\n\"caption\": \"x1\",\n\"dataField\": \"Overtime x1\",\n\"area\": \"data\",\n\"summaryType\": \"sum\",\n\"expanded\": true,\n\"dataType\": \"number\"\n},\n{\n\"caption\": \"x1.5\",\n\"dataField\": \"Overtime x15\",\n\"area\": \"data\",\n\"summaryType\": \"sum\",\n\"expanded\": true,\n\"dataType\": \"number\"\n},\n{\n\"caption\": \"x2\",\n\"dataField\": \"Overtime x2\",\n\"area\": \"data\",\n\"summaryType\": \"sum\",\n\"expanded\": true\n},\n{\n\"caption\": \"Time Sheet\",\n\"name\": \"Time Sheet\",\n\"dataField\": \"Timesheet\",\n\"area\": \"data\",\n\"summaryType\": \"sum\",\n\"expanded\": true,\n\"visible\": true,\n\"dataType\": \"number\"\n},\n{\n\"caption\": \"Pending\",\n\"name\": \"Pending\",\n\"dataField\": \"TimesheetUnApproved\",\n\"area\": \"data\",\n\"summaryType\": \"sum\",\n\"expanded\": true,\n\"visible\": true,\n\"dataType\": \"number\"\n},\n{\n\"caption\": \"Holiday\",\n\"dataField\": \"Holiday\",\n\"area\": \"data\",\n\"summaryType\": \"sum\",\n\"expanded\": true,\n\"visible\": true,\n\"dataType\": \"number\"\n},\n{\n\"caption\": \"Leave\",\n\"dataField\": \"Leave\",\n\"area\": \"data\",\n\"summaryType\": \"sum\",\n\"expanded\": true,\n\"visible\": true,\n\"dataType\": \"number\"\n},\n{\n\"caption\": \"Approved\",\n\"name\": \"Approved\",\n\"dataField\": \"LeaveApproved\",\n\"summaryType\": \"sum\",\n\"expanded\": true,\n\"visible\": true,\n\"dataType\": \"number\"\n}\n],\n\"store\": null\n}\n}","DashboardDefinitionId":"6acdc2a4-f2af-4da8-957c-b717d29379d7"},{"Id":"cfaf59b5-003c-428d-a534-9089fc349874","Name":"Overtime Overview","Active":true,"UseQuery":false,"Query":null,"Size":9,"Order":1,"Parameters":"[{\"WidgetSubTitle\":\"Bars represent weeks with Overtime\",\"WidgetType\":\"rangeselector\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#ffffff\",\"WidgetXPosition\":0,\"WidgetYPosition\":0,\"WidgetRows\":13,\"WidgetColumns\":32,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"startDate\":\"2018/06/1\",\"endDate\":\"2019/06/30\",\"type\":\"year\",\"visible\":false},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"SELECT \\r\\n\\t\\tv.[week], \\r\\n\\t\\tv.WeekStart, \\r\\n\\t\\tsum(v.Overtime) as Overtime \\r\\nFROM ( \\r\\n\\t\\tSELECT \\r\\n\\t\\t\\t\\tMAX(DATEPART(ww, t.[DATE])) AS [Week] ,\\r\\n\\t\\t\\t\\tMAX(t.[DATE]) AS WeekStart ,\\r\\n\\t\\t\\t\\tSUM(IIF((t.ActualTime) > 8, 1, 0)) AS Overtime \\r\\n\\t\\tFROM \\r\\n\\t\\t\\t\\t[User] u ,\\r\\n\\t\\t\\t\\tAnalytics.DatamartTimesheet t \\r\\n\\t\\tWHERE \\r\\n\\t\\t\\t\\tu.PaidOvertime = '1' \\r\\n\\t\\t\\t\\tAND t.UserId = u.Oid \\r\\n\\t\\tGROUP BY \\r\\n\\t\\t\\t\\tDATEPART(yyyy, t.[DATE]) ,\\r\\n\\t\\t\\t\\tDATEPART(ww, t.[DATE]) \\r\\n\\t\\tUNION ALL \\r\\n\\t\\tSELECT \\r\\n\\t\\t\\t\\tMAX(DATEPART(ww, yd.[Day])) AS week, \\r\\n\\t\\t\\t\\tMAX(yd.[Day]) AS WeekStart, \\r\\n\\t\\t\\t\\t0 as Overtime \\r\\n\\t\\tFROM \\r\\n\\t\\t\\t\\tYearDay yd \\r\\n\\t\\tWHERE \\r\\n\\t\\t\\t\\tyd.[Day] between DateAdd(mm, -6, GETDATE()) AND DateAdd(mm, 1, GETDATE()) \\r\\n\\t\\tGROUP BY \\r\\n\\t\\t\\t\\tDATEPART(yyyy, yd.[Day]), \\r\\n\\t\\t\\t\\tDATEPART(ww, yd.[Day]) ) v \\r\\n\\t\\tGROUP BY \\r\\n\\t\\t\\t\\tv.[week], \\r\\n\\t\\t\\t\\tv.WeekStart \\r\\n\\t\\tORDER BY \\r\\n\\t\\t\\t\\tv.WeekStart\\r\\n\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":null}]","DashboardComponentType":{"Id":"3c1da83b-efe9-4b70-87d0-c3813a512774","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Overtime - Overview/execute","Configuration":"{\n  \"height\": \"190\",\n  \"size\":{\"height\":\"190\"},\n  \"containerBackgroundColor\":\"#ffffff\",\n  \"selectedRangeColor\": \"#f5564a\",\n  \"chart\": {\n    \"commonSeriesSettings\": {\n      \"type\": \"steparea\",\n      \"argumentField\": \"WeekStart\"\n    },\n    \"series\": [\n      {\n        \"valueField\": \"Overtime\"\n}\n    ]\n  },\n  \"scale\": {\n    \"minorTickInterval\": \"week\",\n    \"tickInterval\": \"week\",\n    \"valueType\": \"datetime\"\n  },\n  \"sliderMarker\": {\n    \"format\": \"monthAndDay\",\n    \"color\": \"#da5859\"\n  },\n  \"value\": {\n    \"length\" : {\"days\" : 7}\n  }\n}","DashboardDefinitionId":"6acdc2a4-f2af-4da8-957c-b717d29379d7"}]}
