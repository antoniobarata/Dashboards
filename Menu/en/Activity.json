{"DashboardDefinitionRoles":[],"Id":"fa68f9b9-bc03-41df-8957-715eaf8d2ffa","Name":"Activity Dashboard","Active":true,"Location":0,"DocumentId":"00000000-0000-0000-0000-000000000000","DocumentName":"","DocumentsConfiguration":null,"Templates":[],"DashboardDefinitionComponents":[{"Id":"bb3b1573-6ae8-4a8a-90ad-07086452ec43","Name":"Activity Type per Department and Client","Active":true,"UseQuery":false,"Query":null,"Size":8,"Order":2,"Parameters":"[\r\n    {\r\n        \"WidgetSubTitle\": \"Number of Jobs vs Actual Time keyed-in\",\r\n        \"WidgetType\": \"pivotGrid\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"\",\r\n        \"WidgetHeight\": \"\",\r\n        \"WidgetHeader\": {\r\n            \"showContextInfo\": false,\r\n            \"WidgetPeriodChooser\": {\r\n                \"type\": \"year\",\r\n                \"visible\": false\r\n            },\r\n            \"WidgetMetrics\": {\r\n                \"visible\": false,\r\n                \"Metrics\": [\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"# Forecast\",\r\n                        \"metricFieldValue\": \"TimeGrandTotal\"\r\n                    },\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"# Actual\",\r\n                        \"metricFieldValue\": \"UtilizationPercentGrandTotal\"\r\n                    }\r\n                ]\r\n            },\r\n            \"showSubTitle\": true,\r\n            \"showTitle\": true\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"queryText\",\r\n                \"value\": \"SELECT dj.Client, dj.Department, dj.JobType AS [Type],COUNT(*) AS Jobs, 0 AS [Hours] FROM Analytics.Job(@CurrentUserId) dj WHERE dj.[Date] BETWEEN @FromDate AND @ToDate GROUP BY dj.Client, dj.Department, dj.JobType UNION ALL SELECT dt.Client, dt.Department, dt.JobType AS [Type], 0 AS Jobs, SUM(dt.[ActualTime]) AS [Hours] FROM Analytics.Timesheet(@CurrentUserId) dt WHERE dt.[Date] BETWEEN @FromDate AND @ToDate AND JobType IS NOT NULL GROUP BY dt.Client, dt.Department, dt.JobType\",\r\n                \"mapping\": \"\"\r\n            }\r\n        },\r\n        \"QueryConfiguration\": {\r\n            \"RequiredFilters\": [\r\n                \"startDate\",\r\n                \"endDate\"\r\n            ]\r\n        }\r\n    }\r\n]","DashboardComponentType":{"Id":"6f649e62-be82-4af7-8d64-06b32cf6c0ea","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Activity_Per_Client_Departament_Type/execute","Configuration":"{\n  \"size\": {\n    \"height\": 250\n  },\n  \"allowSortingBySummary\": true,\n  \"allowSorting\": true,\n  \"allowFiltering\": true,\n  \"allowExpandAll\": true,\n  \"height\": 250,\n  \"showBorders\": true,\n  \"fieldPanel\": {\n    \"showColumnFields\": true,\n    \"showDataFields\": true,\n    \"showFilterFields\": true,\n    \"showRowFields\": true,\n    \"allowFieldDragging\": true,\n    \"visible\": true\n  },\n  \"wordWrapEnabled\": false,\n  \"dataSource\": {\n    \"fields\": [\n      {\n        \"caption\": \"Department\",\n        \"width\": 120,\n        \"dataField\": \"Department\",\n        \"area\": \"column\",\n        \"expanded\": true\n      },\n      {\n        \"dataField\": \"Client\",\n        \"dataType\": \"string\",\n        \"area\": \"filter\",\n        \"expanded\": true\n      },\n      {\n        \"dataField\": \"Type\",\n        \"dataType\": \"string\",\n        \"area\": \"row\",\n        \"expanded\": true\n      },\n      {\n        \"caption\": \"Jobs\",\n        \"dataField\": \"Jobs\",\n        \"area\": \"data\",\n        \"dataType\": \"number\",\n        \"summaryType\": \"sum\",\n        \"format\": \"#,###.#\"\n      },\n      {\n        \"caption\": \"Time\",\n        \"dataField\": \"Hours\",\n        \"dataType\": \"number\",\n        \"summaryType\": \"sum\",\n        \"area\": \"data\",\n        \"format\": \"#,###.#\"\n      }\n    ],\n    \"store\": null\n  },\n  \"onCellPrepared\": \"function(e) {var dataField = e.component.getDataSource().getAreaFields('data')[e.cell.dataIndex];if(e.area=='data' && dataField.caption=='Utilization %' && e.cell.value<0.8){e.cellElement.css('background-color','#ffc7ce');e.cellElement.css('color','#9c0c06');}}\"\n}","DashboardDefinitionId":"fa68f9b9-bc03-41df-8957-715eaf8d2ffa"},{"Id":"45c9b229-94ee-4b1b-82a6-5e576e40c0c1","Name":"Time and Jobs over Months","Active":true,"UseQuery":false,"Query":null,"Size":12,"Order":3,"Parameters":"[\r\n    {\r\n        \"WidgetSubTitle\": \"Evolution over Months\",\r\n        \"WidgetType\": \"rangeSelector\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"#e0e0e0\",\r\n        \"WidgetHeight\": \"\",\r\n        \"WidgetHeader\": {\r\n            \"showContextInfo\": false,\r\n            \"WidgetPeriodChooser\": {\r\n                \"startDate\": \"2018/01/1\",\r\n                \"endDate\": \"2019/06/30\",\r\n                \"type\": \"year\",\r\n                \"visible\": false\r\n            },\r\n            \"showSubTitle\": true,\r\n            \"showTitle\": true\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"queryText\",\r\n                \"value\": \"SELECT DATEFROMPARTS(dj.[Year], dj.[Month], 1) AS [Month], COUNT(*) AS Jobs, 0 AS [Hours] FROM Analytics.Job(@CurrentUserId) dj WHERE dj.[Date] BETWEEN DATEFROMPARTS(Year(DateAdd(mm, -12, getdate())), Month(DateAdd(mm, -12, getdate())), 1) AND DATEFROMPARTS(Year(getdate()), Month(getdate()), 1) GROUP BY DATEFROMPARTS(dj.[Year], dj.[Month], 1) UNION ALL SELECT DATEFROMPARTS(dt.[Year], dt.[Month], 1) AS [Month], 0 AS Jobs, SUM(dt.[ActualTime]) AS [Hours] FROM Analytics.Timesheet(@CurrentUserId) dt WHERE dt.[Date] BETWEEN DATEFROMPARTS(Year(DateAdd(mm, -12, getdate())), Month(DateAdd(mm, -12, getdate())), 1) AND DATEFROMPARTS(Year(getdate()), Month(getdate()), 1) GROUP BY DATEFROMPARTS(dt.[Year], dt.[Month], 1)\",\r\n                \"mapping\": \"\"\r\n            }\r\n        },\r\n        \"QueryConfiguration\": null\r\n    }\r\n]","DashboardComponentType":{"Id":"6f649e62-be82-4af7-8d64-06b32cf6c0ea","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Activity_Per_Month/execute","Configuration":"{\n  \"containerBackgroundColor\":\"#e0e0e0\",\n  \"selectedRangeColor\": \"#f5564a\",\n  \"chart\": {\n    \"commonSeriesSettings\": {\n      \"type\": \"steparea\",\n      \"argumentField\": \"Month\"\n    },\n    \"series\": [\n      {\n        \"valueField\": \"Jobs\"\n}   ]\n  },\n  \"scale\": {\n    \"minorTickInterval\": \"week\",\n    \"tickInterval\": \"week\",\n    \"valueType\": \"datetime\"\n  },\n  \"sliderMarker\": {\n    \"format\": \"monthAndDay\",\n    \"color\": \"#da5859\"\n  },\n  \"value\": [\n    \"2019/01/01\",\n    \"2019/02/01\"\n  ]\n}","DashboardDefinitionId":"fa68f9b9-bc03-41df-8957-715eaf8d2ffa"},{"Id":"da9f672d-343c-4d0d-aa7f-756ca84572fe","Name":"Top 10 Activity Types","Active":true,"UseQuery":false,"Query":null,"Size":4,"Order":1,"Parameters":"[\r\n    {\r\n        \"WidgetSubTitle\": \"Activities with most Actual Time and Jobs\",\r\n        \"WidgetType\": \"pie\",\r\n        \"WidgetFilterField\": \"\",\r\n        \"WidgetColor\": \"\",\r\n        \"WidgetHeight\": \"\",\r\n        \"WidgetHeader\": {\r\n            \"showContextInfo\": false,\r\n            \"WidgetPeriodChooser\": {\r\n                \"type\": \"year\",\r\n                \"visible\": false\r\n            },\r\n            \"WidgetMetrics\": {\r\n                \"visible\": false,\r\n                \"Metrics\": [\r\n                    {\r\n                        \"visible\": true,\r\n                        \"metricName\": \"? Planned\",\r\n                        \"metricFieldValue\": \"PlannedTimeGrandTotal\"\r\n                    }\r\n                ]\r\n            },\r\n            \"showSubTitle\": true,\r\n            \"showTitle\": true\r\n        },\r\n        \"WidgetDataSources\": {\r\n            \"main\": {\r\n                \"type\": \"queryText\",\r\n                \"value\": \"SELECT dj.JobType AS [Type], COUNT(*) AS Jobs, 0 AS [Hours] FROM Analytics.Job(@CurrentUserId) dj WHERE dj.[Date] BETWEEN @FromDate AND @ToDate GROUP BY dj.JobType UNION ALL SELECT dt.JobType AS [Type], 0 AS Jobs, 0 AS [Hours] FROM Analytics.Timesheet(@CurrentUserId) dt WHERE dt.[Date] BETWEEN @FromDate AND @ToDate AND JobType IS NOT NULL GROUP BY dt.JobType\",\r\n                \"mapping\": \"\"\r\n            }\r\n        },\r\n        \"QueryConfiguration\": {\r\n            \"RequiredFilters\": [\r\n                \"startDate\",\r\n                \"endDate\"\r\n            ]\r\n        }\r\n    }\r\n]","DashboardComponentType":{"Id":"6f649e62-be82-4af7-8d64-06b32cf6c0ea","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Analytics_Activity_Per_Type/execute","Configuration":"{\n \"type\": \"doughnut\",\n  \"series\": [{\n      \"argumentField\":\"Type\",\n      \"valueField\":\"Jobs\",\n      \"name\":\"Jobs\",\n      \"label\":false\n    },\n    {\n      \"argumentField\":\"Type\",\n      \"valueField\":\"Hours\",\n      \"name\":\"Time\",\n      \"label\":false\n    }\n  ],\n  \"commonSeriesSettings\": {\n    \"label\": {\n      \"visible\": false,\n      \"format\": \"fixedPoint\",\n      \"connector\": {\n        \"visible\": true,\n        \"width\": 1\n      }\n    },\n    \"smallValuesGrouping\": {\n        \"mode\": \"topN\",\n        \"topCount\": 10\n    }\n  },\n  \"size\": {\n    \"height\": 350\n  },\n  \"tooltip\": {\n            \"enabled\": true,\n            \"format\": \"#,###.#\",\n            \"customizeTooltip\": \"function(e) { return { text: this.argumentText + '<br>' + this.seriesName + ': ' + this.valueText };}\"\n        },\n  \"legend\": {\n    \"visible\":true,\n    \"horizontalAlignment\": \"left\",\n    \"verticalAlignment\": \"middle\",\n    \"itemTextPosition\" : \"right\",\n    \"paddingLeftRight\" : 0,\n    \"font\":{\"size\":8}\n  }\n}","DashboardDefinitionId":"fa68f9b9-bc03-41df-8957-715eaf8d2ffa"}]}