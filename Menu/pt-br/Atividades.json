{"DashboardDefinitionRoles":[{"AccessRoleId":"fd6d4432-72bb-48f7-bc44-40f16b7e13e0","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6","AccessRoleName":"Perfil Manuten??o"},{"AccessRoleId":"c69ac80b-9c40-44d6-a34f-ac8916a2b8bc","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6","AccessRoleName":"Administrator"},{"AccessRoleId":"46d9e87a-5bde-497a-8897-35ce508bdd90","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6","AccessRoleName":"Perfil Consultor/Suporte"},{"AccessRoleId":"9c5d7946-64b4-4dae-bc89-60399d909037","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6","AccessRoleName":"Perfil GP"}],"Id":"0ac7e462-c34c-41cb-86ad-a0da74857af6","Name":"Atividades","Active":true,"Location":0,"DocumentId":"00000000-0000-0000-0000-000000000000","DocumentName":"","DocumentsConfiguration":null,"Templates":[],"DashboardDefinitionComponents":[{"Id":"facd694e-9ef5-49db-a54b-50f318429a8f","Name":"Atividades","Active":true,"UseQuery":false,"Query":null,"Size":12,"Order":3,"Parameters":"[{\"WidgetSubTitle\":\"Carga de Trabalho do Per?odo por Departamento\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetHeight\":\"\",\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":true,\"metricName\":\"# Delayed Critical\",\"metricFieldValue\":\"DelayedCritical\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"select  cli.Name as Client,\\n        ccl.Name as ClientClassification,\\n        jcl.Name as JobClassification,\\n        j.NameAndExternalId as Job,\\n        ws.Name as Stage,\\n        prj.Name as Project,\\n        j.EntryDate as StartDate,\\n        j.AgreedDateUtc as EndDate,\\n        dep.Name as Department,\\n        j.Oid,\\n        j.Effort,\\n        j.Priority,\\n        isnull(ws.Color, wst.Color) as Color,\\n        datediff(day, getdate(), AgreedDateUtc) as Days,\\n        datediff(day, j.ModifiedOn, getdate()) as LastActivity,\\n        (select string_agg(convert(nvarchar(50), ass.[User]), ',') from Assignment ass, AssignmentType ast where ass.DocumentOid = j.Oid and ast.Name = 'Executor' and ass.AssignmentType = ast.Oid) as ExecutorId,\\n        (select string_agg(convert(nvarchar(50), usr2.Name), ',') from Assignment ass, AssignmentType ast, [User] usr2 where usr2.Oid = ass.[User] and ass.DocumentOid = j.Oid and ast.Name = 'Executor' and ass.AssignmentType = ast.Oid) as Executor,\\n        sum(iif((AgreedDateUtc < getdate()), 1 ,0)) over() as DelayedTotal,\\n        j.CreatedBy as CreatedById,\\n        usr.Name as CreatedBy,\\n        usr.HasImage\\nfrom    Deliverable j,\\n        WorkflowState ws,\\n        WorkflowStateType wst,\\n        Department dep,\\n        JobClassification jcl,\\n        CommercialClient cli left outer join ClientClassification ccl on ccl.Oid = cli.ClientClassification,\\n        Project prj,\\n        [User] usr\\nwhere   ws.Oid = j.WorkflowState and\\n        wst.Oid = ws.WorkflowStateType and\\n        dep.Oid = j.Department and\\n        j.Classification = jcl.Oid and\\n        prj.Oid = j.Project and\\n        cli.Oid = prj.Client and\\n        usr.Oid = j.CreatedBy and\\n        ws.name in ('Devolvido ao Solicitante', 'Em Aprova??o AP/Execu??o', 'Em Aprova??o do Cliente',\\n            'Em Execu??o', 'Em Or?amenta??o', 'Em Prep. AP / Execu??o', 'Em Produ??o', 'Por Aprovar Internamente',\\n            'Em Distribui??o',\\n            'Finalizado') and\\n        dep.Name not in ('Admin Financeiro') and\\n        cast(j.AgreedDateUtc as date) between @FromDate and @ToDate\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\"]}}]","DashboardComponentType":{"Id":"cab97287-486a-4e86-98e8-7a4fddb29416","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Atividades Criativas - Jobs Activity/execute","Configuration":"{\n  \"onRowClick\": \"function(e){if(e.rowType=='data') SkillsWorkflow.preview(e.key, 'job');}\",\n  \"keyExpr\": \"Oid\",\n  \"selection\": {\n    \"mode\": \"single\"\n  },\n  \"allowColumnResizing\": true,\n  \"columnAutoWidth\": true,\n  \"groupPanel\": {\n    \"visible\": true\n  },\n  \"allowFiltering\": true,\n  \"searchPanel\": {\n    \"visible\": true\n  },\n  \"height\": 730,\n  \"width\": \"100%\",\n  \"scrolling\": {\n    \"mode\": \"virtual\"\n  },\n  \"columnMinWidth\": 50,\n  \"grouping\": {\n    \"autoExpandAll\": true\n  },\n  \"columns\": [\n    {\n      \"dataField\": \"Department\",\n      \"name\": \"Department\",\n      \"caption\": \"Departamento\"\n    },\n    {\n      \"dataField\": \"ClientClassification\",\n      \"name\": \"ClientClassification\",\n      \"caption\": \"Classifica??o Cliente\"\n    },\n    {\n      \"dataField\": \"Client\",\n      \"name\": \"Client\",\n      \"caption\": \"Cliente\"\n    },\n    {\n      \"dataField\": \"Project\",\n      \"name\": \"Project\",\n      \"caption\": \"Projeto\"\n    },\n    {\n      \"dataField\": \"Job\",\n      \"name\": \"Jobs\",\n      \"caption\": \"Atividade\"\n    },\n    {\n      \"dataField\": \"CreatedBy\",\n      \"name\": \"CreatedBy\",\n      \"caption\": \"Criado por\"\n    },\n    {\n      \"dataField\": \"CreatedById\",\n      \"name\": \"CreatedById\",\n      \"caption\": \"Criador\",\n      \"width\": 120,\n      \"cellTemplate\": \"function(e, i) {SK.showImage(e, 'user', 'small', i.data['HasImage'], i.data['CreatedBy'], i.data['CreatedById'])}\"\n    },\n    {\n      \"dataField\": \"Priority\",\n      \"name\": \"Priority\",\n      \"caption\": \"Prioridade\",\n      \"cellTemplate\": \"function(e, i) {\n        var h = document.createElement('DIV'); \n        e.appendChild(h);\n        h.classList.add('fal');\n        if (i.value==2) \n        {\n          h.style['color'\n        ] = '#f7412d';\n          h.classList.add('fa-tachometer-fastest');\n      }\n        if (i.value==1)\n        {\n          h.style['color'\n        ] = '#3ba3f8';\n          h.classList.add('fa-tachometer-average');\n      }\n        if (i.value==0)\n        {\n          h.style['color'\n        ] = '#7ec880';\n          h.classList.add('fa-tachometer-slowest');\n      }\n    }\"\n  },\n  {\n    \"dataField\": \"Effort\",\n    \"name\": \"Effort\",\n    \"caption\": \"Esfor?o\"\n  },\n  {\n    \"dataField\": \"Days\",\n    \"caption\": \"Dias\",\n    \"alignment\": \"right\",\n    \"format\": \"#,##0\",\n    \"width\": 60,\n    \"cellTemplate\": \"function(e, i) { SW.setRAG(e, i.value, i.value <= 0, i.value > 0 && i.value <= 5, i.value > 5); }\"\n  },\n  {\n    \"dataField\": \"JobClassification\",\n    \"caption\": \"Classifica??o\",\n    \"alignment\": \"left\",\n    \"format\": \"#,##0\"\n  },\n  {\n    \"dataField\": \"Stage\",\n    \"caption\": \"Etapa\",\n    \"name\": \"Name\",\n    \"alignment\": \"left\",\n    \"format\": \"#,##0\",\n    \"groupCellTemplate\": \"function(e, i) {\n        var color=i.component.option().dataSource.find(row=>row.Stage==i.text).Color;\n        var h=document.createElement('span');\n        h.style.backgroundColor = color; \n        h.classList.add('documentStageColor');\n        e.append(h);\n        h=document.createElement('span');\n        var ht=' ' + i.text + ' ('+i.summaryItems[\n      0\n    ].value+')'; \n        h.innerHTML = ht;\n        e.append(h);\n  }\",\n    \"cellTemplate\": \"function(e, i) {var color=i.component.option().dataSource.find(row=>row.Stage==i.text).Color;var h=document.createElement('SPAN');h.style.backgroundColor=color;h.style.className = 'documentStageColor';e.appendChild(h);h=document.createElement('SPAN'); h.innerHTML = i.text; e.appendChild(h);}\",\n    \"groupIndex\": 1\n  },\n  {\n    \"dataField\": \"StartDate\",\n    \"caption\": \"In?cio\",\n    \"alignment\": \"left\",\n    \"dataType\": \"date\",\n    \"format\": \"d MMM\",\n    \"width\": 105\n  },\n  {\n    \"dataField\": \"EndDate\",\n    \"caption\": \"Conclus?o\",\n    \"alignment\": \"left\",\n    \"dataType\": \"date\",\n    \"format\": \"d MMM\",\n    \"width\": 105\n  },\n  {\n    \"dataField\": \"LastActivity\",\n    \"caption\": \"Altera??o\",\n    \"alignment\": \"left\",\n    \"dataType\": \"date\",\n    \"format\": \"d MMM\",\n    \"width\": 100\n  },\n  {\n    \"dataField\": \"Executor\",\n    \"name\": \"Executor\",\n    \"caption\": \"Executado por\"\n  },\n  {\n    \"dataField\": \"ExecutorId\",\n    \"caption\": \"Executores\",\n    \"alignment\": \"left\",\n    \"width\": 100,\n    \"cellTemplate\": \"function(e, i) {\n      if(i.text == '') \n        return; \n      var executors = i.text.split(',');\n      var h = document.createElement('DIV');\n      e.appendChild(h);\n      h.style['text-align']= 'center'; \n      h.style['display'] = 'flex';\n      h.style['justify-content'] = 'flex-end';\n                \n      function myFunction(item, index) {\n        var img = document.createElement('img'); \n        h.appendChild(img);\n        img.src = SkillsWorkflow.getUserImages([item]);\n        img.style['border-radius'] = '40px'; \n        img.height='16';\n        img.width='16';\n      }\n      executors.forEach( (item, index) => myFunction(item, index));\n    }\"\n  }\n],\n\"sortByGroupSummaryInfo\": [\n  {\n    \"summaryItem\": \"count\"\n  }\n],\n\"summary\": {\n  \"groupItems\": [\n    {\n      \"column\": \"Jobs\",\n      \"summaryType\": \"count\",\n      \"valueFormat\": \"#,##0\",\n      \"displayFormat\": \"{0}\",\n      \"alignment\": \"left\"\n    }\n  ],\n  \"totalItems\": [\n    {\n      \"column\": \"Jobs\",\n      \"summaryType\": \"count\",\n      \"valueFormat\": \"#,##0\",\n      \"displayFormat\": \"Total: {0}\",\n      \"alignment\": \"left\"\n    },\n    {\n      \"column\": \"Effort\",\n      \"summaryType\": \"sum\",\n      \"valueFormat\": \"#,##0\",\n      \"displayFormat\": \"{0}\",\n      \"alignment\": \"center\",\n      \"cellTemplate\": \"function(e, i) {var h=document.createElement('DIV'); h.innerHTML = i.text;if(i.value<0) {h.style.backgroundColor='#f5564a';h.style.color = '#ffffff'; e.appendChild(h);}}\"\n    }\n  ]\n}\n}","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6"},{"Id":"10897e18-a3b6-4725-8996-529bf705860b","Name":"Resumo das Atividades do Per?odo","Active":true,"UseQuery":false,"Query":null,"Size":6,"Order":1,"Parameters":"[\n    {\n        \"WidgetSubTitle\": \"Pendente Neg?cio, Em Execu??o, Em Distribui??o e Fechadas\",\n        \"WidgetType\": \"chart\",\n        \"WidgetFilterField\": \"\",\n        \"WidgetColor\": \"#e0e0e0\",\n        \"WidgetHeight\": \"\",\n        \"WidgetHeader\": {\n            \"showContextInfo\": false,\n            \"WidgetPeriodChooser\": {\n                \"type\": \"year\",\n                \"visible\": false\n            },\n            \"WidgetMetrics\": {\n                \"visible\": true,\n                \"Metrics\": [\n                    {\n                        \"visible\": true,\n                        \"metricName\": \"# Pendente Neg?cios\",\n                        \"metricFieldValue\": \"Total Pendente Neg?cios\"\n                    },\n                    {\n                        \"visible\": true,\n                        \"metricName\": \"# Em Execu??o\",\n                        \"metricFieldValue\": \"Total Em Execu??o\"\n                    },\n                    {\n                        \"visible\": true,\n                        \"metricName\": \"# Em Distribui??o\",\n                        \"metricFieldValue\": \"Total Em Distribui??o\"\n                    },\n                    {\n                        \"visible\": true,\n                        \"metricName\": \"# Finalizado\",\n                        \"metricFieldValue\": \"Total Finalizado\"\n                    }\n                ]\n            },\n            \"showSubTitle\": true,\n            \"showTitle\": true\n        },\n        \"WidgetDataSources\": {\n            \"main\": {\n                \"type\": \"query\",\n                \"value\": \"globalQuery/Atividades Criativas - Delayed Jobs/execute\",\n                \"mapping\": \"\"\n            }\n        },\n        \"QueryConfiguration\": {\n            \"RequiredFilters\": [\n                \"startDate\",\n                \"endDate\"\n            ]\n        }\n    }\n]","DashboardComponentType":{"Id":"cab97287-486a-4e86-98e8-7a4fddb29416","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Atividades Criativas - Delayed Jobs/execute","Configuration":"{\n  \"size\": {\n    \"height\": 275\n  },\n  \"commonSeriesSettings\": {\n    \"ignoreEmptyPoints\": true,\n    \"type\": \"bar\",\n    \"cornerRadius\": \"2px\",\n    \"label\": {\n      \"visible\": true,\n      \"showForZeroValues\": false\n    },\n    \"argumentField\": \"Departamento\"\n  },\n  \"argumentAxis\": {\n    \"label\": {\n      \"overlappingBehavior\": \"stagger\",\n      \"font\": {\n        \"size\": 10\n      }\n    }\n  },\n  \"panes\": [\n    {\n      \"name\": \"bar\"\n    }\n  ],\n  \"series\": [\n    {\n      \"valueField\": \"Pendente Neg?cios\",\n      \"name\": \"Pendente Neg?cios\",\n      \"barWidth\": 80,\n      \"color\": \"#ffc720\",\n      \"pane\": \"bar\",\n      \"type\": \"bar\"\n    },\n    {\n      \"valueField\": \"Em Execu??o\",\n      \"name\": \"Em Execu??o\",\n      \"barWidth\": 80,\n      \"color\": \"#446fd2\",\n      \"pane\": \"bar\",\n      \"type\": \"bar\"\n    },\n    {\n      \"valueField\": \"Em Distribui??o\",\n      \"name\": \"Em Distribui??o\",\n      \"barWidth\": 80,\n      \"color\": \"#97c95c\",\n      \"pane\": \"bar\",\n      \"type\": \"bar\"\n    },\n    {\n      \"valueField\": \"Finalizado\",\n      \"name\": \"Finalizado\",\n      \"barWidth\": 80,\n      \"color\": \"#000000\",\n      \"pane\": \"bar\",\n      \"type\": \"bar\"\n    },\n    {\n      \"valueField\": \"Pendente Neg?cios\",\n      \"name\": \"Pendente Neg?cios\",\n      \"barWidth\": 80,\n      \"color\": \"#ffc720\",\n      \"pane\": \"stacked\",\n      \"type\": \"stackedbar\",\n      \"showInLegend\": false,\n      \"visible\": false\n    },\n    {\n      \"valueField\": \"Em Execu??o\",\n      \"name\": \"Em Execu??o\",\n      \"barWidth\": 80,\n      \"color\": \"#97c95c\",\n      \"pane\": \"stacked\",\n      \"type\": \"stackedbar\",\n      \"showInLegend\": false,\n      \"visible\": false\n    },\n    {\n      \"valueField\": \"Em Distribui??o\",\n      \"name\": \"Em Distribui??o\",\n      \"barWidth\": 80,\n      \"color\": \"#ffc720\",\n      \"pane\": \"stacked\",\n      \"type\": \"stackedbar\",\n      \"showInLegend\": false,\n      \"visible\": false\n    },\n    {\n      \"valueField\": \"Finalizado\",\n      \"name\": \"Finalizado\",\n      \"barWidth\": 80,\n      \"color\": \"#446fd2\",\n      \"pane\": \"stacked\",\n      \"type\": \"stackedbar\",\n      \"showInLegend\": false,\n      \"visible\": false\n    }\n  ],\n  \"legend\": {\n    \"verticalAlignment\": \"bottom\",\n    \"horizontalAlignment\": \"center\",\n    \"columnCount\": 4,\n    \"rowCount\": 1,\n    \"position\": \"outside\"\n  }\n}","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6"},{"Id":"bd84a7a2-114a-4b43-a0af-6b5070a46656","Name":"Horizonte Temporal","Active":true,"UseQuery":false,"Query":null,"Size":6,"Order":2,"Parameters":"[{\"WidgetSubTitle\":\"Fechados (cinza) e Em Progresso (azul)\",\"WidgetType\":\"rangeSelector\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#e0e0e0\",\"WidgetHeight\":\"\",\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"startDate\":\"2019/01/1\",\"endDate\":\"2019/12/31\",\"type\":\"year\",\"visible\":false},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"query\",\"value\":\"globalQuery/Atividades Criativas - OvertimeView/execute\",\"mapping\":\"\"}},\"QueryConfiguration\":null}]","DashboardComponentType":{"Id":"cab97287-486a-4e86-98e8-7a4fddb29416","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Atividades Criativas - OvertimeView/execute","Configuration":"{\n  \"size\": {\n    \"height\": 330\n  },\n  \"containerBackgroundColor\": \"#e0e0e0\",\n  \"selectedRangeColor\": \"#f5564a\",\n  \"chart\": {\n    \"commonSeriesSettings\": {\n      \"type\": \"steparea\",\n      \"argumentField\": \"Week\",\n      \"cornerRadius\": \"2px\"\n    },\n    \"series\": [\n      {\n        \"valueField\": \"Closed\"\n      },\n      {\n        \"valueField\": \"InProgress\"\n      },\n      {\n        \"valueField\": \"Critical\",\n        \"type\": \"scatter\"\n      },\n      {\n        \"valueField\": \"Open\",\n        \"type\": \"scatter\",\n        \"point\": {\n          \"symbol\": \"triangleDown\"\n        }\n      }\n    ]\n  },\n  \"scale\": {\n    \"minorTickInterval\": \"week\",\n    \"tickInterval\": \"week\",\n    \"valueType\": \"datetime\"\n  },\n  \"sliderMarker\": {\n    \"format\": \"monthAndDay\",\n    \"color\": \"#da5859\"\n  },\n  \"value\": [\n    \"2019-04-15\",\n    \"2019-04-22\"\n  ]\n}","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6"}]}