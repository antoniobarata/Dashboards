{"DashboardDefinitionRoles":[{"AccessRoleId":"c69ac80b-9c40-44d6-a34f-ac8916a2b8bc","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6","AccessRoleName":"Administrator"},{"AccessRoleId":"fd6d4432-72bb-48f7-bc44-40f16b7e13e0","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6","AccessRoleName":"Perfil Manuten??o"},{"AccessRoleId":"c69ac80b-9c40-44d6-a34f-ac8916a2b8bc","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6","AccessRoleName":"Administrator"},{"AccessRoleId":"df68defe-acf1-4661-91de-ef58aae11243","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6","AccessRoleName":"Perfil Diretor Midia/Social/Planejamento/Bi"},{"AccessRoleId":"46d9e87a-5bde-497a-8897-35ce508bdd90","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6","AccessRoleName":"Perfil Consultor/Suporte"},{"AccessRoleId":"9c5d7946-64b4-4dae-bc89-60399d909037","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6","AccessRoleName":"Perfil GP"},{"AccessRoleId":"c69ac80b-9c40-44d6-a34f-ac8916a2b8bc","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6","AccessRoleName":"Administrator"}],"Id":"0ac7e462-c34c-41cb-86ad-a0da74857af6","Name":"Atividades","Active":true,"Location":0,"DocumentId":"00000000-0000-0000-0000-000000000000","DocumentName":"","DocumentsConfiguration":null,"Templates":[],"DashboardDefinitionComponents":[{"Id":"ddd5a73d-4a43-43f4-b04e-0481bbedd02e","Name":"Atividades","Active":true,"UseQuery":false,"Query":"","Size":12,"Order":3,"Parameters":"[{\"WidgetSubTitle\":\"Carga de Trabalho do Per?odo por Departamento\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetHeight\":500,\"WidgetHeader\":{\"showTitle\":true,\"showSubTitle\":true,\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"select\\tdj.Department as Department,\\r\\n\\t\\tccl.[Name] as ClientClassification,\\r\\n\\t\\tdj.Client as Client,\\r\\n\\t\\tdj.ClientId as ClientId,\\r\\n\\t\\tcc.HasImage as cHasImage,\\r\\n\\t\\tjc.[Name] as JobClassification,\\r\\n\\t\\tdj.Project as Project,\\r\\n\\t\\tdj.[NameAndExternalId] as Job,\\r\\n\\t\\tdj.[User] as CreatedBy,\\r\\n\\t\\tdj.UserId as CreatedById,\\r\\n\\t\\tu.HasImage as uHasImage,\\r\\n\\t\\td.[Priority] as [Priority],\\r\\n\\t\\tdj.Effort as Effort,\\r\\n\\t\\tdatediff(day, getdate(), dj.[Date]) as Days,\\r\\n\\t\\tdj.ProjectClassificationName as JobClassification,\\r\\n\\t\\tdj.[State] as Stage,\\r\\n\\t\\tcast(d.EntryDate as date) as StartDate,\\r\\n\\t\\tcast(dj.[Date] as Date) as EndDate,\\r\\n\\t\\td.ModifiedOn as LastActivity,\\r\\n\\t\\t(select\\tstring_agg(convert(nvarchar(50), usr.Name), ',') from Assignment ass, AssignmentType ast, [User] usr where usr.Oid = ass.[User] and ass.DocumentOid = dj.Oid and ast.Name = 'Executor' and ass.AssignmentType = ast.Oid) as Executor,\\r\\n\\t\\t(select string_agg(convert(nvarchar(50), ass.[User]), ',') from Assignment ass, AssignmentType ast where ass.DocumentOid = dj.Oid and ast.Name = 'Executor' and ass.AssignmentType = ast.Oid) as ExecutorId,\\r\\n\\t\\t(select\\tstring_agg(convert(nvarchar(50), usr.HasImage), ',') from Assignment ass, AssignmentType ast, [User] usr where usr.Oid = ass.[User] and ass.DocumentOid = dj.Oid and ast.Name = 'Executor' and ass.AssignmentType = ast.Oid) as ExecutorImage,\\r\\n\\t\\tIsNull(ws.Color, wst.Color) as Color\\r\\nfrom\\tAnalytics.Job(@CurrentUserId) dj,\\r\\n\\t\\tDeliverable d left outer join JobClassification jc on jc.Oid = d.[Classification],\\r\\n\\t\\t[User] u,\\r\\n\\t\\tCommercialClient cc left outer join ClientClassification ccl on ccl.Oid = cc.ClientClassification,\\r\\n\\t\\tWorkflowState ws,\\r\\n\\t\\tWorkflowStateType wst\\r\\nwhere\\td.Oid = dj.Oid and\\r\\n\\t\\tdj.UserId = u.Oid and\\r\\n\\t\\tcc.Oid = dj.ClientId and \\r\\n\\t\\tdj.StateId = ws.Oid and\\r\\n\\t\\tdj.StateTypeId = wst.Oid and\\r\\n\\t\\tdj.[Date] between @FromDate and @ToDate and\\r\\n\\t\\t(dj.DivisionId = @Division or @Division = '00000000-0000-0000-0000-000000000000') and\\r\\n\\t\\t(dj.CompanyId = @Company or @Company = '00000000-0000-0000-0000-000000000000')\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[\"startDate\",\"endDate\",\"Company\",\"Division\"]}}]","DashboardComponentType":{"Id":"cab97287-486a-4e86-98e8-7a4fddb29416","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"","Configuration":"{\r\n    \"stateStoring\": {\r\n        \"enabled\": false\r\n    },\r\n    \"height\": 500,\r\n    \"searchPanel\": {\r\n        \"visible\": true\r\n    },\r\n    \"columnChooser\": {\r\n        \"enabled\": false\r\n    },\r\n    \"export\": {\r\n        \"enabled\": true,\r\n        \"fileName\": \"Re-Work Analysis\"\r\n    },\r\n    \"groupPanel\": {\r\n        \"visible\": true\r\n    },\r\n    \"grouping\": {\r\n        \"autoExpandAll\": true\r\n    },\r\n    \"selection\": {\r\n        \"mode\": \"single\"\r\n    },\r\n    \"scrolling\": {\r\n        \"mode\": \"virtual\",\r\n        \"rowRenderingMode\": \"virtual\"\r\n    },\r\n    \"allowColumnReordering\": true,\r\n    \"rowAlternationEnabled\": true,\r\n    \"showBorders\": false,\r\n    \"columns\": [\r\n        {\r\n            \"dataField\": \"Department\",\r\n            \"caption\": \"Departamento\",\r\n            \"width\": 150,\r\n            \"groupIndex\": 0\r\n        },\r\n        {\r\n            \"dataField\": \"ClientClassification\",\r\n            \"name\": \"ClientClassification\",\r\n            \"caption\": \"Classifica??o Cliente\",\r\n            \"width\": 150\r\n        },\r\n        {\r\n            \"dataField\": \"ClientId\",\r\n            \"caption\": \"\",\r\n            \"width\": 30,\r\n            \"alignment\": \"left\",\r\n            \"cellTemplate\": \"function(e, i) { SK.showImage(e, 'client', 'small', i.data.cHasImage, i.data.Client, i.data.ClientId) }\"\r\n        },\r\n        {\r\n            \"dataField\": \"Client\",\r\n            \"caption\": \"Cliente\",\r\n            \"width\": 225\r\n        },\r\n        {\r\n            \"dataField\": \"Project\",\r\n            \"caption\": \"Projeto\",\r\n            \"width\": 225\r\n        },\r\n        {\r\n            \"dataField\": \"Job\",\r\n            \"caption\": \"Atividade\",\r\n            \"width\": 250\r\n        },\r\n        {\r\n            \"dataField\": \"CreatedById\",\r\n            \"caption\": \"\",\r\n            \"width\": 30,\r\n            \"cellTemplate\": \"function(e, i) {SK.showImage(e, 'user', 'small', i.data.uHasImage, i.data.CreatedBy, i.data.CreatedById)}\"\r\n        },\r\n        {\r\n            \"dataField\": \"CreatedBy\",\r\n            \"caption\": \"Criado por\",\r\n            \"width\": 100\r\n        },\r\n        {\r\n            \"dataField\": \"Priority\",\r\n            \"caption\": \"Prioridade\",\r\n            \"alignment\": \"center\",\r\n            \"width\": 70,\r\n            \"cellTemplate\": \"function(e, i) {\r\n                                    var h = document.createElement('DIV'); \r\n                                    e.appendChild(h);\r\n                                    h.classList.add('fal');\r\n                                    if (i.value==2) {\r\n                                        h.style['color'\r\n                ] = '#f7412d';\r\n                                        h.classList.add('fa-tachometer-fastest');\r\n            }\r\n                                    if (i.value==1){\r\n                                        h.style['color'\r\n                ] = '#3ba3f8';\r\n                                        h.classList.add('fa-tachometer-average');\r\n            }\r\n                                    if (i.value==0){\r\n                                        h.style['color'\r\n                ] = '#7ec880';\r\n                                        h.classList.add('fa-tachometer-slowest');\r\n            }\r\n        }\"\r\n    },\r\n    {\r\n        \"dataField\": \"Effort\",\r\n        \"caption\": \"Esfor?o\",\r\n        \"alignment\": \"center\",\r\n        \"width\": 90,\r\n        \"cellTemplate\": \"function(e, i) { SW.setRAG(e, i.value, i.value >= 9, i.value < 9 && i.value >= 4, i.value < 4); }\"\r\n    },\r\n        {\r\n            \"dataField\": \"StartDate\",\r\n            \"caption\": \"Inicio\",\r\n            \"alignment\": \"left\",\r\n            \"dataType\": \"date\",\r\n            \"format\": \"d MMM\",\r\n            \"width\": 75\r\n        },\r\n    {\r\n        \"dataField\": \"EndDate\",\r\n        \"caption\": \"Conclus?o\",\r\n        \"alignment\": \"left\",\r\n        \"dataType\": \"date\",\r\n        \"format\": \"d MMM\",\r\n        \"width\": 75\r\n    },\r\n    {\r\n        \"dataField\": \"Days\",\r\n        \"caption\": \"Dias\",\r\n        \"alignment\": \"center\",\r\n        \"width\": 90,\r\n        \"format\": \"#,##0\",\r\n        \"cellTemplate\": \"function(e, i) { SW.setRAG(e, i.value, i.value <= 0, i.value > 0 && i.value <= 5, i.value > 5); }\"\r\n    },\r\n    {\r\n        \"dataField\": \"Stage\",\r\n        \"caption\": \"Etapa\",\r\n        \"name\": \"Name\",\r\n        \"alignment\": \"left\",\r\n        \"format\": \"#,##0\",\r\n        \"groupCellTemplate\": \"function(e, i) {\r\n                                var color=i.component.option().dataSource.find(row=>row.Stage==i.text).Color;\r\n                                var h=document.createElement('span');\r\n                                h.style.backgroundColor = color; \r\n                                h.classList.add('documentStageColor');\r\n                                e.append(h);\r\n                                h=document.createElement('span'); \r\n                                var ht=' ' + i.text + ' ('+i.summaryItems[0].value+')'; \r\n                                h.innerHTML = ht;\r\n                                e.append(h);\r\n        }\",\r\n        \"cellTemplate\": \"function(e, i) {\r\n                                var color = i.component.option().dataSource.find(row=>row.Stage==i.text).Color;\r\n                                var h=document.createElement('SPAN');\r\n                                h.style.backgroundColor=color; \r\n                                h.style.className = 'documentStageColor';\r\n                                e.appendChild(h);\r\n                                h=document.createElement('SPAN');\r\n                                h.innerHTML = i.text;\r\n                                e.appendChild(h);\r\n        }\",\r\n            \"groupIndex\": 1\r\n    },\r\n    {\r\n        \"dataField\": \"JobClassification\",\r\n        \"caption\": \"Classifica??o\",\r\n        \"alignment\": \"left\",\r\n        \"format\": \"#,##0\",\r\n        \"width\": 100\r\n    },\r\n    {\r\n        \"dataField\": \"ExecutorId\",\r\n        \"caption\": \"Executores\",\r\n        \"alignment\": \"center\",\r\n        \"width\": 100,\r\n        \"cellTemplate\": \"function(e, i) {\r\n                                    if(i.text == '') \r\n                                        return; \r\n                                    var executorId = i.text.split(',');\r\n                                    var executorName = i.row.data.Executor.split(',');\r\n                                    var executorImage = i.row.data.ExecutorImage.split(',');\r\n                        \r\n                                function myFunction(item, index) {\r\n                                    if (executorImage[index\r\n            ] === '1') {\r\n                                        var hasImage = true;\r\n            } else {\r\n                                        var hasImage = false;\r\n            }\r\n                                    SK.showImage(e, 'user', 'small', hasImage, executorName[index\r\n            ], item);\r\n        }\r\n                                executorId.forEach( (item, index) => myFunction(item, index));\r\n        }\"\r\n    }],\r\n    \"summary\": {\r\n        \"groupItems\": [\r\n            {\r\n                \"column\": \"Jobs\",\r\n                \"summaryType\": \"count\",\r\n                \"valueFormat\": \"#,##0\",\r\n                \"displayFormat\": \"{0}\",\r\n                \"alignment\": \"left\"\r\n            }\r\n        ]\r\n    }\r\n}","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6"},{"Id":"734e24f3-7a94-47bb-8f30-35b3f358edd8","Name":"","Active":true,"UseQuery":false,"Query":"","Size":12,"Order":0,"Parameters":"[{\"WidgetSubTitle\":\"\",\"WidgetType\":\"form\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#efefef\",\"WidgetHeight\":30,\"WidgetHeader\":{\"showTitle\":false,\"showSubTitle\":false,\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[]}}]","DashboardComponentType":{"Id":"cab97287-486a-4e86-98e8-7a4fddb29416","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"","Configuration":"{\r\n    \"colCount\": 3,\r\n    \"items\": [\r\n        {\r\n            \"dataField\": \"Year\",\r\n            \"label\": {\r\n                \"text\": \"Ano\"\r\n            },\r\n            \"editorType\": \"dxNumberBox\",\r\n            \"editorOptions\": {\r\n                \"showSpinButtons\": true,\r\n                \"value\": 2019,\r\n                \"width\": 65,\r\n                \"placeholder\": \"year\",\r\n                \"onContentReady\": \"function(e){ setTimeout(function() { SkillsWorkflow.setDashboardFilter('year', 2019); SkillsWorkflow.setDashboardFilter('Company', '00000000-0000-0000-0000-000000000000'); SkillsWorkflow.setDashboardFilter('Division', '00000000-0000-0000-0000-000000000000'); }, 500) }\",\r\n                \"onValueChanged\": \"function(e){ if(e.value != null) { SkillsWorkflow.setDashboardFilter('year', e.value); } }\"\r\n            },\r\n            \"noDataText\": \"Please wait...\"\r\n        },\r\n        {\r\n            \"dataField\": \"CompanyId\",\r\n            \"label\": {\r\n                \"text\": \"Companhia\"\r\n            },\r\n            \"editorType\": \"dxSelectBox\",\r\n            \"editorOptions\": {\r\n                \"width\": 250,\r\n                \"searchEnabled\": true,\r\n                \"dataSource\": {\r\n                    \"load\": \"function(loadOptions){ \r\n                            var searchValue = (\r\n                            loadOptions.searchValue != null ? loadOptions.searchValue : ''); \r\n                            var searchTake = (loadOptions.searchValue != null && loadOptions.searchValue != '' ? 10 : 100); \r\n                            return SkillsWorkflow.executeAPI('GET', 'companies/lookup',\r\n                    null,\r\n                    {}).then(function(res){ res.push({Id: '00000000-0000-0000-0000-000000000000', Name:'Todas as Companhias'\r\n                        });return res;\r\n                    })\r\n                }\",\r\n                \"byKey\": \"function(key) { return SW.executeAPI('GET','companies/'+key+'/lookup',null,{}).then( result =>  { return Promise.resolve(result);}) }\"\r\n            },\r\n            \"placeholder\": \"Todas as Companhias\",\r\n            \"displayExpr\": \"Name\",\r\n            \"valueExpr\": \"Id\",\r\n            \"onValueChanged\": \"function(e){ \r\n                if( e.value != null && e.value != '') {\r\n                    SkillsWorkflow.setDashboardFilter('Company', e.value);\r\n            } else {\r\n                    SkillsWorkflow.setDashboardFilter('Company', '00000000-0000-0000-0000-000000000000');\r\n            }\r\n                SW.setComponentByValue(e.previousValue, e.value, 'DivisionId');\r\n        }\",\r\n            \"onInitialized\": \"function(e){ SW.saveComponent(e.component,'CompanyId');}\"\r\n    }\r\n},\r\n{\r\n    \"dataField\": \"DivisionId\",\r\n    \"label\": {\r\n        \"text\": \"Divis?o\"\r\n    },\r\n    \"editorType\": \"dxSelectBox\",\r\n    \"editorOptions\": {\r\n        \"width\": 250,\r\n        \"searchEnabled\": true,\r\n        \"dataSource\": {\r\n            \"load\": \"function(loadOptions){ \r\n                            let searchValue = (loadOptions.searchValue != null ? loadOptions.searchValue : ''); \r\n                            let skip = loadOptions.skip || 0; \r\n                            let take = loadOptions.take || 20; \r\n                            var param = { name:searchValue, skip: skip, take: take\r\n            }; \r\n                            var companyId = SW.getValueFromComponent('CompanyId'); \r\n                            if (companyId == '00000000-0000-0000-0000-000000000000') {\r\n                                return SkillsWorkflow.executeAPI('GET', 'divisions/lookup',\r\n                null,\r\n                {}).then(function(res){ res.push({Id: '00000000-0000-0000-0000-000000000000', Name:'Todas as Divis?es'\r\n                    });return res;\r\n                })\r\n            } else if (companyId != null) { \r\n                                param['companyId'\r\n                ] = companyId;\r\n                                return SkillsWorkflow.executeAPI('GET', 'divisions/lookup',param,\r\n                {}).then(function(res){ res.push({Id: '00000000-0000-0000-0000-000000000000', Name:'Todas as Divis?es'\r\n                    });return res;\r\n                })\r\n            }\r\n        }\",\r\n                \"byKey\": \"function(key) { return SW.executeAPI('GET','divisions/'+key+'/lookup',null,{}).then( result =>  { return Promise.resolve(result);})}\"\r\n    },\r\n    \"placeholder\": \"Todas as Divis?es\",\r\n    \"onValueChanged\": \"function(e){ \r\n                if (e.value != null && e.value != '') {\r\n                    SkillsWorkflow.setDashboardFilter('Division', e.value);\r\n    } else {\r\n                    SkillsWorkflow.setDashboardFilter('Division', '00000000-0000-0000-0000-000000000000');\r\n    }\r\n}\",\r\n        \"onInitialized\": \"function(e){ SW.saveComponent(e.component, 'DivisionId'); }\",\r\n\"displayExpr\": \"Name\",\r\n\"valueExpr\": \"Id\",\r\n\"disabled\": true\r\n}\r\n}\r\n]\r\n}","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6"},{"Id":"df66ba35-2c59-4d21-b0d1-712a7449dd49","Name":"Resumo das Atividades do Per?odo","Active":true,"UseQuery":false,"Query":null,"Size":6,"Order":1,"Parameters":"[{\"WidgetSubTitle\":\"Pendente Neg?cio, Em Execu??o, Em Distribui??o e Fechadas\",\"WidgetType\":\"chart\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#e0e0e0\",\"WidgetHeight\":100,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":true,\"Metrics\":[{\"visible\":true,\"metricName\":\"# Em Distribui??o\",\"metricFieldValue\":\"TotalBeingPrepared\"},{\"visible\":true,\"metricName\":\"# Em Execu??o\",\"metricFieldValue\":\"TotalInProgress\"},{\"visible\":true,\"metricName\":\"# Pendente Neg?cios\",\"metricFieldValue\":\"TotalUnderApproval\"},{\"visible\":true,\"metricName\":\"# Finalizado\",\"metricFieldValue\":\"TotalDone\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"select\\tv.*,\\r\\n\\t\\t(sum(v.BeingPrepared) over()) as TotalBeingPrepared,\\r\\n\\t\\t(sum(v.UnderApproval) over()) as TotalUnderApproval,\\r\\n\\t\\t(sum(v.InProgress) over()) as TotalInProgress,\\r\\n\\t\\t(sum(v.Done) over()) as TotalDone\\r\\nfrom\\t(\\r\\n\\t\\tselect\\tdj.Department,\\r\\n\\t\\t\\t\\tsum(iif(dj.StateTypeCode in (1,3), 1, 0)) as BeingPrepared,\\r\\n\\t\\t\\t\\tsum(iif(dj.StateTypeCode = 5, 1, 0)) as UnderApproval,\\r\\n\\t\\t\\t\\tsum(iif(dj.StateTypeCode = 4, 1, 0)) as InProgress,\\r\\n\\t\\t\\t\\tsum(iif(dj.StateTypeCode = 6, 1, 0)) as Done\\r\\n\\t\\tfrom\\tAnalytics.Job(@CurrentUserId) dj\\r\\n\\t\\twhere\\tdj.[Date] between @FromDate and @ToDate and\\r\\n\\t\\t\\t\\t(dj.DivisionId = @Division or @Division = '00000000-0000-0000-0000-000000000000') and\\r\\n\\t\\t\\t\\t(dj.CompanyId = @Company or @Company = '00000000-0000-0000-0000-000000000000')\\r\\n\\t\\tgroup by dj.Department\\r\\n) v\\r\\nwhere\\tv.BeingPrepared != 0 or\\r\\n\\t\\tv.UnderApproval != 0 or\\r\\n\\t\\tv.InProgress != 0 or \\r\\n\\t\\tv.Done != 0\\r\\ngroup by v.Department,\\r\\n\\t\\tv.BeingPrepared,\\r\\n\\t\\tv.UnderApproval,\\r\\n\\t\\tv.InProgress,\\r\\n\\t\\tv.Done\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\",\"Company\",\"Division\"]}}]","DashboardComponentType":{"Id":"cab97287-486a-4e86-98e8-7a4fddb29416","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Atividades Criativas - Delayed Jobs/execute","Configuration":"{\n  \"size\": {\n    \"height\": 247\n  },\n  \"commonSeriesSettings\": {\n    \"ignoreEmptyPoints\": true,\n    \"type\": \"bar\",\n    \"cornerRadius\": \"2px\",\n    \"label\": {\n      \"visible\": true,\n      \"showForZeroValues\": false\n    },\n    \"argumentField\": \"Department\"\n  },\n  \"argumentAxis\": {\n    \"label\": {\n      \"overlappingBehavior\": \"stagger\",\n      \"font\": {\n        \"size\": 10\n      }\n    }\n  },\n  \"panes\": [\n    {\n      \"name\": \"bar\"\n    }\n  ],\n  \"series\": [\n    {\n      \"valueField\": \"BeingPrepared\",\n      \"name\": \"Em Distribui??o\",\n      \"barWidth\": 80,\n      \"color\": \"#97c95c\",\n      \"pane\": \"bar\",\n      \"type\": \"bar\"\n    },\n    {\n      \"valueField\": \"InProgress\",\n      \"name\": \"Em Execu??o\",\n      \"barWidth\": 80,\n      \"color\": \"#446fd2\",\n      \"pane\": \"bar\",\n      \"type\": \"bar\"\n    },\n    {\n      \"valueField\": \"UnderApproval\",\n      \"name\": \"Pendente Neg?cios\",\n      \"barWidth\": 80,\n      \"color\": \"#ffc720\",\n      \"pane\": \"bar\",\n      \"type\": \"bar\"\n    },\n    {\n      \"valueField\": \"Done\",\n      \"name\": \"Finalizado\",\n      \"barWidth\": 80,\n      \"color\": \"#000000\",\n      \"pane\": \"bar\",\n      \"type\": \"bar\"\n    },\n    {\n      \"valueField\": \"UnderApproval\",\n      \"name\": \"Pendente Neg?cios\",\n      \"barWidth\": 80,\n      \"color\": \"#ffc720\",\n      \"pane\": \"stacked\",\n      \"type\": \"stackedbar\",\n      \"showInLegend\": false,\n      \"visible\": false\n    },\n    {\n      \"valueField\": \"InProgress\",\n      \"name\": \"Em Execu??o\",\n      \"barWidth\": 80,\n      \"color\": \"#97c95c\",\n      \"pane\": \"stacked\",\n      \"type\": \"stackedbar\",\n      \"showInLegend\": false,\n      \"visible\": false\n    },\n    {\n      \"valueField\": \"BeingPrepared\",\n      \"name\": \"Em Distribui??o\",\n      \"barWidth\": 80,\n      \"color\": \"#ffc720\",\n      \"pane\": \"stacked\",\n      \"type\": \"stackedbar\",\n      \"showInLegend\": false,\n      \"visible\": false\n    },\n    {\n      \"valueField\": \"Done\",\n      \"name\": \"Finalizado\",\n      \"barWidth\": 80,\n      \"color\": \"#446fd2\",\n      \"pane\": \"stacked\",\n      \"type\": \"stackedbar\",\n      \"showInLegend\": false,\n      \"visible\": false\n    }\n  ],\n  \"legend\": {\n    \"verticalAlignment\": \"bottom\",\n    \"horizontalAlignment\": \"center\",\n    \"columnCount\": 4,\n    \"rowCount\": 1,\n    \"position\": \"outside\"\n  },\n  \"resolveLabelOverlapping\": \"shift\"\n}","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6"},{"Id":"ed0486af-5474-4dbc-a165-df51cb1e9301","Name":"Horizonte Temporal","Active":true,"UseQuery":false,"Query":null,"Size":6,"Order":2,"Parameters":"[{\"WidgetSubTitle\":\"Finalizado (azul) e Em Progresso (vermelho)\",\"WidgetType\":\"rangeselector\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#e0e0e0\",\"WidgetHeight\":100,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"select\\tv.[Week],\\n\\t\\tsum(v.InProgress) as InProgress,\\n\\t\\tsum(v.Done) as Done\\nfrom\\t(\\n\\tselect\\tmax(dj.[Date] - datepart(dw, dj.[Date]) + 1) as Week,\\n\\t\\t\\tsum(iif(dj.StateTypeCode = 4, 1, 0)) as InProgress,\\n\\t\\t\\tsum(iif(dj.StateTypeCode = 6, 1, 0)) as Done\\n\\tfrom\\tAnalytics.Job(@CurrentUserId) dj\\n\\twhere\\tYear(dj.[Date]) = @year and\\n\\t\\t\\t(dj.DivisionId = @Division or @Division = '00000000-0000-0000-0000-000000000000') and\\n\\t\\t\\t(dj.CompanyId = @Company or @Company = '00000000-0000-0000-0000-000000000000')\\n\\tgroup by dj.[Date]\\n) v\\nwhere\\tv.InProgress != 0 or v.Done != 0\\ngroup by v.[Week]\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"year\",\"Company\",\"Division\"]}}]","DashboardComponentType":{"Id":"cab97287-486a-4e86-98e8-7a4fddb29416","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"globalQuery/Atividades Criativas - OvertimeView/execute","Configuration":"{\n  \"size\": {\n    \"height\": 307\n  },\n  \"containerBackgroundColor\": \"#e0e0e0\",\n  \"selectedRangeColor\": \"#f5564a\",\n  \"chart\": {\n    \"commonSeriesSettings\": {\n      \"type\": \"steparea\",\n      \"argumentField\": \"Week\",\n      \"cornerRadius\": \"2px\"\n    },\n    \"series\": [\n      {\n        \"valueField\": \"Done\"\n      },\n      {\n        \"valueField\": \"InProgress\"\n      }\n    ]\n  },\n  \"scale\": {\n    \"minorTickInterval\": \"week\",\n    \"tickInterval\": \"week\",\n    \"valueType\": \"datetime\"\n  },\n  \"sliderMarker\": {\n    \"format\": \"monthAndDay\",\n    \"color\": \"#da5859\"\n  },\n  \"value\": {\n    \"length\": {\n      \"years\": 1\n    }\n  }\n}","DashboardDefinitionId":"0ac7e462-c34c-41cb-86ad-a0da74857af6"}]}
