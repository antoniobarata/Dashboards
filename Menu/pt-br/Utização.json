{
  "DashboardDefinitionRoles": [

  ],
  "Id": "7008c8ce-fae8-43ba-8f55-a05f6ac702d8",
  "Name": "Utiliza??o",
  "Active": true,
  "Location": 0,
  "DocumentId": "00000000-0000-0000-0000-000000000000",
  "DocumentName": "",
  "DocumentTypeName": null,
  "DocumentsConfiguration": "{\"type\":\"\",\"operations\":{\"read\":{\"endpoint\":\"\"},\"update\":{\"endpoint\":\"\",\"model\":{}},\"create\":{\"endpoint\":\"\",\"model\":{}},\"remove\":{\"endpoint\":\"\"}},\"layout\":{\"create\":{},\"read\":{}},\"customDocument\":{\"mainColor\":\"\",\"secondaryColor\":\"\",\"imageClass\":\"\",\"namePlural\":\"\",\"name\":\"\",\"systemNames\":\"\"},\"availableOptions\":{\"feed\":false,\"info\":true,\"files\":false,\"userfields\":false,\"dashboard\":false}}",
  "Templates": [

  ],
  "DashboardDefinitionComponents": [
    {
      "Id": "b45286cd-f9a3-4000-9cf9-03206a44cafd",
      "Name": "User Projects",
      "Active": true,
      "UseQuery": false,
      "Query": null,
      "Size": 6,
      "Order": 6,
      "Parameters": "[{\"WidgetSubTitle\":\"Diferentes Projectos onde o User esteve ou est? envolvido\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":24,\"WidgetYPosition\":24,\"WidgetRows\":24,\"WidgetColumns\":24,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":false,\"metricName\":\"# Forecast\",\"metricFieldValue\":\"TimeGrandTotal\"},{\"visible\":false,\"metricName\":\"# Actual\",\"metricFieldValue\":\"UtilizationPercentGrandTotal\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"WITH UsersCapacity AS\\n(\\n\\tSELECT \\n\\t\\tu.Oid AS UserId,\\n\\t\\t(\\n\\t\\t\\t(\\n\\t\\t\\t\\t(\\n\\t\\t\\t\\t\\t(DATEDIFF(dd, @FromDate, @ToDate) + 1)\\n\\t\\t\\t\\t\\t-(DATEDIFF(wk, @FromDate, @ToDate) * 2)\\n\\t\\t\\t\\t\\t-(CASE WHEN DATENAME(dw, @FromDate) = 'Sunday' THEN 1 ELSE 0 END)\\n\\t\\t\\t\\t\\t-(CASE WHEN DATENAME(dw, @ToDate) = 'Saturday' THEN 1 ELSE 0 END)\\n\\t\\t\\t\\t) + 1 \\n\\t\\t\\t)\\n\\t\\t\\t-\\n\\t\\t\\t(\\n\\t\\t\\t\\t(SELECT COUNT(*) FROM Analytics.DatamartLeave dl WHERE dl.UserId = u.Oid AND dl.[Date] BETWEEN @FromDate AND @ToDate)\\n\\t\\t\\t\\t+\\n\\t\\t\\t\\t(SELECT COUNT(*) FROM Analytics.DatamartHoliday dh WHERE dh.UserId = u.Oid AND dh.[Date] BETWEEN @FromDate AND @ToDate)\\n\\t\\t\\t)\\n\\t\\t) * u.RequiredHours AS WorkingHours,\\n\\t\\t(SELECT ISNULL(SUM(dl.[Hours]), 0.0) FROM Analytics.DatamartLeave dl WHERE dl.UserId = u.Oid AND dl.[Date] BETWEEN @FromDate AND @ToDate) AS Leaves,\\n\\t\\t(SELECT ISNULL(SUM(dh.[Hours]), 0.0) FROM Analytics.DatamartHoliday dh WHERE dh.UserId = u.Oid AND dh.[Date] BETWEEN @FromDate AND @ToDate) as Holidays\\n\\tFROM\\n\\t\\t[User] u\\n\\tWHERE\\n\\t\\tu.Oid = @UserId\\n),\\nUsersHours AS\\n(\\n\\tSELECT\\n\\t\\tdt.ClientGroup,\\n\\t\\tdt.Client,\\n\\t\\tdt.[UserId],\\n\\t\\tdt.[User],\\n\\t\\tdt.ProjectClassificationName,\\n\\t\\tdt.ProjectTypeName,\\n\\t\\tSUM(dt.ActualTime) AS [Hours],\\n\\t\\tSUM(dt.AdministrativeTime) AS [AdministrativeHours],\\n\\t\\tSUM(ISNULL(dt.InternalWorkTime, 0.0)) AS [InternalWorkHours],\\n\\t\\tSUM(dt.NewBusinessTime) AS [NewBusinessHours],\\n\\t\\tSUM(dt.BillableTime) AS [BillableHours],\\n\\t\\tSUM(ISNULL(dt.BillableTime, 0.0) - ISNULL(dt.[InternalWorkTime], 0.0)) as [ClientHours],\\n\\t\\tSUM(ISNULL(dt.[ActualTime] - (dt.[AdministrativeTime] + dt.[NewBusinessTime] + dt.[BillableTime]), 0.0)) as [NonWorkedHours]\\n\\tFROM \\n\\t\\tAnalytics.Timesheet(@CurrentUserId) dt\\n\\tWHERE\\n\\t\\tdt.[Date] BETWEEN @FromDate AND @ToDate\\n\\t\\tAND dt.UserId = @UserId\\n\\tGROUP BY\\n\\t\\tdt.ClientGroup,\\n\\t\\tdt.Client,\\n\\t\\tdt.[UserId],\\n\\t\\tdt.[User],\\n\\t\\tdt.ProjectClassificationName,\\n\\t\\tdt.ProjectTypeName\\n)\\nSELECT \\n\\tuh.ClientGroup,\\n\\tuh.Client,\\n\\tuh.[User],\\n\\tuh.ProjectClassificationName,\\n\\tuh.ProjectTypeName,\\n\\tuh.[Hours],\\n\\tuh.AdministrativeHours,\\n\\tuh.InternalWorkHours,\\n\\tuh.NewBusinessHours,\\n\\tuh.BillableHours,\\n\\tuh.ClientHours,\\n\\tuh.NonWorkedHours,\\n\\tuc.WorkingHours AS Capacity,\\n\\tuc.Leaves AS Leaves,\\n\\tIIF(uc.WorkingHours > 0, ISNULL(uh.[BillableHours], 0.0) / uc.WorkingHours, 1.0) as UtilizationPercentage,\\n\\tIIF(uc.WorkingHours > 0, ISNULL(uh.[NewBusinessHours], 0.0) / uc.WorkingHours, 1.0) as UtilizationNonBillablePercentage\\nFROM \\n\\tUsersHours uh,\\n\\tUsersCapacity uc\\nWHERE\\n\\tuh.UserId = uc.UserId\\n\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\",\"userId\"]}}]",
      "DashboardComponentType": {
        "Id": "1146a3e4-a230-433c-aef4-84b4b3b1a80d",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "globalQuery/Analytics_Utilization_Per_Company_Department_User/execute",
      "Configuration": "{\n  \"headerFilter\": {\n    \"visible\": true\n  },\n  \"columnResizingMode\": \"widget\",\n  \"allowColumnResizing\": true,\n  \"allowFiltering\": true,\n  \"columnAutoWidth\": true,\n  \"grouping\": {\n    \"autoExpandAll\": true\n  },\n  \"searchPanel\": {\n    \"visible\": true\n  },\n  \"height\": 300,\n  \"scrolling\": {\n    \"mode\": \"virtual\"\n  },\n  \"selection\": {\n    \"mode\": \"none\"\n  },\n  \"columnMinWidth\": 80,\n  \"columns\": [\n    {\n      \"dataField\": \"Client\",\n      \"caption\": \"Client\",\n      \"width\": 120\n    },\n    {\n      \"dataField\": \"ProjectClassificationName\",\n      \"name\": \"ProjectClassificationName\",\n      \"caption\": \"Classification\",\n      \"width\": 120\n    },\n    {\n      \"dataField\": \"ProjectTypeName\",\n      \"name\": \"ProjectTypeName\",\n      \"caption\": \"Type\",\n      \"width\": 120,\n      \"groupIndex\": 0\n    },\n    {\n      \"dataField\": \"ClientHours\",\n      \"caption\": \"Client \",\n      \"name\": \"ClientHours\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\"\n    },\n    {\n      \"dataField\": \"NewBusinessHours\",\n      \"caption\": \"Non-Billable\",\n      \"name\": \"NonBillable\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\"\n    },\n    {\n      \"dataField\": \"BillableHours\",\n      \"caption\": \"Billable\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\"\n    },\n    {\n      \"caption\": \"Utilization\",\n      \"alignment\": \"center\",\n      \"columns\": [\n        {\n          \"dataField\": \"UtilizationPercentage\",\n          \"caption\": \"Billable %\",\n          \"name\": \"Utilization\",\n          \"alignment\": \"right\",\n          \"format\": \"#,##0\",\n          \"cellTemplate\": \"function(e, i) {\n          SK.setRAG(e, (i.value * 100.0).toFixed(1), i.value >= 1.2, i.value < 0.8, (i.value >= 0.8 && i.value < 1.2), true);\n        }\n      \"\n      },\n      {\n        \"dataField\": \"UtilizationNonBillablePercentage\",\n        \"caption\": \"Non Billable %\",\n        \"name\": \"UtilizationNonBillable\",\n        \"alignment\": \"right\",\n        \"format\": \"#,##0\",\n        \"cellTemplate\": \"function(e, i) {\n          SK.setRAG(e, (i.value * 100.0).toFixed(1), i.value >= 1.2, i.value < 0.8, (i.value >= 0.8 && i.value < 1.2), true);\n      }\n      \"\n    }\n  ]\n}\n],\n\"sortByGroupSummaryInfo\": [\n{\n  \"summaryItem\": \"count\"\n}\n],\n\"summary\": {\n\"totalItems\": [\n  {\n    \"column\": \"Capacity\",\n    \"summaryType\": \"sum\",\n    \"valueFormat\": \"#,##0\",\n    \"displayFormat\": \"{0}\",\n    \"alignment\": \"right\"\n  },\n  {\n    \"column\": \"Leaves\",\n    \"summaryType\": \"sum\",\n    \"valueFormat\": \"#,##0\",\n    \"displayFormat\": \"{0}\",\n    \"alignment\": \"right\"\n  }\n]\n}\n}",
      "DashboardDefinitionId": "7008c8ce-fae8-43ba-8f55-a05f6ac702d8"
    },
    {
      "Id": "207e86ad-4c26-473a-bb59-0c29a8b2a2de",
      "Name": "Utiliza??o por User",
      "Active": true,
      "UseQuery": false,
      "Query": null,
      "Size": 6,
      "Order": 5,
      "Parameters": "[{\"WidgetSubTitle\":\"Client, Admin e horas administrativas gastas por User\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":0,\"WidgetYPosition\":24,\"WidgetRows\":24,\"WidgetColumns\":24,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":false,\"metricName\":\"# Forecast\",\"metricFieldValue\":\"TimeGrandTotal\"},{\"visible\":false,\"metricName\":\"# Actual\",\"metricFieldValue\":\"UtilizationPercentGrandTotal\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"WITH UsersCapacity AS\\n(\\n\\tSELECT \\n\\t\\tu.Oid AS UserId,\\n\\t\\t(\\n\\t\\t\\t(\\n\\t\\t\\t\\t(\\n\\t\\t\\t\\t\\t(DATEDIFF(dd, @FromDate, @ToDate) + 1)\\n\\t\\t\\t\\t\\t-(DATEDIFF(wk, @FromDate, @ToDate) * 2)\\n\\t\\t\\t\\t\\t-(CASE WHEN DATENAME(dw, @FromDate) = 'Sunday' THEN 1 ELSE 0 END)\\n\\t\\t\\t\\t\\t-(CASE WHEN DATENAME(dw, @ToDate) = 'Saturday' THEN 1 ELSE 0 END)\\n\\t\\t\\t\\t) + 1 \\n\\t\\t\\t)\\n\\t\\t\\t-\\n\\t\\t\\t(\\n\\t\\t\\t\\t(SELECT COUNT(*) FROM Analytics.DatamartLeave dl WHERE dl.UserId = u.Oid AND dl.[Date] BETWEEN @FromDate AND @ToDate)\\n\\t\\t\\t\\t+\\n\\t\\t\\t\\t(SELECT COUNT(*) FROM Analytics.DatamartHoliday dh WHERE dh.UserId = u.Oid AND dh.[Date] BETWEEN @FromDate AND @ToDate)\\n\\t\\t\\t)\\n\\t\\t) * u.RequiredHours AS WorkingHours,\\n\\t\\t(SELECT ISNULL(SUM(dl.[Hours]), 0.0) FROM Analytics.DatamartLeave dl WHERE dl.UserId = u.Oid AND dl.[Date] BETWEEN @FromDate AND @ToDate) AS Leaves,\\n\\t\\t(SELECT ISNULL(SUM(dh.[Hours]), 0.0) FROM Analytics.DatamartHoliday dh WHERE dh.UserId = u.Oid AND dh.[Date] BETWEEN @FromDate AND @ToDate) as Holidays\\n\\tFROM\\n\\t\\t[User] u\\n\\tWHERE\\n\\t\\tu.Company = @CompanyId\\n),\\nUsersHours AS\\n(\\n\\tSELECT\\n\\t\\tdt.Department,\\n\\t\\tdt.UserTypologyGroup,\\t\\n\\t\\tdt.[UserId],\\n\\t\\tdt.[User],\\n\\t\\tSUM(dt.ActualTime) AS [Hours],\\n\\t\\tSUM(dt.AdministrativeTime) AS [AdministrativeHours],\\n\\t\\tSUM(ISNULL(dt.InternalWorkTime, 0.0)) AS [InternalWorkHours],\\n\\t\\tSUM(dt.NewBusinessTime) AS [NewBusinessHours],\\n\\t\\tSUM(dt.BillableTime) AS [BillableHours],\\n\\t\\tSUM(ISNULL(dt.BillableTime, 0.0) - ISNULL(dt.[InternalWorkTime], 0.0)) as [ClientHours],\\n\\t\\tSUM(ISNULL(dt.[ActualTime] - (dt.[AdministrativeTime] + dt.[NewBusinessTime] + dt.[BillableTime]), 0.0)) as [NonWorkedHours]\\n\\tFROM \\n\\t\\tAnalytics.Timesheet(@CurrentUserId) dt\\n\\tWHERE\\n\\t\\tdt.[Date] BETWEEN @FromDate AND @ToDate\\n\\t\\tAND dt.CompanyId = @CompanyId\\n\\tGROUP BY\\n\\t\\tdt.Department,\\n\\t\\tdt.UserTypologyGroup,\\t\\n\\t\\tdt.[UserId],\\n\\t\\tdt.[User]\\n)\\nSELECT \\n\\tuh.Department,\\n\\tuh.UserTypologyGroup,\\n\\tuh.[User],\\n\\tuh.UserId,\\n\\tuh.[Hours],\\n\\tuh.AdministrativeHours,\\n\\tuh.InternalWorkHours,\\n\\tuh.NewBusinessHours,\\n\\tuh.BillableHours,\\n\\tuh.ClientHours,\\n\\tuh.NonWorkedHours,\\n\\tuc.WorkingHours AS Capacity,\\n\\tuc.Leaves AS Leaves,\\n\\tIIF(uc.WorkingHours > 0, ISNULL(uh.[BillableHours], 0.0) / uc.WorkingHours, 1.0) as UtilizationPercentage,\\n\\tIIF(uc.WorkingHours > 0, ISNULL(uh.[NewBusinessHours], 0.0) / uc.WorkingHours, 1.0) as UtilizationNonBillablePercentage\\nFROM \\n\\tUsersHours uh,\\n\\tUsersCapacity uc\\nWHERE\\n\\tuh.UserId = uc.UserId\\n\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\",\"companyId\"]}}]",
      "DashboardComponentType": {
        "Id": "1146a3e4-a230-433c-aef4-84b4b3b1a80d",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "globalQuery/Analytics_Utilization_Per_Company_Department_User/execute",
      "Configuration": "{\n  \"headerFilter\": {\n    \"visible\": true\n  },\n  \"grouping\" : {\n    \"autoExpandAll\" : true\n  },\n  \"columnResizingMode\": \"widget\",\n  \"allowColumnResizing\": true,\n  \"allowFiltering\": true,\n  \"columnAutoWidth\": true,\n  \"searchPanel\": {\n    \"visible\": true\n  },\n  \"selection\": {\n    \"mode\": \"single\"\n  },\n\"onSelectionChanged\": \"function (selectedItems) {\n            var data = selectedItems.selectedRowsData[0];\n            if(data) {\n                SkillsWorkflow.setDashboardFilter('userId', data.UserId);\n          }\n  }\",\n  \"height\": 300,\n  \"scrolling\": {\n    \"mode\": \"virtual\"\n  },\n  \"columnMinWidth\": 80,\n  \"columns\": [\n    {\n      \"dataField\": \"Department\",\n      \"caption\": \"Department\",\n      \"width\": 120,\n      \"groupIndex\": 0\n    },\n    {\n      \"dataField\": \"UserTypologyGroup\",\n      \"name\": \"Typology Group\",\n      \"caption\": \"Typology\",\n      \"width\": 120\n    },\n    {\n      \"dataField\": \"User\",\n      \"name\": \"User\",\n      \"caption\": \"User\",\n      \"width\": 120\n    },\n    {\n      \"dataField\": \"UserId\",\n      \"name\": \"Picture\",\n      \"caption\": \"Picture\",\n      \"width\": 30,\n      \"alignment\": \"left\",\n      \"cellTemplate\": \"function(e, i) {\n        console.log(i.text);\n        console.log(i.data.User);\n        SK.showImage(e, 'user', 'small', i.text, i.data.User); }\"\n    },\n    {\n      \"dataField\": \"Capacity\",\n      \"caption\": \"Capacity\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\"\n    },\n    {\n      \"dataField\": \"Leaves\",\n      \"caption\": \"Leaves\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\"\n    },\n    {\n      \"dataField\": \"NewBusinessHours\",\n      \"caption\": \"Non-Billable\",\n      \"name\": \"NonBillable\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\"\n    },\n    {\n      \"dataField\": \"AdministrativeHours\",\n      \"caption\": \"Admin\",\n      \"name\": \"Admin\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\"\n    },\n    {\n      \"dataField\": \"BillableHours\",\n      \"caption\": \"Billable\",\n      \"alignment\": \"right\",\n      \"format\": \"#,##0\"\n    },\n    {\n      \"caption\": \"Utilization\",\n              \"alignment\": \"center\",\n              \"columns\": [\n            {\n              \"dataField\": \"UtilizationNonBillablePercentage\",\n              \"caption\": \"Non Billable %\",\n              \"name\": \"UtilizationNonBillable\",\n              \"alignment\": \"right\",\n              \"format\": \"#,##0\",\n              \"cellTemplate\": \"function(e, i) {\n                  SkillsWorkflow.setRAG(e, (i.value * 100.0).toFixed(1) + '%', i.value >= 1.2, i.value < 0.8, (i.value >= 0.8 && i.value < 1.2), true);\n            }\n              \"\n          },\n          {\n            \"dataField\": \"UtilizationPercentage\",\n            \"caption\": \"Billable %\",\n            \"name\": \"Utilization\",\n            \"alignment\": \"right\",\n            \"format\": \"#,##0\",\n            \"cellTemplate\": \"function(e, i) {\n                  SkillsWorkflow.setRAG(e, (i.value * 100.0).toFixed(1) + '%', i.value >= 1.2, i.value < 0.8, (i.value >= 0.8 && i.value < 1.2), true);\n          }\n              \"\n        }\n      ]\n    }\n  ],\n  \"sortByGroupSummaryInfo\": [\n    {\n      \"summaryItem\": \"count\"\n    }\n  ],\n  \"summary\": {\n    \"totalItems\": [\n      {\n        \"column\": \"Capacity\",\n        \"summaryType\": \"sum\",\n        \"valueFormat\": \"#,##0\",\n        \"displayFormat\": \"{0}\",\n        \"alignment\": \"right\"\n      },\n      {\n        \"column\": \"Leaves\",\n        \"summaryType\": \"sum\",\n        \"valueFormat\": \"#,##0\",\n        \"displayFormat\": \"{0}\",\n        \"alignment\": \"right\"\n      }\n    ]\n  }\n}",
      "DashboardDefinitionId": "7008c8ce-fae8-43ba-8f55-a05f6ac702d8"
    },
    {
      "Id": "d80c7ebf-f9a8-4a2a-b756-49066d6c43b1",
      "Name": "Utiliza??o por Project Type",
      "Active": true,
      "UseQuery": false,
      "Query": null,
      "Size": 6,
      "Order": 4,
      "Parameters": "[{\"WidgetSubTitle\":\"Tempo gasto nos diferentes Project Types\",\"WidgetType\":\"chart\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#dddddd\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":24,\"WidgetYPosition\":8,\"WidgetRows\":16,\"WidgetColumns\":24,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":true,\"metricName\":\"# Planned\",\"metricFieldValue\":\"PlannedTimeGrandTotal\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"\\t\\tSELECT\\t\\r\\n\\t\\t\\tv.ProjectTypeName,\\r\\n\\t\\t\\t(v.[Hours] / IIF(v.[TotalHours] > 0, v.[TotalHours], 1.0)) as UtilizationPercentage\\r\\n\\t\\tFROM\\t\\r\\n\\t\\t(\\r\\n\\t\\t\\tSELECT\\r\\n\\t\\t\\t\\tv.ProjectTypeName,\\t\\r\\n\\t\\t\\t\\tSUM(v.ActualTime) as [Hours],\\r\\n\\t\\t\\t\\tSUM(SUM(v.ActualTime)) OVER () as [TotalHours]\\r\\n\\t\\t\\tFROM\\r\\n\\t\\t\\t\\tAnalytics.Timesheet(@CurrentUserId) v\\r\\n\\t\\t\\tWHERE\\t\\r\\n\\t\\t\\t\\t(1 = 1)\\r\\n\\t\\t\\t\\t/*[DateFilter]*/ AND v.[Date] between @FromDate and @ToDate  /*[/DateFilter]*/\\r\\n\\t\\t\\t\\tAND v.CompanyId = @CompanyId\\r\\n\\t\\t\\tGROUP BY\\r\\n\\t\\t\\t\\tv.ProjectTypeName\\r\\n\\t\\t) v\\r\\n\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\",\"companyId\"]}}]",
      "DashboardComponentType": {
        "Id": "1146a3e4-a230-433c-aef4-84b4b3b1a80d",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "globalQuery/Analytics_Utilization_Totals/execute",
      "Configuration": "{\n  \"commonSeriesSettings\": {\n    \"type\": \"bar\",\n    \"ignoreEmptyPoints\": true,\n    \"cornerRadius\": \"2px\",\n    \"label\": {\n      \"visible\": true,\n      \"showForZeroValues\": false,\n      \"format\": \"percent\"\n    },\n    \"argumentField\": \"ProjectTypeName\",\n    \"valueField\": \"UtilizationPercentage\"\n  },\n  \"size\": {\n    \"height\": 150\n  },\n  \"tooltip\": {\n    \"format\": \"percent\"\n  },\n  \"argumentAxis\": {\n    \"label\": {\n      \"font\": {\n        \"size\": 8\n      }\n    }\n  },\n  \"valueAxis\": {\n    \"label\": {\n      \"format\": \"percent\"\n    }\n  },\n  \"series\": [\n    {\n      \"label\": {\n        \"visible\": false,\n        \"format\": \"percent\"\n      }\n    }\n  ],\n  \"seriesTemplate\": {\n    \"nameField\": \"ProjectTypeName\"\n  },\n  \"legend\": {\n    \"visible\": false,\n    \"horizontalAlignment\": \"left\",\n    \"verticalAlignment\": \"middle\",\n    \"itemTextPosition\": \"right\",\n    \"paddingLeftRight\": 0,\n    \"font\": {\n      \"size\": 8\n    }\n  },\n  \"resolveLabelOverlapping\": \"shift\"\n}",
      "DashboardDefinitionId": "7008c8ce-fae8-43ba-8f55-a05f6ac702d8"
    },
    {
      "Id": "da70eb43-b677-4222-89e0-4f324b53fb44",
      "Name": "Companhia e Grupo de Cliente",
      "Active": true,
      "UseQuery": false,
      "Query": null,
      "Size": 4,
      "Order": 0,
      "Parameters": "[{\"WidgetSubTitle\":\"Escolha a Companhia e Grupo de Cliente\",\"WidgetType\":\"form\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#efefef\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":0,\"WidgetYPosition\":0,\"WidgetRows\":8,\"WidgetColumns\":16,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":false,\"metricName\":\"# Forecast\",\"metricFieldValue\":\"TimeGrandTotal\"},{\"visible\":false,\"metricName\":\"# Actual\",\"metricFieldValue\":\"UtilizationPercentGrandTotal\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"queryempty\",\"value\":\"SELECT 1;\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\"]}}]",
      "DashboardComponentType": {
        "Id": "1146a3e4-a230-433c-aef4-84b4b3b1a80d",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "globalQuery/Analytics_Utilization_Per_Company_Department_User/execute",
      "Configuration": "{\n  \"colCount\": 1,\n  \"formData\": {\n    \"company\": \"Companhia\",\n    \"clientGroup\": \"Client Group\"\n  },\n  \"dataSource\": {\n    \"company\": \"Companhia\",\n    \"clientGroup\": \"Client Group\"\n  },\n  \"items\": [\n    {\n      \"name\": \"Companhia\",\n      \"dataField\": \"Companhia\",\n      \"editorType\": \"dxSelectBox\",\n      \"editorOptions\": {\n        \"searchEnabled\": true,\n        \"dataSource\": {\n                    \"load\": \"function(loadOptions){ var query = 'SELECT c.Oid as Id, c.[Name] FROM Company c ORDER BY c.[Name]'; return SK.executeAPI('POST', 'analytics/query/execute', null, {'query': query, 'parameters': {}}).then(function(res){ return res.Data; }); }\",\n                              \"byKey\": \"function(key) { console.log('byKey'); }\"\n        },\n        \"value\": \"\",\n        \"onValueChanged\": \"function(e){ console.log('Value:' + e.value); if(e.value != null) { SK.setDashboardFilter('companyId', e.value); } }\",\n        \"valueExpr\": \"Id\",\n        \"displayExpr\": \"Name\"\n      },\n      \"noDataText\": \"Please wait...\"\n    },\n    {\n      \"name\": \"Grupo de Cliente\",\n      \"dataField\": \"Grupo de Cliente\",\n      \"editorType\": \"dxSelectBox\",\n      \"editorOptions\": {\n        \"searchEnabled\": true,\n        \"minSearchLength\": 0,\n        \"dataSource\": {\n          \"load\": \"function(loadOptions){ var query = 'SELECT cg.Oid as Id, cg.[Name] FROM CLientGroup cg ORDER BY cg.[Name]'; return SK.executeAPI('POST', 'analytics/query/execute', null, {'query': query, 'parameters': {}}).then(function(res){ return res.Data; }); }\",\n          \"byKey\": \"function(key) { console.log('byKey'); }\"\n        },\n        \"value\": \"\",\n        \"onValueChanged\": \"function(e){ console.log('Value:' + e.value); if(e.value != null) { SK.setDashboardFilter('clientGroupId', e.value); } }\",\n        \"valueExpr\": \"Id\",\n        \"displayExpr\": \"Name\"\n      },\n      \"noDataText\": \"Please wait...\"\n    }\n  ],\n  \"height\": 72\n}",
      "DashboardDefinitionId": "7008c8ce-fae8-43ba-8f55-a05f6ac702d8"
    },
    {
      "Id": "f7ee67bb-8035-4145-a733-c48b92ceddff",
      "Name": "Utiliza??o por Cliente ",
      "Active": true,
      "UseQuery": false,
      "Query": null,
      "Size": 6,
      "Order": 3,
      "Parameters": "[{\"WidgetSubTitle\":\"Tempo gasto em Clientes por Companhia\",\"WidgetType\":\"chart\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#dddddd\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":0,\"WidgetYPosition\":8,\"WidgetRows\":16,\"WidgetColumns\":24,\"WidgetHeader\":{\"showContextInfo\":false,\"WidgetPeriodChooser\":{\"type\":\"year\",\"visible\":false},\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[{\"visible\":true,\"metricName\":\"# Planned\",\"metricFieldValue\":\"PlannedTimeGrandTotal\"}]},\"showSubTitle\":true,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"querytext\",\"value\":\"\\t\\tSELECT\\t\\r\\n\\t\\t\\tv.Client,\\r\\n\\t\\t\\t(v.[Hours] / IIF(v.[TotalHours] > 0, v.[TotalHours], 1.0)) as UtilizationPercentage\\r\\n\\t\\tFROM\\t\\r\\n\\t\\t(\\r\\n\\t\\t\\tSELECT\\r\\n\\t\\t\\t\\tv.Client,\\t\\r\\n\\t\\t\\t\\tSUM(v.ActualTime) as [Hours],\\r\\n\\t\\t\\t\\tSUM(SUM(v.ActualTime)) OVER () as [TotalHours]\\r\\n\\t\\t\\tFROM\\r\\n\\t\\t\\t\\tAnalytics.Timesheet(@CurrentUserId) v\\r\\n\\t\\t\\tWHERE\\t\\r\\n\\t\\t\\t\\tv.CompanyId = @CompanyId\\r\\n\\t\\t\\t\\t/*[DateFilter]*/ AND v.[Date] between @FromDate and @ToDate  /*[/DateFilter]*/\\r\\n\\t\\t\\tGROUP BY\\r\\n\\t\\t\\t\\tv.Client\\r\\n\\t\\t) v\\r\\n\\t\\torder by (v.[Hours] / IIF(v.[TotalHours] > 0, v.[TotalHours], 1.0)) desc\\r\\n\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"RequiredFilters\":[\"startDate\",\"endDate\",\"companyId\"]}}]",
      "DashboardComponentType": {
        "Id": "1146a3e4-a230-433c-aef4-84b4b3b1a80d",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "globalQuery/Analytics_Utilization_Totals/execute",
      "Configuration": "{\n  \"commonSeriesSettings\": {\n    \"type\": \"bar\",\n    \"ignoreEmptyPoints\": true,\n    \"cornerRadius\": \"2px\",\n    \"label\": {\n      \"visible\": true,\n      \"showForZeroValues\": false,\n      \"format\": \"percent\"\n    }\n  },\n  \"size\": {\n    \"height\": 150\n  },\n  \"tooltip\": {\n    \"format\": \"percent\"\n  },\n  \"argumentAxis\": {\n    \"label\": {\n      \"font\": {\n        \"size\": 8\n      }\n    }\n  },\n  \"valueAxis\": {\n    \"label\": {\n      \"format\": \"percent\"\n    }\n  },\n  \"series\": [\n    {\n      \"name\":\"Client\",\n      \"argumentField\": \"Client\",\n      \"valueField\": \"UtilizationPercentage\",\n      \"label\": {\n        \"visible\": false,\n        \"format\": \"percent\"\n      }\n    }\n  ],\n  \"legend\": {\n    \"visible\": false,\n    \"horizontalAlignment\": \"left\",\n    \"verticalAlignment\": \"middle\",\n    \"itemTextPosition\": \"right\",\n    \"paddingLeftRight\": 0,\n    \"font\": {\n      \"size\": 8\n    }\n  },\n  \"resolveLabelOverlapping\": \"shift\",\n  \"dataPrepareSettings\": {\n    \"sortingMethod\": false\n  }\n}",
      "DashboardDefinitionId": "7008c8ce-fae8-43ba-8f55-a05f6ac702d8"
    },
    {
      "Id": "90525ff0-5ecb-41a4-bd4d-d058c26e77a1",
      "Name": "Selector de Periodo",
      "Active": true,
      "UseQuery": false,
      "Query": null,
      "Size": 8,
      "Order": 2,
      "Parameters": "[{\"WidgetSubTitle\":\"Closed and In Progress Tickets\",\"WidgetType\":\"rangeselector\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#efefef\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":16,\"WidgetYPosition\":0,\"WidgetRows\":8,\"WidgetColumns\":32,\"WidgetHeader\":{\"WidgetPeriodChooser\":{\"startDate\":\"2019-01-01\",\"endDate\":\"2019-12-31\",\"type\":\"year\",\"visible\":false},\"showSubTitle\":false,\"showTitle\":true},\"WidgetDataSources\":{\"main\":{\"type\":\"queryText\",\"value\":\"SELECT\\r\\n\\tSUM(v.[Hours]) as [Hours],\\r\\n\\tv.[Month]\\r\\nFROM\\r\\n(\\r\\n\\tSELECT \\r\\n\\t\\tSUM(v.ActualTime) as [Hours],\\r\\n\\t\\tDATEFROMPARTS(v.[Year], v.[Month], 1) as [Month]\\r\\n\\tFROM\\r\\n\\t\\tAnalytics.Timesheet(@CurrentUserId) v\\r\\n\\tWHERE\\t\\r\\n\\t\\tv.[Date] between DateAdd(mm, -12, getdate()) and getdate()\\r\\n\\tGROUP BY\\r\\n\\t\\tDATEFROMPARTS(v.[Year], v.[Month], 1)\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tSUM(v.[Hours]) as [Hours],\\r\\n\\t\\tDATEFROMPARTS(v.[Year], v.[Month], 1) as [Month]\\r\\n\\tFROM\\r\\n\\t\\tAnalytics.Leave(@CurrentUserId) v\\r\\n\\tWHERE\\t\\r\\n\\t\\tv.[Date] between DateAdd(mm, -12, getdate()) and getdate()\\r\\n\\tGROUP BY\\r\\n\\t\\tDATEFROMPARTS(v.[Year], v.[Month], 1)\\r\\n\\tUNION ALL\\r\\n\\tSELECT \\r\\n\\t\\tSUM(v.[Hours]) as [Hours],\\r\\n\\t\\tDATEFROMPARTS(v.[Year], v.[Month], 1) as [Month]\\r\\n\\tFROM\\r\\n\\t\\tAnalytics.Holiday(@CurrentUserId) v\\r\\n\\tWHERE\\t\\r\\n\\t\\tv.[Date] between DateAdd(mm, -12, getdate()) and getdate()\\r\\n\\tGROUP BY\\r\\n\\t\\tDATEFROMPARTS(v.[Year], v.[Month], 1)\\r\\n) v\\r\\nGROUP BY\\r\\n\\tv.[Month]\\r\\n\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{}}]",
      "DashboardComponentType": {
        "Id": "1146a3e4-a230-433c-aef4-84b4b3b1a80d",
        "Name": "Generic Dashboard",
        "ComponentTypeNumber": 42
      },
      "AnalyticsApiUrl": "globalQuery/Analytics_Utilization_Range_Selector/execute",
      "Configuration": "{\n  \n \"size\": {\n  \"height\": 100\n},\n  \"containerBackgroundColor\":\"#e0e0e0\",\n  \"selectedRangeColor\": \"#f5564a\",\n  \"chart\": {\n    \"commonSeriesSettings\": {\n      \"type\": \"steparea\",\n      \"argumentField\": \"Month\"\n    },\n    \"series\": [\n      {\n        \"valueField\": \"Hours\"\n      }\n    ]\n  },\n  \"scale\": {\n    \"minorTickInterval\": \"month\",\n    \"tickInterval\": \"month\",\n    \"valueType\": \"datetime\"\n  },\n  \"sliderMarker\": {\n    \"format\": \"monthAndDay\",\n    \"color\": \"#da5859\"\n  },\n  \"value\": {\n    \"startValue\": \"2019-01-01\",\n    \"endValue\": \"2019-02-01\",\n    \"length\": {\n      \"months\": 1\n    }\n  }\n}",
      "DashboardDefinitionId": "7008c8ce-fae8-43ba-8f55-a05f6ac702d8"
    }
  ],
  "QueryText": null,
  "UseStore": false,
  "StoreEntity": null,
  "Version": 1,
  "Default": false
}
