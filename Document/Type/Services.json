{"DashboardDefinitionRoles":[],"Id":"b09647f2-77ff-4dbf-b347-001b35488b96","Name":"Services","Active":true,"Location":1,"DocumentId":"00000000-0000-0000-0000-000000000000","DocumentName":"","DocumentTypeName":"jobtype","DocumentsConfiguration":"[\n    {\n        \"entity\": \"\",\n        \"operations\": {\n            \"read\": {\n                \"endpoint\": \"\"\n            },\n            \"update\": {\n                \"endpoint\": \"\",\n                \"model\": {}\n            },\n            \"create\": {\n                \"endpoint\": \"\",\n                \"model\": {}\n            },\n            \"patch\": {\n                \"endpoint\": \"\",\n                \"model\": [\n                    {\n                        \"field\": \"\",\n                        \"caption\": \"\",\n                        \"type\": \"\"\n                    }\n                ]\n            },\n            \"remove\": {\n                \"endpoint\": \"\"\n            },\n            \"lookup\": {\n                \"endpoint\": \"\"\n            },\n            \"lookupById\": {\n                \"endpoint\": \"\"\n            }\n        },\n        \"layout\": {\n            \"create\": {},\n            \"read\": {},\n            \"patch\": {}\n        },\n        \"customDocument\": {\n            \"useCustomStyle\": false,\n            \"mainColor\": \"\",\n            \"secondaryColor\": \"\",\n            \"imageClass\": \"\",\n            \"namePlural\": \"\",\n            \"name\": \"\",\n            \"systemName\": \"\"\n        },\n        \"availableOptions\": {\n            \"feed\": false,\n            \"info\": true,\n            \"files\": false,\n            \"userfields\": false,\n            \"dashboard\": false\n        },\n        \"fields\": []\n    }\n]","Templates":[],"DashboardDefinitionComponents":[{"Id":"ef5837f1-8129-4bfe-9f0b-b2cba844a014","Name":"","Active":true,"UseQuery":false,"Query":"","Size":12,"Order":0,"Parameters":"[{\"WidgetSubTitle\":\"\",\"WidgetType\":\"association\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetFrameStyle\":{\"padding\":\"9px 7px 0px 8px\"},\"WidgetXPosition\":0,\"WidgetYPosition\":0,\"WidgetRows\":37,\"WidgetColumns\":48,\"WidgetHeader\":{\"showTitle\":false,\"showSubTitle\":false,\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"queryempty\",\"value\":\"{\\\"entities\\\":[{\\\"name\\\":\\\"\\\"}],\\\"fields\\\":[]}\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[]}}]","DashboardComponentType":{"Id":"3c1da83b-efe9-4b70-87d0-c3813a512774","Name":"Generic Dashboard","ComponentTypeNumber":42},"AnalyticsApiUrl":"","Configuration":"{\n    \"entity\": \"jobtype\",\n    \"grid\": {\n        \"call\": \"function getCall(entityId) {\\n    return 'job-types/' + entityId +'/job-type-services'\\n}\",\n        \"mapper\": \"function mapper(response, entityId) {\\n    return {\\n        Id: response.ServiceId,\\n        Name: response.ServiceName,\\n        ImageId: null,\\n        ImageName: null,\\n        Info1: response.SupplierName,\\n        Info2: null\\n    }\\n}\"\n    },\n    \"link\": {\n        \"call\": \"function getCall(item, entityId) {\\n    return 'job-type-services'\\n}\",\n        \"model\": \"function getPostModel(item, entityId){\\n    return {\\n        JobTypeId: entityId,\\n        ServiceId: item.Id\\n    }\\n}\"\n    },\n    \"selectbox\": {\n        \"call\": \"function getCall(entityId) {\\n    return 'articles/lookup'\\n}\",\n        \"mapper\": \"function mapper(response, entityId) {\\n    return {\\n        Id: response.Id,\\n        Name: response.Name,\\n        ImageId: null,\\n        ImageName: null,\\n        Info1: response.ArticleGroupName,\\n        Info2: null\\n    }\\n}\"\n    },\n    \"unlink\": {\n        \"call\": \"function getCall(item, entityId) {\\n    return 'job-type-services/' + item.Data.Id\\n}\"\n    },\n    \"entityAssociation\": \"services\",\n    \"form\": {\n        \"call\": \"function putCall(item, entityId){\\n    return 'job-type-services/' + item.Data.Id\\n}\",\n        \"model\": \"function getPutModel(item, entityId){\\n    return {\\n        JobTypeId: entityId,\\n        ServiceId: item.Data.ServiceId,\\n        SupplierId: item.Data.SupplierId,\\n        //Quantity: item.Data.Quantity,\\n        UnitCost: item.Data.UnitCost  \\n    }\\n}\",\n        \"layout\": {\n            \"colCount\": \"2\",\n            \"items\": [\n                {\n                    \"dataField\": \"SupplierId\",\n                    \"label\": {\n                        \"text\": \"Supplier\"\n                    },\n                    \"editorType\": \"dxSelectBox\",\n                    \"editorOptions\": {\n                        \"searchEnabled\": true,\n                        \"dataSource\": {\n                            \"load\": \"function (loadOptions) {                                var searchValue = (loadOptions.searchValue != null ? loadOptions.searchValue : '');                                var skip = loadOptions.skip || 0;                                var take = loadOptions.take || 20;                                var param = {                                    name: searchValue, skip: skip, take: take                                };                          var company = SW.getCurrentUserInfo().currentUserCompanyId ;                                return SW.executeAPI('GET', 'companies/' + company + '/suppliers/lookup', param,                                {}).then(result => { return Promise.resolve(result);                                })                            }\",\n                            \"byKey\": \"function (key) {      if (key !== '00000000-0000-0000-0000-000000000000')                   return SW.executeAPI('GET', 'suppliers/' + key + '/lookup',                                null,                                {}).then(result => { return Promise.resolve(result);                                });                            }\"\n                        },\n                        \"displayExpr\": \"Name\",\n                        \"valueExpr\": \"Id\"\n                    }\n                },\n                {\n                    \"dataField\": \"UnitCost\",\n                    \"editorType\": \"dxNumberBox\"\n                }\n            ]\n        }\n    }\n}","DashboardDefinitionId":"b09647f2-77ff-4dbf-b347-001b35488b96"}],"QueryText":"","UseStore":false,"StoreEntity":null}