{
    "DashboardDefinitionRoles": [],
    "Id": "93dcbb50-f6d5-42f2-8aef-ad6d02434fb7",
    "Name": "Proofing",
    "Active": true,
    "Location": 1,
    "DocumentId": "00000000-0000-0000-0000-000000000000",
    "DocumentName": "",
    "DocumentTypeName": "job",
    "DocumentsConfiguration": "[\n    {\n        \"entity\": \"Proofing\",\n        \"operations\": {\n            \"read\": {\n                \"endpoint\": \"\"\n            },\n            \"update\": {\n                \"endpoint\": \"\",\n                \"model\": {}\n            },\n            \"create\": {\n                \"endpoint\": \"\",\n                \"model\": {}\n            },\n            \"patch\": {\n                \"endpoint\": \"\",\n                \"model\": [\n                    {\n                        \"field\": \"\",\n                        \"caption\": \"\",\n                        \"type\": \"\"\n                    }\n                ]\n            },\n            \"remove\": {\n                \"endpoint\": \"\"\n            },\n            \"lookup\": {\n                \"endpoint\": \"\"\n            },\n            \"lookupById\": {\n                \"endpoint\": \"\"\n            }\n        },\n        \"layout\": {\n            \"create\": {},\n            \"read\": {},\n            \"patch\": {}\n        },\n        \"customDocument\": {\n            \"useCustomStyle\": false,\n            \"mainColor\": \"red\",\n            \"secondaryColor\": \"red\",\n            \"imageClass\": \"\",\n            \"namePlural\": \"Proofing\",\n            \"name\": \"Proofing\",\n            \"systemName\": \"Proofing\"\n        },\n        \"availableOptions\": {\n            \"feed\": false,\n            \"info\": true,\n            \"files\": false,\n            \"userfields\": false,\n            \"workspaces\": false\n        },\n        \"fields\": []\n    }\n]",
    "Templates": [],
    "DashboardDefinitionComponents": [
        {
            "Id": "82d8ef8b-c0a5-49d8-aae7-7d26f43201c0",
            "Name": "",
            "Active": true,
            "UseQuery": false,
            "Query": "",
            "Size": 12,
            "Order": 0,
            "Parameters": "[{\"WidgetSubTitle\":\"\",\"WidgetType\":\"tileview\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetFrameStyle\":{},\"WidgetXPosition\":0,\"WidgetYPosition\":0,\"WidgetRows\":23,\"WidgetColumns\":38,\"WidgetHeader\":{\"showTitle\":false,\"showSubTitle\":false,\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"queryempty\",\"value\":\"\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[]}}]",
            "DashboardComponentType": {
                "Id": "be9c4895-90b8-4755-9054-caa7770b6a09",
                "Name": "Generic Dashboard",
                "ComponentTypeNumber": 42
            },
            "AnalyticsApiUrl": "",
            "Configuration": "{\"dataSource\":{\"load\":\"function (e){            \\n\\n    var noData = [];\\n    var jobId = window.location.href.split(\u0027/\u0027)[5];\\n\\n    \\n    SW.saveComponent(noData, \u0027plink2\u0027);\\n              \\n    async function getJobIdProofs(jobId) {  \\n        jobId = \u0027951366ff-9136-43d4-bd48-651dbace2bc9\u0027;\\n        var job = await SW.executeAPI(\u0027GET\u0027, \u0027/jobs/\u0027 + jobId);\\n        \\n        var jobNumber = job.Job.Number;\\n        \\n        var requestBody = {                        \\n            \u0027custom_properties\u0027: [                                                 \\n                {                                                     \\n                    \u0027id\u0027:\u0027a999f367-70fb-4906-977c-fc6bc0614b7b\u0027,                                                     \\n                    \u0027value\u0027: jobNumber                                                                    \\n                }                                                           \\n            ]                                                \\n        };                \\n        let response = await fetch(\u0027https://cors-anywhere.herokuapp.com/https://api.ziflow.io/v1/proofs/search\u0027,                                       \\n                                {                                                                        \\n                                    method: \u0027POST\u0027,                                                                                    \\n                                    headers: {                                                                                                    \\n                                        \u0027Authorization\u0027: \u0027KeyInBasicAuthFromZiflow\u0027,                                                                                                    \\n                                        \u0027x-requested-with\u0027: \u0027xhr\u0027,                                                                                                   \\n                                        \u0027content-type\u0027:\u0027application/json\u0027                                                        \\n                                        },                                                                                    \\n                                    body: JSON.stringify(requestBody)                                                 \\n                                });                   \\n        console.log(response.ok);                \\n        if (response.ok) {                                                                                 \\n            let json = await response.json();                                                                \\n            console.log(json);                            \\n                return json.proofs;                               \\n        }                                                     \\n        else {                                                                         \\n            alert(\\\"HTTP-Error: \\\" + response.status);                                                \\n        }                        \\n           return json.proofs;\\n    }\\n    return getJobIdProofs(jobId);            \\n}\"},\"onRowClick\":\"function (e){ SW.saveComponent(e.data.public_link,\u0027plink2\u0027);    SW.setDashboardFilter(\u0027plink\u0027,e.data.public_link); }\",\"itemTemplate\":\"function(itemData, itemIndex, itemElement) {\\n    if (itemData != null) {\\n        var h = document.createElement(\u0027div\u0027);\\n        itemElement.append(h);\\n        SW.setAttribute(h, null, \u0027class\u0027, \u0027file-container\u0027, false);\\n        SW.setAttribute(h, null, \u0027style\u0027, \u0027text-align: center;width: 135px;\u0027, false);\\n        var h1 = document.createElement(\u0027div\u0027);\\n        h.append(h1);\\n        SW.setAttribute(h1, null, \u0027style\u0027, \u0027background-color: #e0e0e0; border-radius: 4px; height:100px; display: flex; align-items : center; justify-content: center;\u0027, false);\\n        var g1 = document.createElement(\u0027div\u0027);\\n        h.append(g1);\\n        SW.setAttribute(g1, null, \u0027style\u0027, \u0027color: #acacac; text-align: left;\u0027, false);\\n        SW.setAttribute(g1, null, \u0027class\u0027, \u0027ellipsis\u0027, false);\\n        g1.innerHTML = itemData.name;\\n        var h2 = document.createElement(\u0027img\u0027);\\n        h2.src = itemData.thumbnail_link;\\n        h1.appendChild(h2);\\n        SW.setAttribute(h2, null, \u0027style\u0027, \u0027max-width: 100%;max-height:100%\u0027, false);\\n        var j1 = document.createElement(\u0027div\u0027);\\n        SW.setAttribute(j1, null, \u0027style\u0027, \u0027display: flex; justify-content: space-between;\u0027, false);\\n        h.append(j1);\\n        var j3 = document.createElement(\u0027div\u0027);\\n        j1.append(j3);\\n        j3.innerHTML = \u0027v\u0027 + itemData.version;\\n        SW.setAttribute(j3, null, \u0027style\u0027, \u0027color: #acacac;\u0027, false);\\n        \\n        var j4 = document.createElement(\u0027div\u0027);\\n        j1.append(j4);\\n        SW.setAttribute(j4, null, \u0027style\u0027, \u0027display:flex\u0027, false);\\n        SW.setAttribute(j4, null, \u0027id\u0027, \u0027image-thumbnail\u0027, false);\\n        var jh1 = document.createElement(\u0027div\u0027);\\n        j4.append(jh1);\\n        var jh2 = document.createElement(\u0027div\u0027);\\n        j4.append(jh2);\\n        SW.setAttribute(jh2, null, \u0027style\u0027, \u0027margin: -2px 0px 0px 5px;\u0027, false);\\n        var jh3 = document.createElement(\u0027span\u0027);\\n        //j4.append(jh3);\\n        SW.setAttribute(jh3, null, \u0027style\u0027, \u0027margin: -2px 0px 0px 5px;\u0027, false);\\n        if (itemData.decision_status == \u0027approved_with_changes\u0027) {\\n            h2.innerHTML = \u0027 Approved with changes\u0027;\\n            SW.setAttribute(jh1, null, \u0027class\u0027, \u0027fa fa-check-circle text-success\u0027, false);\\n        } else {\\n            if (itemData.status == \u0027in_progress\u0027) {\\n                jh2.innerHTML = \u0027 In Progress\u0027;\\n                SW.setAttribute(jh1, null, \u0027class\u0027, \u0027fa fa-clock-o text-warning\u0027, false);\\n            }\\n            if (itemData.status == \u0027completed\u0027) {\\n                jh2.innerHTML = \u0027 Completed\u0027;\\n                SW.setAttribute(jh1, null, \u0027class\u0027, \u0027fa fa-flag-checkered\u0027, false);\\n            }\\n        }\\n        var a = itemData.stages;\\n        a.forEach(function (entry) {\\n            var deadline = \u0027\u0027;\\n            if (entry.deadline != null \u0026\u0026 new Date(entry.deadline) \u003c new Date() \u0026\u0026 deadline == \u0027\u0027) {\\n                console.log(entry.deadline);\\n                deadline = entry.deadline;\\n                jh3.innerHTML = \u0027LATE\u0027;\\n                SW.setAttribute(jh3, null, \u0027class\u0027, \u0027module-tags module-tags-dot module-tags-text\u0027, false);\\n                SW.setAttribute(jh3, null, \u0027style\u0027, \u0027margin: -8px 0px 0px 5px;background: #FF605C;\u0027, false)\\n            }\\n        });\\n        var j5 = document.createElement(\u0027span\u0027);\\n        j1.append(j5);\\n        \\n    };\\n}\",\"stateStoring\":{\"enabled\":false},\"onItemClick\":\"function (e) { \\n    var id = \u0027b70e1a00-3f43-45ab-bb04-04ba1e34e254\u0027; \\n    //SW.genericPreview(\u0027951366ff-9136-43d4-bd48-651dbace2bc9\u0027,\u0027Job\u0027,\u0027deliverable\u0027);\\n    debugger;\\n    SW.genericPopup(\u0027automation\u0027, [{ Id: id, Title: \u0027Proofing\u0027 }], e.itemData, \u002790%\u0027, \u002790%\u0027, false) ;\\n}\",\"baseItemHeight\":\"150\",\"baseItemWidth\":\"135\",\"width\":\"1500\",\"direction\":\"horizontal\",\"showScrollbar\":true,\"height\":\"200\",\"onItemContextMenu\":\"function(e) {\\n    fetch(\u0027https://cors-anywhere.herokuapp.com/https://api.ziflow.io/v1/proofs/\u0027 + e.itemData.id + \u0027/proof-url?oneTimeUrl=true\u0027, {\\n        method: \u0027GET\u0027,\\n        headers: {\\n            \u0027Authorization\u0027: \u0027KeyInBasicAuthFromZiflow\u0027\\n        }\\n    }).then(response =\u003e response.json()).then(x =\u003e {\\n        debugger;\\n        if (x.status != null \u0026\u0026 x.status != 200) { \\n            SW.Toastr.toastr_Error(x.error + \u0027 - \u0027 + x.message) \\n        }\\n        else { \\n\\n            var aux = document.createElement(\\\"textarea\\\");\\n            document.body.appendChild(aux);\\n            aux.value = x.proof_url;\\n            aux.select();\\n            document.execCommand(\\\"copy\\\");\\n            document.body.removeChild(aux); \\n            SW.Toastr.toastr_Success(\u0027One-Time URL copied successfully.\u0027) \\n        }\\n    });\\n}\"}",
            "DashboardDefinitionId": "93dcbb50-f6d5-42f2-8aef-ad6d02434fb7"
        }
    ],
    "QueryText": "",
    "UseStore": false,
    "StoreEntity": null,
    "Version": 6,
    "Default": false
}