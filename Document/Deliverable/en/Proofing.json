{
    "DashboardDefinitionRoles": [],
    "Id": "e57f1f73-9591-4a6c-bee5-08f64f3f42ad",
    "Name": "Proofing",
    "Active": true,
    "Location": 1,
    "DocumentId": "d2720e5e-bd54-4b1e-a28d-1f0e350a975b",
    "DocumentName": "Deliverable",
    "DocumentsConfiguration": null,
    "Templates": [],
    "DashboardDefinitionComponents": [
        {
            "Id": "836a099e-5bad-4364-a382-6cd619a425e8",
            "Name": "",
            "Active": true,
            "UseQuery": false,
            "Query": "",
            "Size": 12,
            "Order": 0,
            "Parameters": "[{\"WidgetSubTitle\":\"\",\"WidgetType\":\"grid\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"\",\"WidgetHeight\":100,\"WidgetHeader\":{\"showTitle\":false,\"showSubTitle\":false,\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"queryempty\",\"value\":\"\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[]}}]",
            "DashboardComponentType": {
                "Id": "3c1da83b-efe9-4b70-87d0-c3813a512774",
                "Name": "Generic Dashboard",
                "ComponentTypeNumber": 42
            },
            "AnalyticsApiUrl": "",
            "Configuration": "{\n    \"dataSource\": {\n        \"load\": \"function abc(a,b,c ){var jobNumber = '123';async function bla (jobNumber) {var requestBody = {'custom_properties': [                    {'id':'a999f367-70fb-4906-977c-fc6bc0614b7b','value': jobNumber                    }                ]            };let response =  await fetch('https://cors-anywhere.herokuapp.com/https://api.ziflow.io/v1/proofs/search',   {                                method: 'POST',                                            headers: {                                                        'Authorization': 'KeyInBasicAuthFromZiflow',                                                        'x-requested-with': 'xhr',                                                        'content-type':'application/json'                },                                            body: JSON.stringify(requestBody)            });   console.log(response.ok);if (response.ok) {                                                             let json = await response.json();                                            console.log(json);        return json.proofs;            }                                 else   {                                          alert(\\\"HTTP-Error: \\\" + response.status);                    }    return json.proofs;        }                return bla(jobNumber);    }\"\n    },\n    \"onRowClick\": \"function(e){ SW.saveComponent(e.data.public_link,'plink2');    SW.setDashboardFilter('plink',e.data.public_link); }\",\n    \"columns\": [\n        {\n            \"dataField\": \"\",\n            \"minWidth\": \"70px\",\n            \"cellTemplate\": \"function (e,i){ var h =document.createElement('div');              e.append(h);              SW.setAttribute(h, null,'class','file-container',false);   SW.setAttribute(h, null,'style','text-align: center;min-height: 70px;',false);          var h1 = document.createElement('img');                                               h1.src=i.data.thumbnail_link;                                                 h.appendChild(h1);             SW.setAttribute(h1, null,'style','max-width: 100%;max-height: 74px;',false);                  }\"\n        },\n        {\n            \"dataField\": \"name\",\n            \"cellTemplate\": \"function (e,i){                                                var h =document.createElement('div');                                                  e.append(h);                                                SW.setAttribute(h, null,'style','display:flex',false);                                                var h1 = document.createElement('div');                                                h.append(h1);                                                h1.innerHTML = 'V'+i.data.version;                        SW.setAttribute(h1,                null,'class','module-tags module-tags-dot module-tags-text',false);                                                        var h2 = document.createElement('div');                                                h.append(h2);                       SW.setAttribute(h2,  null,'style','margin: 10px 0px 0px 5px;',false);                                h2.innerHTML = i.data.name;                                                                       }\"\n        },\n        {\n            \"dataField\": \"status\",\n            \"cellTemplate\": \"function (e,i){                                                                var h =document.createElement('div');                                                                e.append(h);                                                                SW.setAttribute(h, null,'style','display:flex',false);                                                                var h1 = document.createElement('div');                                                                  h.append(h1);                                                                      var h2 = document.createElement('div');                                                                       h.append(h2);                                                                       SW.setAttribute(h2,  null,'style','margin: -2px 0px 0px 5px;',false);                                                         var h3 = document.createElement('span');                                                                       h.append(h3);                                                SW.setAttribute(h3,null,'style','margin: -2px 0px 0px 5px;',false);                                                                       if(i.data.decision_status == 'approved_with_changes')                            {h2.innerHTML = ' Approved with changes';                                                SW.setAttribute(h1,  null,'class','fa fa-check-circle text-success',false);                            }                                         else {                        if (i.data.status == 'in_progress')                                                                {h2.innerHTML = ' In Progress';                                                SW.setAttribute(h1, null,'class','fa fa-clock-o text-warning',false);                                                }                                            if (i.data.status == 'completed')                                                            {h2.innerHTML = ' Completed';                                            SW.setAttribute(h1, null,'class','fa fa-flag-checkered',false);                                            }  }                                                                                                      var a = i.data.stages;                            a.forEach(function(entry) {                var bla ='';                if(entry.deadline != null && new Date(entry.deadline) < new Date() && bla == '')                {                    console.log(entry.deadline);                    bla = entry.deadline;                 debugger;   h3.innerHTML = 'LATE'; SW.setAttribute(h3, null,'class','module-tags module-tags-dot module-tags-text',false);SW.setAttribute(h3, null,'style','margin: -8px 0px 0px 5px;background: #FF605C;',false)                }                    }                    );                }\"\n        },\n        {\n            \"dataField\": \"created_at\",\n            \"dataType\": \"date\",\n            \"format\": \"E, MMM d yyyy, h:mm a\"\n        }\n    ],\n    \"height\": \"500px\",\n    \"groupPanel\": {\n        \"visible\": false\n    },\n    \"selection\": {\n        \"mode\": \"single\"\n    }\n}",
            "DashboardDefinitionId": "e57f1f73-9591-4a6c-bee5-08f64f3f42ad"
        },
        {
            "Id": "be2e8a14-79fe-467e-8984-de596b338fb6",
            "Name": "Proofing",
            "Active": true,
            "UseQuery": false,
            "Query": "",
            "Size": 12,
            "Order": 0,
            "Parameters": "[{\"WidgetSubTitle\":\"\",\"WidgetType\":\"form\",\"WidgetFilterField\":\"\",\"WidgetColor\":\"#e0e0e0\",\"WidgetHeight\":100,\"WidgetHeader\":{\"showTitle\":false,\"showSubTitle\":false,\"WidgetMetrics\":{\"visible\":false,\"Metrics\":[]},\"WidgetPeriodChooser\":{\"visible\":false,\"type\":\"\",\"startDate\":null,\"endDate\":null}},\"WidgetDataSources\":{\"main\":{\"type\":\"queryempty\",\"value\":\"\",\"mapping\":\"\"}},\"Filters\":{},\"QueryConfiguration\":{\"PreviousPeriod\":{\"Show\":false,\"KeyFieldName\":\"\",\"Type\":0},\"RequiredFilters\":[\"plink\"]}}]",
            "DashboardComponentType": {
                "Id": "3c1da83b-efe9-4b70-87d0-c3813a512774",
                "Name": "Generic Dashboard",
                "ComponentTypeNumber": 42
            },
            "AnalyticsApiUrl": "",
            "Configuration": "{\n    \"size\": \"900px\",\n    \"items\": [\n        {\n            \"template\": \"function  (a, itemElement, element, model) {   \n                 debugger;\n                 var source = SW.getComponent('plink2');    \n                 if (source != null)\n                 {                             \n                    var iFrame = document.createElement('iframe');                \n                    SW.setAttribute(iFrame,\n                null,'style','height: 850px;width: 100%;border: 1px solid #eee;border-radius: 8px;',false);               \n                    itemElement.append(iFrame);       \n\n                    debugger;\n                    iFrame.src = source;\n            }\n        }\"\n    }\n]\n}",
            "DashboardDefinitionId": "e57f1f73-9591-4a6c-bee5-08f64f3f42ad"
        }
    ]
}